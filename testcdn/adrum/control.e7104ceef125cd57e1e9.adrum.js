"use strict";(self.webpackChunk_appd_js_agent_client=self.webpackChunk_appd_js_agent_client||[]).push([[914],{626:function(e,t,r){r.d(t,{G:function(){return o},P:function(){return n}});var n=function(){function e(){}return e.prototype.emit=function(e){},e}(),o=new n},9462:function(e,t,r){r.d(t,{K9:function(){return u}});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},o=Symbol.for("io.opentelemetry.js.api.logs"),i=n;var s=r(626),a=new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new s.P},e}()),u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return i[o]?this.getLoggerProvider():(i[o]=(t=1,r=e,n=a,function(e){return e===t?r:n}),e);var t,r,n},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=i[o])||void 0===e?void 0:e.call(i,1))&&void 0!==t?t:a},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete i[o]},e}().getInstance()},6675:function(e,t,r){r.d(t,{_:function(){return f}});var n=r(9906),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(){}return e.prototype.active=function(){return n.l},e.prototype.with=function(e,t,r){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];return t.call.apply(t,i([r],o(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),a=r(2901),u=r(2497),c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},l=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},p="context",d=new s,f=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,a.$G)(p,e,u.K.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,l([e,t,r],c(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,a.mS)(p)||d},e.prototype.disable=function(){this._getContextManager().disable(),(0,a.kv)(p,u.K.instance())},e}()},2497:function(e,t,r){r.d(t,{K:function(){return p}});var n=r(2901),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,r){var s=(0,n.mS)("diag");if(s)return r.unshift(t),s[e].apply(s,i([],o(r),!1))}var u=r(6644);var c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},l=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},p=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=(0,n.mS)("diag");if(o)return o[e].apply(o,l([],c(t),!1))}}var t=this;t.setLogger=function(e,r){var o,i,s;if(void 0===r&&(r={logLevel:u.u.INFO}),e===t){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=a.stack)&&void 0!==o?o:a.message),!1}"number"==typeof r&&(r={logLevel:r});var c=(0,n.mS)("diag"),l=function(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<u.u.NONE?e=u.u.NONE:e>u.u.ALL&&(e=u.u.ALL),t=t||{},{error:r("error",u.u.ERROR),warn:r("warn",u.u.WARN),info:r("info",u.u.INFO),debug:r("debug",u.u.DEBUG),verbose:r("verbose",u.u.VERBOSE)}}(null!==(i=r.logLevel)&&void 0!==i?i:u.u.INFO,e);if(c&&!r.suppressOverrideMessage){var p=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+p),l.warn("Current logger will overwrite one already registered from "+p)}return(0,n.$G)("diag",l,t,!0)},t.disable=function(){(0,n.kv)("diag",t)},t.createComponentLogger=function(e){return new s(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},9906:function(e,t,r){function n(e){return Symbol.for(e)}r.d(t,{l:function(){return o},n:function(){return n}});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},5991:function(e,t,r){r.d(t,{s:function(){return n}});var n=r(2497).K.instance()},6644:function(e,t,r){var n;r.d(t,{u:function(){return n}}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},2901:function(e,t,r){r.d(t,{mS:function(){return p},$G:function(){return l},kv:function(){return d}});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},o="1.9.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var s=function(e){var t=new Set([e]),r=new Set,n=e.match(i);if(!n)return function(){return!1};var o=+n[1],s=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function u(e){return r.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(i);if(!n)return u(e);var l=+n[1],p=+n[2],d=+n[3];return null!=n[4]||o!==l?u(e):0===o?s===p&&a<=d?c(e):u(e):s<=p?c(e):u(e)}}(o),a=o.split(".")[0],u=Symbol.for("opentelemetry.js.api."+a),c=n;function l(e,t,r,n){var i;void 0===n&&(n=!1);var s=c[u]=null!==(i=c[u])&&void 0!==i?i:{version:o};if(!n&&s[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if(s.version!==o){a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+o);return r.error(a.stack||a.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0}function p(e){var t,r,n=null===(t=c[u])||void 0===t?void 0:t.version;if(n&&s(n))return null===(r=c[u])||void 0===r?void 0:r[e]}function d(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var r=c[u];r&&delete r[e]}},6933:function(e,t,r){r.d(t,{q:function(){return P}});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){function e(){}return e.prototype.createGauge=function(e,t){return y},e.prototype.createHistogram=function(e,t){return v},e.prototype.createCounter=function(e,t){return g},e.prototype.createUpDownCounter=function(e,t){return b},e.prototype.createObservableGauge=function(e,t){return S},e.prototype.createObservableCounter=function(e,t){return T},e.prototype.createObservableUpDownCounter=function(e,t){return E},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),s=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),p=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(p),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(p),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(p),m=new i,g=new a,y=new c,v=new l,b=new u,T=new d,S=new f,E=new h;var O=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return m},e}()),_=r(2901),w=r(2497),x="metrics",P=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,_.$G)(x,e,w.K.instance())},e.prototype.getMeterProvider=function(){return(0,_.mS)(x)||O},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,_.kv)(x,w.K.instance())},e}().getInstance()},7207:function(e,t,r){r.d(t,{u:function(){return O}});var n=r(2901),o=r(6675),i=r(9906),s=r(9193),a=(0,i.n)("OpenTelemetry Context Key SPAN");function u(e){return e.getValue(a)||void 0}function c(){return u(o._.getInstance().active())}function l(e,t){return e.setValue(a,t)}function p(e){return e.deleteValue(a)}function d(e,t){return l(e,new s.d(t))}function f(e){var t;return null===(t=u(e))||void 0===t?void 0:t.spanContext()}var h=r(4380),m=o._.getInstance(),g=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=m.active()),Boolean(null==t?void 0:t.root))return new s.d;var n,o=r&&f(r);return"object"==typeof(n=o)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,h.YA)(o)?new s.d(o):new s.d},e.prototype.startActiveSpan=function(e,t,r,n){var o,i,s;if(!(arguments.length<2)){2===arguments.length?s=t:3===arguments.length?(o=t,s=r):(o=t,i=r,s=n);var a=null!=i?i:m.active(),u=this.startSpan(e,o,a),c=l(a,u);return m.with(c,s,void 0,u)}},e}();var y=new g,v=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):y},e}(),b=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new g},e}()),T=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new v(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:b},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}(),S=r(2497),E="trace",O=function(){function e(){this._proxyTracerProvider=new T,this.wrapSpanContext=h.IP,this.isSpanContextValid=h.YA,this.deleteSpan=p,this.getSpan=u,this.getActiveSpan=c,this.getSpanContext=f,this.setSpan=l,this.setSpanContext=d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.$G)(E,this._proxyTracerProvider,S.K.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.mS)(E)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.kv)(E,S.K.instance()),this._proxyTracerProvider=new T},e}().getInstance()},9193:function(e,t,r){r.d(t,{d:function(){return o}});var n=r(4669),o=function(){function e(e){void 0===e&&(e=n.dM),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},4669:function(e,t,r){r.d(t,{RH:function(){return i},dM:function(){return s},w9:function(){return o}});var n=r(5926),o="0000000000000000",i="00000000000000000000000000000000",s={traceId:i,spanId:o,traceFlags:n.X.NONE}},4380:function(e,t,r){r.d(t,{IP:function(){return c},YA:function(){return u},hX:function(){return a}});var n=r(4669),o=r(9193),i=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return i.test(e)&&e!==n.RH}function u(e){return a(e.traceId)&&(t=e.spanId,s.test(t)&&t!==n.w9);var t}function c(e){return new o.d(e)}},5926:function(e,t,r){var n;r.d(t,{X:function(){return n}}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},403:function(e,t,r){r.d(t,{Ir:function(){return m},JU:function(){return d},KJ:function(){return c},VL:function(){return h},W5:function(){return l},_5:function(){return u},lg:function(){return s},mw:function(){return g},u5:function(){return p},uc:function(){return a},w_:function(){return f}});var n=r(8619),o=Math.pow(10,6),i=Math.pow(10,9);function s(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*o)]}function a(){var e=n.u.timeOrigin;if("number"!=typeof e){var t=n.u;e=t.timing&&t.timing.fetchStart}return e}function u(e){return g(s(a()),s("number"==typeof e?e:n.u.now()))}function c(e){if(h(e))return e;if("number"==typeof e)return e<a()?u(e):s(e);if(e instanceof Date)return s(e.getTime());throw TypeError("Invalid input type")}function l(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=i),[r,n]}function p(e){return e[0]*i+e[1]}function d(e){return 1e3*e[0]+e[1]/1e6}function f(e){return 1e6*e[0]+e[1]/1e3}function h(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function m(e){return h(e)||"number"==typeof e||e instanceof Date}function g(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=i&&(r[1]-=i,r[0]+=1),r}},8619:function(e,t,r){r.d(t,{u:function(){return n}});var n=performance},3012:function(e,t,r){r.d(t,{R:function(){return s}});var n=r(7207),o=r(6933),i=r(9462);function s(e){var t,r,s=e.tracerProvider||n.u.getTracerProvider(),a=e.meterProvider||o.q.getMeterProvider(),u=e.loggerProvider||i.K9.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,i=e.length;o<i;o++){var s=e[o];t&&s.setTracerProvider(t),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}(c,s,a,u),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}},1328:function(e,t,r){r.d(t,{O:function(){return d}});var n,o=r(5991),i=r(7207),s=r(6933),a=r(9462),u=r(2374),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},l=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=u.wrap,this._unwrap=u.unwrap,this._massWrap=u.massWrap,this._massUnwrap=u.massUnwrap,this._config=c({enabled:!0},r),this._diag=o.s.createComponentLogger({namespace:e}),this._tracer=i.u.getTracer(e,t),this._meter=s.q.getMeter(e,t),this._logger=a.K9.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=c({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),p=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;return o._config.enabled&&o.enable(),o}return p(t,e),t}(l)},549:function(e,t,r){var n,o,i,s,a,u,c,l,p,d=r(5051),f=d.Reader,h=d.Writer,m=d.util,g=d.roots.default||(d.roots.default={});g.opentelemetry=((p={}).proto=((l={}).common=((o={}).v1=((n={}).AnyValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.stringValue=null,e.prototype.boolValue=null,e.prototype.intValue=null,e.prototype.doubleValue=null,e.prototype.arrayValue=null,e.prototype.kvlistValue=null,e.prototype.bytesValue=null,Object.defineProperty(e.prototype,"value",{get:m.oneOfGetter(t=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:m.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),null!=e.intValue&&Object.hasOwnProperty.call(e,"intValue")&&t.uint32(24).int64(e.intValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(33).double(e.doubleValue),null!=e.arrayValue&&Object.hasOwnProperty.call(e,"arrayValue")&&g.opentelemetry.proto.common.v1.ArrayValue.encode(e.arrayValue,t.uint32(42).fork()).ldelim(),null!=e.kvlistValue&&Object.hasOwnProperty.call(e,"kvlistValue")&&g.opentelemetry.proto.common.v1.KeyValueList.encode(e.kvlistValue,t.uint32(50).fork()).ldelim(),null!=e.bytesValue&&Object.hasOwnProperty.call(e,"bytesValue")&&t.uint32(58).bytes(e.bytesValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.common.v1.AnyValue;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.stringValue=e.string();break;case 2:n.boolValue=e.bool();break;case 3:n.intValue=e.int64();break;case 4:n.doubleValue=e.double();break;case 5:n.arrayValue=g.opentelemetry.proto.common.v1.ArrayValue.decode(e,e.uint32());break;case 6:n.kvlistValue=g.opentelemetry.proto.common.v1.KeyValueList.decode(e,e.uint32());break;case 7:n.bytesValue=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(t.value=1,!m.isString(e.stringValue)))return"stringValue: string expected";if(null!=e.boolValue&&e.hasOwnProperty("boolValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"boolean"!=typeof e.boolValue)return"boolValue: boolean expected"}if(null!=e.intValue&&e.hasOwnProperty("intValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!(m.isInteger(e.intValue)||e.intValue&&m.isInteger(e.intValue.low)&&m.isInteger(e.intValue.high)))return"intValue: integer|Long expected"}if(null!=e.doubleValue&&e.hasOwnProperty("doubleValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"number"!=typeof e.doubleValue)return"doubleValue: number expected"}if(null!=e.arrayValue&&e.hasOwnProperty("arrayValue")){if(1===t.value)return"value: multiple values";if(t.value=1,r=g.opentelemetry.proto.common.v1.ArrayValue.verify(e.arrayValue))return"arrayValue."+r}if(null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")){if(1===t.value)return"value: multiple values";var r;if(t.value=1,r=g.opentelemetry.proto.common.v1.KeyValueList.verify(e.kvlistValue))return"kvlistValue."+r}if(null!=e.bytesValue&&e.hasOwnProperty("bytesValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!(e.bytesValue&&"number"==typeof e.bytesValue.length||m.isString(e.bytesValue)))return"bytesValue: buffer expected"}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.common.v1.AnyValue)return e;var t=new g.opentelemetry.proto.common.v1.AnyValue;if(null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=Boolean(e.boolValue)),null!=e.intValue&&(m.Long?(t.intValue=m.Long.fromValue(e.intValue)).unsigned=!1:"string"==typeof e.intValue?t.intValue=parseInt(e.intValue,10):"number"==typeof e.intValue?t.intValue=e.intValue:"object"==typeof e.intValue&&(t.intValue=new m.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.arrayValue){if("object"!=typeof e.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");t.arrayValue=g.opentelemetry.proto.common.v1.ArrayValue.fromObject(e.arrayValue)}if(null!=e.kvlistValue){if("object"!=typeof e.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");t.kvlistValue=g.opentelemetry.proto.common.v1.KeyValueList.fromObject(e.kvlistValue)}return null!=e.bytesValue&&("string"==typeof e.bytesValue?m.base64.decode(e.bytesValue,t.bytesValue=m.newBuffer(m.base64.length(e.bytesValue)),0):e.bytesValue.length>=0&&(t.bytesValue=e.bytesValue)),t},e.toObject=function(e,t){t||(t={});var r={};return null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs&&(r.value="stringValue")),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue,t.oneofs&&(r.value="boolValue")),null!=e.intValue&&e.hasOwnProperty("intValue")&&("number"==typeof e.intValue?r.intValue=t.longs===String?String(e.intValue):e.intValue:r.intValue=t.longs===String?m.Long.prototype.toString.call(e.intValue):t.longs===Number?new m.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber():e.intValue,t.oneofs&&(r.value="intValue")),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,t.oneofs&&(r.value="doubleValue")),null!=e.arrayValue&&e.hasOwnProperty("arrayValue")&&(r.arrayValue=g.opentelemetry.proto.common.v1.ArrayValue.toObject(e.arrayValue,t),t.oneofs&&(r.value="arrayValue")),null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")&&(r.kvlistValue=g.opentelemetry.proto.common.v1.KeyValueList.toObject(e.kvlistValue,t),t.oneofs&&(r.value="kvlistValue")),null!=e.bytesValue&&e.hasOwnProperty("bytesValue")&&(r.bytesValue=t.bytes===String?m.base64.encode(e.bytesValue,0,e.bytesValue.length):t.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,t.oneofs&&(r.value="bytesValue")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.AnyValue"},e}(),n.ArrayValue=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)g.opentelemetry.proto.common.v1.AnyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.common.v1.ArrayValue;e.pos<r;){var o=e.uint32();o>>>3==1?(n.values&&n.values.length||(n.values=[]),n.values.push(g.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=g.opentelemetry.proto.common.v1.AnyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.common.v1.ArrayValue)return e;var t=new g.opentelemetry.proto.common.v1.ArrayValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");t.values[r]=g.opentelemetry.proto.common.v1.AnyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=g.opentelemetry.proto.common.v1.AnyValue.toObject(e.values[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.ArrayValue"},e}(),n.KeyValueList=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.common.v1.KeyValueList;e.pos<r;){var o=e.uint32();o>>>3==1?(n.values&&n.values.length||(n.values=[]),n.values.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.common.v1.KeyValueList)return e;var t=new g.opentelemetry.proto.common.v1.KeyValueList;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");t.values[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.values[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValueList"},e}(),n.KeyValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&g.opentelemetry.proto.common.v1.AnyValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.common.v1.KeyValue;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.key=e.string();break;case 2:n.value=g.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!m.isString(e.key))return"key: string expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=g.opentelemetry.proto.common.v1.AnyValue.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.common.v1.KeyValue)return e;var t=new g.opentelemetry.proto.common.v1.KeyValue;if(null!=e.key&&(t.key=String(e.key)),null!=e.value){if("object"!=typeof e.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");t.value=g.opentelemetry.proto.common.v1.AnyValue.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=null),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=g.opentelemetry.proto.common.v1.AnyValue.toObject(e.value,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValue"},e}(),n.InstrumentationScope=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name=null,e.prototype.version=null,e.prototype.attributes=m.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(18).string(e.version),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.common.v1.InstrumentationScope;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.version=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!m.isString(e.name))return"name: string expected";if(null!=e.version&&e.hasOwnProperty("version")&&!m.isString(e.version))return"version: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.common.v1.InstrumentationScope)return e;var t=new g.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(r.name="",r.version="",r.droppedAttributesCount=0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.InstrumentationScope"},e}(),n),o),l.resource=((i={}).v1=function(){var e={};return e.Resource=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=m.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(16).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.resource.v1.Resource;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.resource.v1.Resource)return e;var t=new g.opentelemetry.proto.resource.v1.Resource;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(r.droppedAttributesCount=0),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.resource.v1.Resource"},e}(),e}(),i),l.trace=((s={}).v1=function(){var e={};return e.TracesData=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)g.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.TracesData;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceSpans&&n.resourceSpans.length||(n.resourceSpans=[]),n.resourceSpans.push(g.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=g.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.TracesData)return e;var t=new g.opentelemetry.proto.trace.v1.TracesData;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");t.resourceSpans[r]=g.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var n=0;n<e.resourceSpans.length;++n)r.resourceSpans[n]=g.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.TracesData"},e}(),e.ResourceSpans=function(){function e(e){if(this.scopeSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeSpans=m.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&g.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeSpans&&e.scopeSpans.length)for(var r=0;r<e.scopeSpans.length;++r)g.opentelemetry.proto.trace.v1.ScopeSpans.encode(e.scopeSpans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.ResourceSpans;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=g.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:n.scopeSpans&&n.scopeSpans.length||(n.scopeSpans=[]),n.scopeSpans.push(g.opentelemetry.proto.trace.v1.ScopeSpans.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&(r=g.opentelemetry.proto.resource.v1.Resource.verify(e.resource)))return"resource."+r;if(null!=e.scopeSpans&&e.hasOwnProperty("scopeSpans")){if(!Array.isArray(e.scopeSpans))return"scopeSpans: array expected";for(var t=0;t<e.scopeSpans.length;++t){var r;if(r=g.opentelemetry.proto.trace.v1.ScopeSpans.verify(e.scopeSpans[t]))return"scopeSpans."+r}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!m.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.ResourceSpans)return e;var t=new g.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");t.resource=g.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeSpans){if(!Array.isArray(e.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");t.scopeSpans=[];for(var r=0;r<e.scopeSpans.length;++r){if("object"!=typeof e.scopeSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");t.scopeSpans[r]=g.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(e.scopeSpans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeSpans=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=g.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeSpans&&e.scopeSpans.length){r.scopeSpans=[];for(var n=0;n<e.scopeSpans.length;++n)r.scopeSpans[n]=g.opentelemetry.proto.trace.v1.ScopeSpans.toObject(e.scopeSpans[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ResourceSpans"},e}(),e.ScopeSpans=function(){function e(e){if(this.spans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.spans=m.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&g.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.spans&&e.spans.length)for(var r=0;r<e.spans.length;++r)g.opentelemetry.proto.trace.v1.Span.encode(e.spans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.ScopeSpans;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:n.spans&&n.spans.length||(n.spans=[]),n.spans.push(g.opentelemetry.proto.trace.v1.Span.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")&&(r=g.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope)))return"scope."+r;if(null!=e.spans&&e.hasOwnProperty("spans")){if(!Array.isArray(e.spans))return"spans: array expected";for(var t=0;t<e.spans.length;++t){var r;if(r=g.opentelemetry.proto.trace.v1.Span.verify(e.spans[t]))return"spans."+r}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!m.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.ScopeSpans)return e;var t=new g.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");t.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.spans){if(!Array.isArray(e.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");t.spans=[];for(var r=0;r<e.spans.length;++r){if("object"!=typeof e.spans[r])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");t.spans[r]=g.opentelemetry.proto.trace.v1.Span.fromObject(e.spans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.spans=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.spans&&e.spans.length){r.spans=[];for(var n=0;n<e.spans.length;++n)r.spans[n]=g.opentelemetry.proto.trace.v1.Span.toObject(e.spans[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ScopeSpans"},e}(),e.Span=function(){function e(e){if(this.attributes=[],this.events=[],this.links=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.parentSpanId=null,e.prototype.name=null,e.prototype.kind=null,e.prototype.startTimeUnixNano=null,e.prototype.endTimeUnixNano=null,e.prototype.attributes=m.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.events=m.emptyArray,e.prototype.droppedEventsCount=null,e.prototype.links=m.emptyArray,e.prototype.droppedLinksCount=null,e.prototype.status=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.parentSpanId&&Object.hasOwnProperty.call(e,"parentSpanId")&&t.uint32(34).bytes(e.parentSpanId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(42).string(e.name),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(48).int32(e.kind),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(57).fixed64(e.startTimeUnixNano),null!=e.endTimeUnixNano&&Object.hasOwnProperty.call(e,"endTimeUnixNano")&&t.uint32(65).fixed64(e.endTimeUnixNano),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();if(null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(80).uint32(e.droppedAttributesCount),null!=e.events&&e.events.length)for(r=0;r<e.events.length;++r)g.opentelemetry.proto.trace.v1.Span.Event.encode(e.events[r],t.uint32(90).fork()).ldelim();if(null!=e.droppedEventsCount&&Object.hasOwnProperty.call(e,"droppedEventsCount")&&t.uint32(96).uint32(e.droppedEventsCount),null!=e.links&&e.links.length)for(r=0;r<e.links.length;++r)g.opentelemetry.proto.trace.v1.Span.Link.encode(e.links[r],t.uint32(106).fork()).ldelim();return null!=e.droppedLinksCount&&Object.hasOwnProperty.call(e,"droppedLinksCount")&&t.uint32(112).uint32(e.droppedLinksCount),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&g.opentelemetry.proto.trace.v1.Status.encode(e.status,t.uint32(122).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.Span;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.traceId=e.bytes();break;case 2:n.spanId=e.bytes();break;case 3:n.traceState=e.string();break;case 4:n.parentSpanId=e.bytes();break;case 5:n.name=e.string();break;case 6:n.kind=e.int32();break;case 7:n.startTimeUnixNano=e.fixed64();break;case 8:n.endTimeUnixNano=e.fixed64();break;case 9:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 10:n.droppedAttributesCount=e.uint32();break;case 11:n.events&&n.events.length||(n.events=[]),n.events.push(g.opentelemetry.proto.trace.v1.Span.Event.decode(e,e.uint32()));break;case 12:n.droppedEventsCount=e.uint32();break;case 13:n.links&&n.links.length||(n.links=[]),n.links.push(g.opentelemetry.proto.trace.v1.Span.Link.decode(e,e.uint32()));break;case 14:n.droppedLinksCount=e.uint32();break;case 15:n.status=g.opentelemetry.proto.trace.v1.Status.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||m.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||m.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!m.isString(e.traceState))return"traceState: string expected";if(null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&!(e.parentSpanId&&"number"==typeof e.parentSpanId.length||m.isString(e.parentSpanId)))return"parentSpanId: buffer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!m.isString(e.name))return"name: string expected";if(null!=e.kind&&e.hasOwnProperty("kind"))switch(e.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!(m.isInteger(e.startTimeUnixNano)||e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&!(m.isInteger(e.endTimeUnixNano)||e.endTimeUnixNano&&m.isInteger(e.endTimeUnixNano.low)&&m.isInteger(e.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t)if(r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]))return"attributes."+r}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(t=0;t<e.events.length;++t)if(r=g.opentelemetry.proto.trace.v1.Span.Event.verify(e.events[t]))return"events."+r}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&!m.isInteger(e.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=e.links&&e.hasOwnProperty("links")){if(!Array.isArray(e.links))return"links: array expected";for(t=0;t<e.links.length;++t)if(r=g.opentelemetry.proto.trace.v1.Span.Link.verify(e.links[t]))return"links."+r}return null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&!m.isInteger(e.droppedLinksCount)?"droppedLinksCount: integer expected":null!=e.status&&e.hasOwnProperty("status")&&(r=g.opentelemetry.proto.trace.v1.Status.verify(e.status))?"status."+r:null;var r},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.Span)return e;var t=new g.opentelemetry.proto.trace.v1.Span;switch(null!=e.traceId&&("string"==typeof e.traceId?m.base64.decode(e.traceId,t.traceId=m.newBuffer(m.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?m.base64.decode(e.spanId,t.spanId=m.newBuffer(m.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),null!=e.parentSpanId&&("string"==typeof e.parentSpanId?m.base64.decode(e.parentSpanId,t.parentSpanId=m.newBuffer(m.base64.length(e.parentSpanId)),0):e.parentSpanId.length>=0&&(t.parentSpanId=e.parentSpanId)),null!=e.name&&(t.name=String(e.name)),e.kind){default:if("number"==typeof e.kind){t.kind=e.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:t.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:t.kind=1;break;case"SPAN_KIND_SERVER":case 2:t.kind=2;break;case"SPAN_KIND_CLIENT":case 3:t.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:t.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:t.kind=5}if(null!=e.startTimeUnixNano&&(m.Long?(t.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.endTimeUnixNano&&(m.Long?(t.endTimeUnixNano=m.Long.fromValue(e.endTimeUnixNano)).unsigned=!1:"string"==typeof e.endTimeUnixNano?t.endTimeUnixNano=parseInt(e.endTimeUnixNano,10):"number"==typeof e.endTimeUnixNano?t.endTimeUnixNano=e.endTimeUnixNano:"object"==typeof e.endTimeUnixNano&&(t.endTimeUnixNano=new m.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber())),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),e.events){if(!Array.isArray(e.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");for(t.events=[],r=0;r<e.events.length;++r){if("object"!=typeof e.events[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");t.events[r]=g.opentelemetry.proto.trace.v1.Span.Event.fromObject(e.events[r])}}if(null!=e.droppedEventsCount&&(t.droppedEventsCount=e.droppedEventsCount>>>0),e.links){if(!Array.isArray(e.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");for(t.links=[],r=0;r<e.links.length;++r){if("object"!=typeof e.links[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");t.links[r]=g.opentelemetry.proto.trace.v1.Span.Link.fromObject(e.links[r])}}if(null!=e.droppedLinksCount&&(t.droppedLinksCount=e.droppedLinksCount>>>0),null!=e.status){if("object"!=typeof e.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");t.status=g.opentelemetry.proto.trace.v1.Status.fromObject(e.status)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.events=[],r.links=[]),t.defaults){if(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=m.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=m.newBuffer(r.spanId))),r.traceState="",t.bytes===String?r.parentSpanId="":(r.parentSpanId=[],t.bytes!==Array&&(r.parentSpanId=m.newBuffer(r.parentSpanId))),r.name="",r.kind=t.enums===String?"SPAN_KIND_UNSPECIFIED":0,m.Long){var n=new m.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;m.Long?(n=new m.Long(0,0,!1),r.endTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.endTimeUnixNano=t.longs===String?"0":0,r.droppedAttributesCount=0,r.droppedEventsCount=0,r.droppedLinksCount=0,r.status=null}if(null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?m.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?m.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&(r.parentSpanId=t.bytes===String?m.base64.encode(e.parentSpanId,0,e.parentSpanId.length):t.bytes===Array?Array.prototype.slice.call(e.parentSpanId):e.parentSpanId),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=t.enums===String?void 0===g.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]?e.kind:g.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]:e.kind),null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&("number"==typeof e.endTimeUnixNano?r.endTimeUnixNano=t.longs===String?String(e.endTimeUnixNano):e.endTimeUnixNano:r.endTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.endTimeUnixNano):t.longs===Number?new m.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber():e.endTimeUnixNano),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),e.events&&e.events.length)for(r.events=[],o=0;o<e.events.length;++o)r.events[o]=g.opentelemetry.proto.trace.v1.Span.Event.toObject(e.events[o],t);if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&(r.droppedEventsCount=e.droppedEventsCount),e.links&&e.links.length)for(r.links=[],o=0;o<e.links.length;++o)r.links[o]=g.opentelemetry.proto.trace.v1.Span.Link.toObject(e.links[o],t);return null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&(r.droppedLinksCount=e.droppedLinksCount),null!=e.status&&e.hasOwnProperty("status")&&(r.status=g.opentelemetry.proto.trace.v1.Status.toObject(e.status,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span"},e.SpanKind=(t={},(r=Object.create(t))[t[0]="SPAN_KIND_UNSPECIFIED"]=0,r[t[1]="SPAN_KIND_INTERNAL"]=1,r[t[2]="SPAN_KIND_SERVER"]=2,r[t[3]="SPAN_KIND_CLIENT"]=3,r[t[4]="SPAN_KIND_PRODUCER"]=4,r[t[5]="SPAN_KIND_CONSUMER"]=5,r),e.Event=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.name=null,e.prototype.attributes=m.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.Span.Event;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.timeUnixNano=e.fixed64();break;case 2:n.name=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!m.isString(e.name))return"name: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.Span.Event)return e;var t=new g.opentelemetry.proto.trace.v1.Span.Event;if(null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;r.name="",r.droppedAttributesCount=0}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Event"},e}(),e.Link=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.attributes=m.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(34).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(40).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.Span.Link;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.traceId=e.bytes();break;case 2:n.spanId=e.bytes();break;case 3:n.traceState=e.string();break;case 4:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 5:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||m.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||m.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!m.isString(e.traceState))return"traceState: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.Span.Link)return e;var t=new g.opentelemetry.proto.trace.v1.Span.Link;if(null!=e.traceId&&("string"==typeof e.traceId?m.base64.decode(e.traceId,t.traceId=m.newBuffer(m.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?m.base64.decode(e.spanId,t.spanId=m.newBuffer(m.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=m.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=m.newBuffer(r.spanId))),r.traceState="",r.droppedAttributesCount=0),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?m.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?m.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Link"},e}(),e}(),e.Status=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t,r;return e.prototype.message=null,e.prototype.code=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.trace.v1.Status;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.message=e.string();break;case 3:n.code=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.message&&e.hasOwnProperty("message")&&!m.isString(e.message))return"message: string expected";if(null!=e.code&&e.hasOwnProperty("code"))switch(e.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.trace.v1.Status)return e;var t=new g.opentelemetry.proto.trace.v1.Status;switch(null!=e.message&&(t.message=String(e.message)),e.code){default:if("number"==typeof e.code){t.code=e.code;break}break;case"STATUS_CODE_UNSET":case 0:t.code=0;break;case"STATUS_CODE_OK":case 1:t.code=1;break;case"STATUS_CODE_ERROR":case 2:t.code=2}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.message="",r.code=t.enums===String?"STATUS_CODE_UNSET":0),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),null!=e.code&&e.hasOwnProperty("code")&&(r.code=t.enums===String?void 0===g.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]?e.code:g.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]:e.code),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Status"},e.StatusCode=(t={},(r=Object.create(t))[t[0]="STATUS_CODE_UNSET"]=0,r[t[1]="STATUS_CODE_OK"]=1,r[t[2]="STATUS_CODE_ERROR"]=2,r),e}(),e}(),s),l.collector=((c={}).trace=function(){var e={};return e.v1=function(){var e={};return e.TraceService=function(){function e(e,t,r){d.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(d.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportTraceServiceRequest=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)g.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceSpans&&n.resourceSpans.length||(n.resourceSpans=[]),n.resourceSpans.push(g.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=g.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return e;var t=new g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");t.resourceSpans[r]=g.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var n=0;n<e.resourceSpans.length;++n)r.resourceSpans[n]=g.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},e}(),e.ExportTraceServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;e.pos<r;){var o=e.uint32();o>>>3==1?n.partialSuccess=g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(e,e.uint32()):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return e;var t=new g.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");t.partialSuccess=g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},e}(),e.ExportTracePartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedSpans=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.rejectedSpans&&Object.hasOwnProperty.call(e,"rejectedSpans")&&t.uint32(8).int64(e.rejectedSpans),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rejectedSpans=e.int64();break;case 2:n.errorMessage=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&!(m.isInteger(e.rejectedSpans)||e.rejectedSpans&&m.isInteger(e.rejectedSpans.low)&&m.isInteger(e.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!m.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return e;var t=new g.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=e.rejectedSpans&&(m.Long?(t.rejectedSpans=m.Long.fromValue(e.rejectedSpans)).unsigned=!1:"string"==typeof e.rejectedSpans?t.rejectedSpans=parseInt(e.rejectedSpans,10):"number"==typeof e.rejectedSpans?t.rejectedSpans=e.rejectedSpans:"object"==typeof e.rejectedSpans&&(t.rejectedSpans=new m.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.rejectedSpans=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedSpans=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&("number"==typeof e.rejectedSpans?r.rejectedSpans=t.longs===String?String(e.rejectedSpans):e.rejectedSpans:r.rejectedSpans=t.longs===String?m.Long.prototype.toString.call(e.rejectedSpans):t.longs===Number?new m.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber():e.rejectedSpans),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},e}(),e}(),e}(),c.metrics=((a={}).v1=function(){var e={};return e.MetricsService=function(){function e(e,t,r){d.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(d.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportMetricsServiceRequest=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)g.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceMetrics&&n.resourceMetrics.length||(n.resourceMetrics=[]),n.resourceMetrics.push(g.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=g.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return e;var t=new g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");t.resourceMetrics[r]=g.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var n=0;n<e.resourceMetrics.length;++n)r.resourceMetrics[n]=g.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},e}(),e.ExportMetricsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;e.pos<r;){var o=e.uint32();o>>>3==1?n.partialSuccess=g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(e,e.uint32()):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return e;var t=new g.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");t.partialSuccess=g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},e}(),e.ExportMetricsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedDataPoints=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.rejectedDataPoints&&Object.hasOwnProperty.call(e,"rejectedDataPoints")&&t.uint32(8).int64(e.rejectedDataPoints),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rejectedDataPoints=e.int64();break;case 2:n.errorMessage=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&!(m.isInteger(e.rejectedDataPoints)||e.rejectedDataPoints&&m.isInteger(e.rejectedDataPoints.low)&&m.isInteger(e.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!m.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return e;var t=new g.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=e.rejectedDataPoints&&(m.Long?(t.rejectedDataPoints=m.Long.fromValue(e.rejectedDataPoints)).unsigned=!1:"string"==typeof e.rejectedDataPoints?t.rejectedDataPoints=parseInt(e.rejectedDataPoints,10):"number"==typeof e.rejectedDataPoints?t.rejectedDataPoints=e.rejectedDataPoints:"object"==typeof e.rejectedDataPoints&&(t.rejectedDataPoints=new m.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.rejectedDataPoints=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedDataPoints=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&("number"==typeof e.rejectedDataPoints?r.rejectedDataPoints=t.longs===String?String(e.rejectedDataPoints):e.rejectedDataPoints:r.rejectedDataPoints=t.longs===String?m.Long.prototype.toString.call(e.rejectedDataPoints):t.longs===Number?new m.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber():e.rejectedDataPoints),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},e}(),e}(),a),c.logs=((u={}).v1=function(){var e={};return e.LogsService=function(){function e(e,t,r){d.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(d.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportLogsServiceRequest=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)g.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceLogs&&n.resourceLogs.length||(n.resourceLogs=[]),n.resourceLogs.push(g.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=g.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return e;var t=new g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");t.resourceLogs[r]=g.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var n=0;n<e.resourceLogs.length;++n)r.resourceLogs[n]=g.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},e}(),e.ExportLogsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;e.pos<r;){var o=e.uint32();o>>>3==1?n.partialSuccess=g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(e,e.uint32()):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return e;var t=new g.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");t.partialSuccess=g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},e}(),e.ExportLogsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedLogRecords=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.rejectedLogRecords&&Object.hasOwnProperty.call(e,"rejectedLogRecords")&&t.uint32(8).int64(e.rejectedLogRecords),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rejectedLogRecords=e.int64();break;case 2:n.errorMessage=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&!(m.isInteger(e.rejectedLogRecords)||e.rejectedLogRecords&&m.isInteger(e.rejectedLogRecords.low)&&m.isInteger(e.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!m.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return e;var t=new g.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=e.rejectedLogRecords&&(m.Long?(t.rejectedLogRecords=m.Long.fromValue(e.rejectedLogRecords)).unsigned=!1:"string"==typeof e.rejectedLogRecords?t.rejectedLogRecords=parseInt(e.rejectedLogRecords,10):"number"==typeof e.rejectedLogRecords?t.rejectedLogRecords=e.rejectedLogRecords:"object"==typeof e.rejectedLogRecords&&(t.rejectedLogRecords=new m.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.rejectedLogRecords=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedLogRecords=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&("number"==typeof e.rejectedLogRecords?r.rejectedLogRecords=t.longs===String?String(e.rejectedLogRecords):e.rejectedLogRecords:r.rejectedLogRecords=t.longs===String?m.Long.prototype.toString.call(e.rejectedLogRecords):t.longs===Number?new m.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber():e.rejectedLogRecords),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},e}(),e}(),u),c),l.metrics=function(){var e={};return e.v1=function(){var e,t,r={};return r.MetricsData=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)g.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.MetricsData;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceMetrics&&n.resourceMetrics.length||(n.resourceMetrics=[]),n.resourceMetrics.push(g.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=g.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.MetricsData)return e;var t=new g.opentelemetry.proto.metrics.v1.MetricsData;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");t.resourceMetrics[r]=g.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var n=0;n<e.resourceMetrics.length;++n)r.resourceMetrics[n]=g.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.MetricsData"},e}(),r.ResourceMetrics=function(){function e(e){if(this.scopeMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeMetrics=m.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&g.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeMetrics&&e.scopeMetrics.length)for(var r=0;r<e.scopeMetrics.length;++r)g.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(e.scopeMetrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.ResourceMetrics;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=g.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:n.scopeMetrics&&n.scopeMetrics.length||(n.scopeMetrics=[]),n.scopeMetrics.push(g.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&(r=g.opentelemetry.proto.resource.v1.Resource.verify(e.resource)))return"resource."+r;if(null!=e.scopeMetrics&&e.hasOwnProperty("scopeMetrics")){if(!Array.isArray(e.scopeMetrics))return"scopeMetrics: array expected";for(var t=0;t<e.scopeMetrics.length;++t){var r;if(r=g.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(e.scopeMetrics[t]))return"scopeMetrics."+r}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!m.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.ResourceMetrics)return e;var t=new g.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");t.resource=g.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeMetrics){if(!Array.isArray(e.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");t.scopeMetrics=[];for(var r=0;r<e.scopeMetrics.length;++r){if("object"!=typeof e.scopeMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");t.scopeMetrics[r]=g.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(e.scopeMetrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeMetrics=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=g.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeMetrics&&e.scopeMetrics.length){r.scopeMetrics=[];for(var n=0;n<e.scopeMetrics.length;++n)r.scopeMetrics[n]=g.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(e.scopeMetrics[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},e}(),r.ScopeMetrics=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.metrics=m.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&g.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.metrics&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)g.opentelemetry.proto.metrics.v1.Metric.encode(e.metrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.ScopeMetrics;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:n.metrics&&n.metrics.length||(n.metrics=[]),n.metrics.push(g.opentelemetry.proto.metrics.v1.Metric.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")&&(r=g.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope)))return"scope."+r;if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var t=0;t<e.metrics.length;++t){var r;if(r=g.opentelemetry.proto.metrics.v1.Metric.verify(e.metrics[t]))return"metrics."+r}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!m.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.ScopeMetrics)return e;var t=new g.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");t.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if("object"!=typeof e.metrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");t.metrics[r]=g.opentelemetry.proto.metrics.v1.Metric.fromObject(e.metrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.metrics&&e.metrics.length){r.metrics=[];for(var n=0;n<e.metrics.length;++n)r.metrics[n]=g.opentelemetry.proto.metrics.v1.Metric.toObject(e.metrics[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},e}(),r.Metric=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.name=null,e.prototype.description=null,e.prototype.unit=null,e.prototype.gauge=null,e.prototype.sum=null,e.prototype.histogram=null,e.prototype.exponentialHistogram=null,e.prototype.summary=null,Object.defineProperty(e.prototype,"data",{get:m.oneOfGetter(t=["gauge","sum","histogram","exponentialHistogram","summary"]),set:m.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(26).string(e.unit),null!=e.gauge&&Object.hasOwnProperty.call(e,"gauge")&&g.opentelemetry.proto.metrics.v1.Gauge.encode(e.gauge,t.uint32(42).fork()).ldelim(),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&g.opentelemetry.proto.metrics.v1.Sum.encode(e.sum,t.uint32(58).fork()).ldelim(),null!=e.histogram&&Object.hasOwnProperty.call(e,"histogram")&&g.opentelemetry.proto.metrics.v1.Histogram.encode(e.histogram,t.uint32(74).fork()).ldelim(),null!=e.exponentialHistogram&&Object.hasOwnProperty.call(e,"exponentialHistogram")&&g.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(e.exponentialHistogram,t.uint32(82).fork()).ldelim(),null!=e.summary&&Object.hasOwnProperty.call(e,"summary")&&g.opentelemetry.proto.metrics.v1.Summary.encode(e.summary,t.uint32(90).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.Metric;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.description=e.string();break;case 3:n.unit=e.string();break;case 5:n.gauge=g.opentelemetry.proto.metrics.v1.Gauge.decode(e,e.uint32());break;case 7:n.sum=g.opentelemetry.proto.metrics.v1.Sum.decode(e,e.uint32());break;case 9:n.histogram=g.opentelemetry.proto.metrics.v1.Histogram.decode(e,e.uint32());break;case 10:n.exponentialHistogram=g.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(e,e.uint32());break;case 11:n.summary=g.opentelemetry.proto.metrics.v1.Summary.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.name&&e.hasOwnProperty("name")&&!m.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!m.isString(e.description))return"description: string expected";if(null!=e.unit&&e.hasOwnProperty("unit")&&!m.isString(e.unit))return"unit: string expected";if(null!=e.gauge&&e.hasOwnProperty("gauge")&&(t.data=1,r=g.opentelemetry.proto.metrics.v1.Gauge.verify(e.gauge)))return"gauge."+r;if(null!=e.sum&&e.hasOwnProperty("sum")){if(1===t.data)return"data: multiple values";if(t.data=1,r=g.opentelemetry.proto.metrics.v1.Sum.verify(e.sum))return"sum."+r}if(null!=e.histogram&&e.hasOwnProperty("histogram")){if(1===t.data)return"data: multiple values";if(t.data=1,r=g.opentelemetry.proto.metrics.v1.Histogram.verify(e.histogram))return"histogram."+r}if(null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")){if(1===t.data)return"data: multiple values";if(t.data=1,r=g.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(e.exponentialHistogram))return"exponentialHistogram."+r}if(null!=e.summary&&e.hasOwnProperty("summary")){if(1===t.data)return"data: multiple values";var r;if(t.data=1,r=g.opentelemetry.proto.metrics.v1.Summary.verify(e.summary))return"summary."+r}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.Metric)return e;var t=new g.opentelemetry.proto.metrics.v1.Metric;if(null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.unit&&(t.unit=String(e.unit)),null!=e.gauge){if("object"!=typeof e.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");t.gauge=g.opentelemetry.proto.metrics.v1.Gauge.fromObject(e.gauge)}if(null!=e.sum){if("object"!=typeof e.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");t.sum=g.opentelemetry.proto.metrics.v1.Sum.fromObject(e.sum)}if(null!=e.histogram){if("object"!=typeof e.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");t.histogram=g.opentelemetry.proto.metrics.v1.Histogram.fromObject(e.histogram)}if(null!=e.exponentialHistogram){if("object"!=typeof e.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");t.exponentialHistogram=g.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(e.exponentialHistogram)}if(null!=e.summary){if("object"!=typeof e.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");t.summary=g.opentelemetry.proto.metrics.v1.Summary.fromObject(e.summary)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.description="",r.unit=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.unit&&e.hasOwnProperty("unit")&&(r.unit=e.unit),null!=e.gauge&&e.hasOwnProperty("gauge")&&(r.gauge=g.opentelemetry.proto.metrics.v1.Gauge.toObject(e.gauge,t),t.oneofs&&(r.data="gauge")),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=g.opentelemetry.proto.metrics.v1.Sum.toObject(e.sum,t),t.oneofs&&(r.data="sum")),null!=e.histogram&&e.hasOwnProperty("histogram")&&(r.histogram=g.opentelemetry.proto.metrics.v1.Histogram.toObject(e.histogram,t),t.oneofs&&(r.data="histogram")),null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")&&(r.exponentialHistogram=g.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(e.exponentialHistogram,t),t.oneofs&&(r.data="exponentialHistogram")),null!=e.summary&&e.hasOwnProperty("summary")&&(r.summary=g.opentelemetry.proto.metrics.v1.Summary.toObject(e.summary,t),t.oneofs&&(r.data="summary")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Metric"},e}(),r.Gauge=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)g.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.Gauge;e.pos<r;){var o=e.uint32();o>>>3==1?(n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(g.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=g.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.Gauge)return e;var t=new g.opentelemetry.proto.metrics.v1.Gauge;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");t.dataPoints[r]=g.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=g.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Gauge"},e}(),r.Sum=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=m.emptyArray,e.prototype.aggregationTemporality=null,e.prototype.isMonotonic=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)g.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),null!=e.isMonotonic&&Object.hasOwnProperty.call(e,"isMonotonic")&&t.uint32(24).bool(e.isMonotonic),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.Sum;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(g.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()));break;case 2:n.aggregationTemporality=e.int32();break;case 3:n.isMonotonic=e.bool();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=g.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&"boolean"!=typeof e.isMonotonic?"isMonotonic: boolean expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.Sum)return e;var t=new g.opentelemetry.proto.metrics.v1.Sum;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");t.dataPoints[r]=g.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:if("number"==typeof e.aggregationTemporality){t.aggregationTemporality=e.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return null!=e.isMonotonic&&(t.isMonotonic=Boolean(e.isMonotonic)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,r.isMonotonic=!1),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=g.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===g.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:g.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&(r.isMonotonic=e.isMonotonic),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Sum"},e}(),r.Histogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=m.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)g.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.Histogram;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(g.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(e,e.uint32()));break;case 2:n.aggregationTemporality=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=g.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.Histogram)return e;var t=new g.opentelemetry.proto.metrics.v1.Histogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");t.dataPoints[r]=g.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:if("number"==typeof e.aggregationTemporality){t.aggregationTemporality=e.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=g.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===g.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:g.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Histogram"},e}(),r.ExponentialHistogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=m.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.ExponentialHistogram;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(e,e.uint32()));break;case 2:n.aggregationTemporality=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.ExponentialHistogram)return e;var t=new g.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");t.dataPoints[r]=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:if("number"==typeof e.aggregationTemporality){t.aggregationTemporality=e.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===g.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:g.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},e}(),r.Summary=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)g.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.Summary;e.pos<r;){var o=e.uint32();o>>>3==1?(n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(g.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=g.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.Summary)return e;var t=new g.opentelemetry.proto.metrics.v1.Summary;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");t.dataPoints[r]=g.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=g.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(e.dataPoints[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Summary"},e}(),r.AggregationTemporality=(e={},(t=Object.create(e))[e[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,t[e[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,t[e[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,t),r.DataPointFlags=function(){var e={},t=Object.create(e);return t[e[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,t[e[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,t}(),r.NumberDataPoint=function(){function e(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.attributes=m.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.asDouble=null,e.prototype.asInt=null,e.prototype.exemplars=m.emptyArray,e.prototype.flags=null,Object.defineProperty(e.prototype,"value",{get:m.oneOfGetter(t=["asDouble","asInt"]),set:m.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(33).double(e.asDouble),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)g.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(42).fork()).ldelim();if(null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.attributes&&e.attributes.length)for(r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.NumberDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 7:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.asDouble=e.double();break;case 6:n.asInt=e.sfixed64();break;case 5:n.exemplars&&n.exemplars.length||(n.exemplars=[]),n.exemplars.push(g.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 8:n.flags=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r)if(n=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]))return"attributes."+n}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!(m.isInteger(e.startTimeUnixNano)||e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!(m.isInteger(e.asInt)||e.asInt&&m.isInteger(e.asInt.low)&&m.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(r=0;r<e.exemplars.length;++r){var n;if(n=g.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]))return"exemplars."+n}}return null!=e.flags&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.NumberDataPoint)return e;var t=new g.opentelemetry.proto.metrics.v1.NumberDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(m.Long?(t.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(m.Long?(t.asInt=m.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");for(t.exemplars=[],r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");t.exemplars[r]=g.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.exemplars=[],r.attributes=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;m.Long?(n=new m.Long(0,0,!1),r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.timeUnixNano=t.longs===String?"0":0,r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var o=0;o<e.exemplars.length;++o)r.exemplars[o]=g.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[o],t)}if(null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?m.Long.prototype.toString.call(e.asInt):t.longs===Number?new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.attributes&&e.attributes.length)for(r.attributes=[],o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t);return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},e}(),r.HistogramDataPoint=function(){function e(e){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.attributes=m.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.count=null,e.prototype.sum=null,e.prototype.bucketCounts=m.emptyArray,e.prototype.explicitBounds=m.emptyArray,e.prototype.exemplars=m.emptyArray,e.prototype.flags=null,e.prototype.min=null,e.prototype.max=null,Object.defineProperty(e.prototype,"_sum",{get:m.oneOfGetter(t=["sum"]),set:m.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_min",{get:m.oneOfGetter(t=["min"]),set:m.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_max",{get:m.oneOfGetter(t=["max"]),set:m.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(50).fork();for(var r=0;r<e.bucketCounts.length;++r)t.fixed64(e.bucketCounts[r]);t.ldelim()}if(null!=e.explicitBounds&&e.explicitBounds.length){for(t.uint32(58).fork(),r=0;r<e.explicitBounds.length;++r)t.double(e.explicitBounds[r]);t.ldelim()}if(null!=e.exemplars&&e.exemplars.length)for(r=0;r<e.exemplars.length;++r)g.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(66).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(89).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(97).double(e.max),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.HistogramDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 9:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.count=e.fixed64();break;case 5:n.sum=e.double();break;case 6:if(n.bucketCounts&&n.bucketCounts.length||(n.bucketCounts=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.bucketCounts.push(e.fixed64());else n.bucketCounts.push(e.fixed64());break;case 7:if(n.explicitBounds&&n.explicitBounds.length||(n.explicitBounds=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.explicitBounds.push(e.double());else n.explicitBounds.push(e.double());break;case 8:n.exemplars&&n.exemplars.length||(n.exemplars=[]),n.exemplars.push(g.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 10:n.flags=e.uint32();break;case 11:n.min=e.double();break;case 12:n.max=e.double();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r)if(n=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]))return"attributes."+n}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!(m.isInteger(e.startTimeUnixNano)||e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!(m.isInteger(e.count)||e.count&&m.isInteger(e.count.low)&&m.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(r=0;r<e.bucketCounts.length;++r)if(!(m.isInteger(e.bucketCounts[r])||e.bucketCounts[r]&&m.isInteger(e.bucketCounts[r].low)&&m.isInteger(e.bucketCounts[r].high)))return"bucketCounts: integer|Long[] expected"}if(null!=e.explicitBounds&&e.hasOwnProperty("explicitBounds")){if(!Array.isArray(e.explicitBounds))return"explicitBounds: array expected";for(r=0;r<e.explicitBounds.length;++r)if("number"!=typeof e.explicitBounds[r])return"explicitBounds: number[] expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(r=0;r<e.exemplars.length;++r){var n;if(n=g.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]))return"exemplars."+n}}return null!=e.flags&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags)?"flags: integer expected":null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.HistogramDataPoint)return e;var t=new g.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(m.Long?(t.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(m.Long?(t.count=m.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");for(t.bucketCounts=[],r=0;r<e.bucketCounts.length;++r)m.Long?(t.bucketCounts[r]=m.Long.fromValue(e.bucketCounts[r])).unsigned=!1:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new m.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber())}if(e.explicitBounds){if(!Array.isArray(e.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");for(t.explicitBounds=[],r=0;r<e.explicitBounds.length;++r)t.explicitBounds[r]=Number(e.explicitBounds[r])}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");for(t.exemplars=[],r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");t.exemplars[r]=g.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[],r.explicitBounds=[],r.exemplars=[],r.attributes=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;m.Long?(n=new m.Long(0,0,!1),r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.timeUnixNano=t.longs===String?"0":0,m.Long?(n=new m.Long(0,0,!1),r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.count=t.longs===String?"0":0,r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?m.Long.prototype.toString.call(e.count):t.longs===Number?new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var o=0;o<e.bucketCounts.length;++o)"number"==typeof e.bucketCounts[o]?r.bucketCounts[o]=t.longs===String?String(e.bucketCounts[o]):e.bucketCounts[o]:r.bucketCounts[o]=t.longs===String?m.Long.prototype.toString.call(e.bucketCounts[o]):t.longs===Number?new m.LongBits(e.bucketCounts[o].low>>>0,e.bucketCounts[o].high>>>0).toNumber():e.bucketCounts[o]}if(e.explicitBounds&&e.explicitBounds.length)for(r.explicitBounds=[],o=0;o<e.explicitBounds.length;++o)r.explicitBounds[o]=t.json&&!isFinite(e.explicitBounds[o])?String(e.explicitBounds[o]):e.explicitBounds[o];if(e.exemplars&&e.exemplars.length)for(r.exemplars=[],o=0;o<e.exemplars.length;++o)r.exemplars[o]=g.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[o],t);if(e.attributes&&e.attributes.length)for(r.attributes=[],o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t);return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},e}(),r.ExponentialHistogramDataPoint=function(){function e(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.attributes=m.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.count=null,e.prototype.sum=null,e.prototype.scale=null,e.prototype.zeroCount=null,e.prototype.positive=null,e.prototype.negative=null,e.prototype.flags=null,e.prototype.exemplars=m.emptyArray,e.prototype.min=null,e.prototype.max=null,e.prototype.zeroThreshold=null,Object.defineProperty(e.prototype,"_sum",{get:m.oneOfGetter(t=["sum"]),set:m.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_min",{get:m.oneOfGetter(t=["min"]),set:m.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_max",{get:m.oneOfGetter(t=["max"]),set:m.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();if(null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(48).sint32(e.scale),null!=e.zeroCount&&Object.hasOwnProperty.call(e,"zeroCount")&&t.uint32(57).fixed64(e.zeroCount),null!=e.positive&&Object.hasOwnProperty.call(e,"positive")&&g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.positive,t.uint32(66).fork()).ldelim(),null!=e.negative&&Object.hasOwnProperty.call(e,"negative")&&g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.negative,t.uint32(74).fork()).ldelim(),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.exemplars&&e.exemplars.length)for(r=0;r<e.exemplars.length;++r)g.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(90).fork()).ldelim();return null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(97).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(105).double(e.max),null!=e.zeroThreshold&&Object.hasOwnProperty.call(e,"zeroThreshold")&&t.uint32(113).double(e.zeroThreshold),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.count=e.fixed64();break;case 5:n.sum=e.double();break;case 6:n.scale=e.sint32();break;case 7:n.zeroCount=e.fixed64();break;case 8:n.positive=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 9:n.negative=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 10:n.flags=e.uint32();break;case 11:n.exemplars&&n.exemplars.length||(n.exemplars=[]),n.exemplars.push(g.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 12:n.min=e.double();break;case 13:n.max=e.double();break;case 14:n.zeroThreshold=e.double();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r)if(n=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]))return"attributes."+n}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!(m.isInteger(e.startTimeUnixNano)||e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!(m.isInteger(e.count)||e.count&&m.isInteger(e.count.low)&&m.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.scale&&e.hasOwnProperty("scale")&&!m.isInteger(e.scale))return"scale: integer expected";if(null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&!(m.isInteger(e.zeroCount)||e.zeroCount&&m.isInteger(e.zeroCount.low)&&m.isInteger(e.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=e.positive&&e.hasOwnProperty("positive")&&(n=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.positive)))return"positive."+n;if(null!=e.negative&&e.hasOwnProperty("negative")&&(n=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.negative)))return"negative."+n;if(null!=e.flags&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags))return"flags: integer expected";if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(r=0;r<e.exemplars.length;++r){var n;if(n=g.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]))return"exemplars."+n}}return null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&"number"!=typeof e.zeroThreshold?"zeroThreshold: number expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return e;var t=new g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(m.Long?(t.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(m.Long?(t.count=m.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),null!=e.scale&&(t.scale=0|e.scale),null!=e.zeroCount&&(m.Long?(t.zeroCount=m.Long.fromValue(e.zeroCount)).unsigned=!1:"string"==typeof e.zeroCount?t.zeroCount=parseInt(e.zeroCount,10):"number"==typeof e.zeroCount?t.zeroCount=e.zeroCount:"object"==typeof e.zeroCount&&(t.zeroCount=new m.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber())),null!=e.positive){if("object"!=typeof e.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");t.positive=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.positive)}if(null!=e.negative){if("object"!=typeof e.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");t.negative=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.negative)}if(null!=e.flags&&(t.flags=e.flags>>>0),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");for(t.exemplars=[],r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");t.exemplars[r]=g.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),null!=e.zeroThreshold&&(t.zeroThreshold=Number(e.zeroThreshold)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.exemplars=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;m.Long?(n=new m.Long(0,0,!1),r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.timeUnixNano=t.longs===String?"0":0,m.Long?(n=new m.Long(0,0,!1),r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.count=t.longs===String?"0":0,r.scale=0,m.Long?(n=new m.Long(0,0,!1),r.zeroCount=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.zeroCount=t.longs===String?"0":0,r.positive=null,r.negative=null,r.flags=0,r.zeroThreshold=0}if(e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?m.Long.prototype.toString.call(e.count):t.longs===Number?new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),null!=e.scale&&e.hasOwnProperty("scale")&&(r.scale=e.scale),null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&("number"==typeof e.zeroCount?r.zeroCount=t.longs===String?String(e.zeroCount):e.zeroCount:r.zeroCount=t.longs===String?m.Long.prototype.toString.call(e.zeroCount):t.longs===Number?new m.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber():e.zeroCount),null!=e.positive&&e.hasOwnProperty("positive")&&(r.positive=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.positive,t)),null!=e.negative&&e.hasOwnProperty("negative")&&(r.negative=g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.negative,t)),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.exemplars&&e.exemplars.length)for(r.exemplars=[],o=0;o<e.exemplars.length;++o)r.exemplars[o]=g.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[o],t);return null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&(r.zeroThreshold=t.json&&!isFinite(e.zeroThreshold)?String(e.zeroThreshold):e.zeroThreshold),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},e.Buckets=function(){function e(e){if(this.bucketCounts=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.offset=null,e.prototype.bucketCounts=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(8).sint32(e.offset),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(18).fork();for(var r=0;r<e.bucketCounts.length;++r)t.uint64(e.bucketCounts[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.offset=e.sint32();break;case 2:if(n.bucketCounts&&n.bucketCounts.length||(n.bucketCounts=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.bucketCounts.push(e.uint64());else n.bucketCounts.push(e.uint64());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!m.isInteger(e.offset))return"offset: integer expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var t=0;t<e.bucketCounts.length;++t)if(!(m.isInteger(e.bucketCounts[t])||e.bucketCounts[t]&&m.isInteger(e.bucketCounts[t].low)&&m.isInteger(e.bucketCounts[t].high)))return"bucketCounts: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return e;var t=new g.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=e.offset&&(t.offset=0|e.offset),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)m.Long?(t.bucketCounts[r]=m.Long.fromValue(e.bucketCounts[r])).unsigned=!0:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new m.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[]),t.defaults&&(r.offset=0),null!=e.offset&&e.hasOwnProperty("offset")&&(r.offset=e.offset),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var n=0;n<e.bucketCounts.length;++n)"number"==typeof e.bucketCounts[n]?r.bucketCounts[n]=t.longs===String?String(e.bucketCounts[n]):e.bucketCounts[n]:r.bucketCounts[n]=t.longs===String?m.Long.prototype.toString.call(e.bucketCounts[n]):t.longs===Number?new m.LongBits(e.bucketCounts[n].low>>>0,e.bucketCounts[n].high>>>0).toNumber(!0):e.bucketCounts[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},e}(),e}(),r.SummaryDataPoint=function(){function e(e){if(this.attributes=[],this.quantileValues=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=m.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.count=null,e.prototype.sum=null,e.prototype.quantileValues=m.emptyArray,e.prototype.flags=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.quantileValues&&e.quantileValues.length)for(var r=0;r<e.quantileValues.length;++r)g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(e.quantileValues[r],t.uint32(50).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.SummaryDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 7:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.count=e.fixed64();break;case 5:n.sum=e.double();break;case 6:n.quantileValues&&n.quantileValues.length||(n.quantileValues=[]),n.quantileValues.push(g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(e,e.uint32()));break;case 8:n.flags=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t)if(r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]))return"attributes."+r}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!(m.isInteger(e.startTimeUnixNano)||e.startTimeUnixNano&&m.isInteger(e.startTimeUnixNano.low)&&m.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!(m.isInteger(e.count)||e.count&&m.isInteger(e.count.low)&&m.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&"number"!=typeof e.sum)return"sum: number expected";if(null!=e.quantileValues&&e.hasOwnProperty("quantileValues")){if(!Array.isArray(e.quantileValues))return"quantileValues: array expected";for(t=0;t<e.quantileValues.length;++t){var r;if(r=g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(e.quantileValues[t]))return"quantileValues."+r}}return null!=e.flags&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.SummaryDataPoint)return e;var t=new g.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(m.Long?(t.startTimeUnixNano=m.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(m.Long?(t.count=m.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.quantileValues){if(!Array.isArray(e.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");for(t.quantileValues=[],r=0;r<e.quantileValues.length;++r){if("object"!=typeof e.quantileValues[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");t.quantileValues[r]=g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(e.quantileValues[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.quantileValues=[],r.attributes=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;m.Long?(n=new m.Long(0,0,!1),r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.timeUnixNano=t.longs===String?"0":0,m.Long?(n=new m.Long(0,0,!1),r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.count=t.longs===String?"0":0,r.sum=0,r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new m.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?m.Long.prototype.toString.call(e.count):t.longs===Number?new m.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum),e.quantileValues&&e.quantileValues.length){r.quantileValues=[];for(var o=0;o<e.quantileValues.length;++o)r.quantileValues[o]=g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(e.quantileValues[o],t)}if(e.attributes&&e.attributes.length)for(r.attributes=[],o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t);return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},e.ValueAtQuantile=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.quantile=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=h.create()),null!=e.quantile&&Object.hasOwnProperty.call(e,"quantile")&&t.uint32(9).double(e.quantile),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.quantile=e.double();break;case 2:n.value=e.double();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.quantile&&e.hasOwnProperty("quantile")&&"number"!=typeof e.quantile?"quantile: number expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return e;var t=new g.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=e.quantile&&(t.quantile=Number(e.quantile)),null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.quantile=0,r.value=0),null!=e.quantile&&e.hasOwnProperty("quantile")&&(r.quantile=t.json&&!isFinite(e.quantile)?String(e.quantile):e.quantile),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},e}(),e}(),r.Exemplar=function(){function e(e){if(this.filteredAttributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.filteredAttributes=m.emptyArray,e.prototype.timeUnixNano=null,e.prototype.asDouble=null,e.prototype.asInt=null,e.prototype.spanId=null,e.prototype.traceId=null,Object.defineProperty(e.prototype,"value",{get:m.oneOfGetter(t=["asDouble","asInt"]),set:m.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(17).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(25).double(e.asDouble),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(34).bytes(e.spanId),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(42).bytes(e.traceId),null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.filteredAttributes&&e.filteredAttributes.length)for(var r=0;r<e.filteredAttributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.filteredAttributes[r],t.uint32(58).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.metrics.v1.Exemplar;e.pos<r;){var o=e.uint32();switch(o>>>3){case 7:n.filteredAttributes&&n.filteredAttributes.length||(n.filteredAttributes=[]),n.filteredAttributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.timeUnixNano=e.fixed64();break;case 3:n.asDouble=e.double();break;case 6:n.asInt=e.sfixed64();break;case 4:n.spanId=e.bytes();break;case 5:n.traceId=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.filteredAttributes&&e.hasOwnProperty("filteredAttributes")){if(!Array.isArray(e.filteredAttributes))return"filteredAttributes: array expected";for(var r=0;r<e.filteredAttributes.length;++r){var n=g.opentelemetry.proto.common.v1.KeyValue.verify(e.filteredAttributes[r]);if(n)return"filteredAttributes."+n}}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!(m.isInteger(e.asInt)||e.asInt&&m.isInteger(e.asInt.low)&&m.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}return null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||m.isString(e.spanId))?"spanId: buffer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||m.isString(e.traceId))?"traceId: buffer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.metrics.v1.Exemplar)return e;var t=new g.opentelemetry.proto.metrics.v1.Exemplar;if(e.filteredAttributes){if(!Array.isArray(e.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");t.filteredAttributes=[];for(var r=0;r<e.filteredAttributes.length;++r){if("object"!=typeof e.filteredAttributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");t.filteredAttributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.filteredAttributes[r])}}return null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(m.Long?(t.asInt=m.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),null!=e.spanId&&("string"==typeof e.spanId?m.base64.decode(e.spanId,t.spanId=m.newBuffer(m.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceId&&("string"==typeof e.traceId?m.base64.decode(e.traceId,t.traceId=m.newBuffer(m.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.filteredAttributes=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=m.newBuffer(r.spanId))),t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=m.newBuffer(r.traceId)))}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?m.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?m.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?m.Long.prototype.toString.call(e.asInt):t.longs===Number?new m.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.filteredAttributes&&e.filteredAttributes.length){r.filteredAttributes=[];for(var o=0;o<e.filteredAttributes.length;++o)r.filteredAttributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.filteredAttributes[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Exemplar"},e}(),r}(),e}(),l.logs=function(){var e={};return e.v1=function(){var e,t,r={};return r.LogsData=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=m.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)g.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.logs.v1.LogsData;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceLogs&&n.resourceLogs.length||(n.resourceLogs=[]),n.resourceLogs.push(g.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=g.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.logs.v1.LogsData)return e;var t=new g.opentelemetry.proto.logs.v1.LogsData;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");t.resourceLogs[r]=g.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var n=0;n<e.resourceLogs.length;++n)r.resourceLogs[n]=g.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogsData"},e}(),r.ResourceLogs=function(){function e(e){if(this.scopeLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeLogs=m.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&g.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeLogs&&e.scopeLogs.length)for(var r=0;r<e.scopeLogs.length;++r)g.opentelemetry.proto.logs.v1.ScopeLogs.encode(e.scopeLogs[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.logs.v1.ResourceLogs;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=g.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:n.scopeLogs&&n.scopeLogs.length||(n.scopeLogs=[]),n.scopeLogs.push(g.opentelemetry.proto.logs.v1.ScopeLogs.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&(r=g.opentelemetry.proto.resource.v1.Resource.verify(e.resource)))return"resource."+r;if(null!=e.scopeLogs&&e.hasOwnProperty("scopeLogs")){if(!Array.isArray(e.scopeLogs))return"scopeLogs: array expected";for(var t=0;t<e.scopeLogs.length;++t){var r;if(r=g.opentelemetry.proto.logs.v1.ScopeLogs.verify(e.scopeLogs[t]))return"scopeLogs."+r}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!m.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.logs.v1.ResourceLogs)return e;var t=new g.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");t.resource=g.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeLogs){if(!Array.isArray(e.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");t.scopeLogs=[];for(var r=0;r<e.scopeLogs.length;++r){if("object"!=typeof e.scopeLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");t.scopeLogs[r]=g.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(e.scopeLogs[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeLogs=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=g.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeLogs&&e.scopeLogs.length){r.scopeLogs=[];for(var n=0;n<e.scopeLogs.length;++n)r.scopeLogs[n]=g.opentelemetry.proto.logs.v1.ScopeLogs.toObject(e.scopeLogs[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ResourceLogs"},e}(),r.ScopeLogs=function(){function e(e){if(this.logRecords=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.logRecords=m.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&g.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.logRecords&&e.logRecords.length)for(var r=0;r<e.logRecords.length;++r)g.opentelemetry.proto.logs.v1.LogRecord.encode(e.logRecords[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.logs.v1.ScopeLogs;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:n.logRecords&&n.logRecords.length||(n.logRecords=[]),n.logRecords.push(g.opentelemetry.proto.logs.v1.LogRecord.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")&&(r=g.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope)))return"scope."+r;if(null!=e.logRecords&&e.hasOwnProperty("logRecords")){if(!Array.isArray(e.logRecords))return"logRecords: array expected";for(var t=0;t<e.logRecords.length;++t){var r;if(r=g.opentelemetry.proto.logs.v1.LogRecord.verify(e.logRecords[t]))return"logRecords."+r}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!m.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.logs.v1.ScopeLogs)return e;var t=new g.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");t.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.logRecords){if(!Array.isArray(e.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");t.logRecords=[];for(var r=0;r<e.logRecords.length;++r){if("object"!=typeof e.logRecords[r])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");t.logRecords[r]=g.opentelemetry.proto.logs.v1.LogRecord.fromObject(e.logRecords[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.logRecords=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=g.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.logRecords&&e.logRecords.length){r.logRecords=[];for(var n=0;n<e.logRecords.length;++n)r.logRecords[n]=g.opentelemetry.proto.logs.v1.LogRecord.toObject(e.logRecords[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ScopeLogs"},e}(),r.SeverityNumber=(e={},(t=Object.create(e))[e[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,t[e[1]="SEVERITY_NUMBER_TRACE"]=1,t[e[2]="SEVERITY_NUMBER_TRACE2"]=2,t[e[3]="SEVERITY_NUMBER_TRACE3"]=3,t[e[4]="SEVERITY_NUMBER_TRACE4"]=4,t[e[5]="SEVERITY_NUMBER_DEBUG"]=5,t[e[6]="SEVERITY_NUMBER_DEBUG2"]=6,t[e[7]="SEVERITY_NUMBER_DEBUG3"]=7,t[e[8]="SEVERITY_NUMBER_DEBUG4"]=8,t[e[9]="SEVERITY_NUMBER_INFO"]=9,t[e[10]="SEVERITY_NUMBER_INFO2"]=10,t[e[11]="SEVERITY_NUMBER_INFO3"]=11,t[e[12]="SEVERITY_NUMBER_INFO4"]=12,t[e[13]="SEVERITY_NUMBER_WARN"]=13,t[e[14]="SEVERITY_NUMBER_WARN2"]=14,t[e[15]="SEVERITY_NUMBER_WARN3"]=15,t[e[16]="SEVERITY_NUMBER_WARN4"]=16,t[e[17]="SEVERITY_NUMBER_ERROR"]=17,t[e[18]="SEVERITY_NUMBER_ERROR2"]=18,t[e[19]="SEVERITY_NUMBER_ERROR3"]=19,t[e[20]="SEVERITY_NUMBER_ERROR4"]=20,t[e[21]="SEVERITY_NUMBER_FATAL"]=21,t[e[22]="SEVERITY_NUMBER_FATAL2"]=22,t[e[23]="SEVERITY_NUMBER_FATAL3"]=23,t[e[24]="SEVERITY_NUMBER_FATAL4"]=24,t),r.LogRecordFlags=function(){var e={},t=Object.create(e);return t[e[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,t[e[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,t}(),r.LogRecord=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.observedTimeUnixNano=null,e.prototype.severityNumber=null,e.prototype.severityText=null,e.prototype.body=null,e.prototype.attributes=m.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.flags=null,e.prototype.traceId=null,e.prototype.spanId=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=h.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.severityNumber&&Object.hasOwnProperty.call(e,"severityNumber")&&t.uint32(16).int32(e.severityNumber),null!=e.severityText&&Object.hasOwnProperty.call(e,"severityText")&&t.uint32(26).string(e.severityText),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&g.opentelemetry.proto.common.v1.AnyValue.encode(e.body,t.uint32(42).fork()).ldelim(),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)g.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(50).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(56).uint32(e.droppedAttributesCount),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(69).fixed32(e.flags),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(74).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(82).bytes(e.spanId),null!=e.observedTimeUnixNano&&Object.hasOwnProperty.call(e,"observedTimeUnixNano")&&t.uint32(89).fixed64(e.observedTimeUnixNano),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof f||(e=f.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new g.opentelemetry.proto.logs.v1.LogRecord;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.timeUnixNano=e.fixed64();break;case 11:n.observedTimeUnixNano=e.fixed64();break;case 2:n.severityNumber=e.int32();break;case 3:n.severityText=e.string();break;case 5:n.body=g.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;case 6:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(g.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 7:n.droppedAttributesCount=e.uint32();break;case 8:n.flags=e.fixed32();break;case 9:n.traceId=e.bytes();break;case 10:n.spanId=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof f||(e=new f(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!(m.isInteger(e.timeUnixNano)||e.timeUnixNano&&m.isInteger(e.timeUnixNano.low)&&m.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&!(m.isInteger(e.observedTimeUnixNano)||e.observedTimeUnixNano&&m.isInteger(e.observedTimeUnixNano.low)&&m.isInteger(e.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=e.severityNumber&&e.hasOwnProperty("severityNumber"))switch(e.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=e.severityText&&e.hasOwnProperty("severityText")&&!m.isString(e.severityText))return"severityText: string expected";if(null!=e.body&&e.hasOwnProperty("body")&&(r=g.opentelemetry.proto.common.v1.AnyValue.verify(e.body)))return"body."+r;if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r;if(r=g.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]))return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!m.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!m.isInteger(e.flags)?"flags: integer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||m.isString(e.traceId))?"traceId: buffer expected":null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||m.isString(e.spanId))?"spanId: buffer expected":null},e.fromObject=function(e){if(e instanceof g.opentelemetry.proto.logs.v1.LogRecord)return e;var t=new g.opentelemetry.proto.logs.v1.LogRecord;switch(null!=e.timeUnixNano&&(m.Long?(t.timeUnixNano=m.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.observedTimeUnixNano&&(m.Long?(t.observedTimeUnixNano=m.Long.fromValue(e.observedTimeUnixNano)).unsigned=!1:"string"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=parseInt(e.observedTimeUnixNano,10):"number"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=e.observedTimeUnixNano:"object"==typeof e.observedTimeUnixNano&&(t.observedTimeUnixNano=new m.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber())),e.severityNumber){default:if("number"==typeof e.severityNumber){t.severityNumber=e.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:t.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:t.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:t.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:t.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:t.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:t.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:t.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:t.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:t.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:t.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:t.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:t.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:t.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:t.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:t.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:t.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:t.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:t.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:t.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:t.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:t.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:t.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:t.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:t.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:t.severityNumber=24}if(null!=e.severityText&&(t.severityText=String(e.severityText)),null!=e.body){if("object"!=typeof e.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");t.body=g.opentelemetry.proto.common.v1.AnyValue.fromObject(e.body)}if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");t.attributes[r]=g.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.traceId&&("string"==typeof e.traceId?m.base64.decode(e.traceId,t.traceId=m.newBuffer(m.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?m.base64.decode(e.spanId,t.spanId=m.newBuffer(m.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(m.Long){var n=new m.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;r.severityNumber=t.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,r.severityText="",r.body=null,r.droppedAttributesCount=0,r.flags=0,t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=m.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=m.newBuffer(r.spanId))),m.Long?(n=new m.Long(0,0,!1),r.observedTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.observedTimeUnixNano=t.longs===String?"0":0}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new m.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.severityNumber&&e.hasOwnProperty("severityNumber")&&(r.severityNumber=t.enums===String?void 0===g.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]?e.severityNumber:g.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]:e.severityNumber),null!=e.severityText&&e.hasOwnProperty("severityText")&&(r.severityText=e.severityText),null!=e.body&&e.hasOwnProperty("body")&&(r.body=g.opentelemetry.proto.common.v1.AnyValue.toObject(e.body,t)),e.attributes&&e.attributes.length){r.attributes=[];for(var o=0;o<e.attributes.length;++o)r.attributes[o]=g.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[o],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?m.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?m.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof e.observedTimeUnixNano?r.observedTimeUnixNano=t.longs===String?String(e.observedTimeUnixNano):e.observedTimeUnixNano:r.observedTimeUnixNano=t.longs===String?m.Long.prototype.toString.call(e.observedTimeUnixNano):t.longs===Number?new m.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber():e.observedTimeUnixNano),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,d.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogRecord"},e}(),r}(),e}(),l),p),e.exports=g},7886:function(e,t){t.D=void 0,function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(t.D||(t.D={}))},9098:function(e,t,r){function n(e){for(var t={},r=e.length,n=0;n<r;n++){var o=e[n];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}r.d(t,{O:function(){return n}})},8194:function(e,t,r){r.d(t,{IXq:function(){return jt},Nz$:function(){return It},P4J:function(){return _t},Qv9:function(){return Lt},W_O:function(){return At},XyR:function(){return Ut},aP6:function(){return wt},crS:function(){return Ct},ipG:function(){return xt},vSt:function(){return Rt},vof:function(){return Pt},zPu:function(){return Nt}});var n=r(9098),o="aws.lambda.invoked_arn",i="db.system",s="db.connection_string",a="db.user",u="db.jdbc.driver_classname",c="db.name",l="db.statement",p="db.operation",d="db.mssql.instance_name",f="db.cassandra.keyspace",h="db.cassandra.page_size",m="db.cassandra.consistency_level",g="db.cassandra.table",y="db.cassandra.idempotence",v="db.cassandra.speculative_execution_count",b="db.cassandra.coordinator.id",T="db.cassandra.coordinator.dc",S="db.hbase.namespace",E="db.redis.database_index",O="db.mongodb.collection",_="db.sql.table",w="exception.type",x="exception.message",P="exception.stacktrace",R="exception.escaped",L="faas.trigger",N="faas.execution",A="faas.document.collection",I="faas.document.operation",C="faas.document.time",U="faas.document.name",j="faas.time",M="faas.cron",k="faas.coldstart",D="faas.invoked_name",V="faas.invoked_provider",B="faas.invoked_region",F="net.transport",H="net.peer.ip",X="net.peer.port",G="net.peer.name",q="net.host.ip",z="net.host.port",W="net.host.name",K="net.host.connection.type",J="net.host.connection.subtype",Y="net.host.carrier.name",Q="net.host.carrier.mcc",$="net.host.carrier.mnc",Z="net.host.carrier.icc",ee="peer.service",te="enduser.id",re="enduser.role",ne="enduser.scope",oe="thread.id",ie="thread.name",se="code.function",ae="code.namespace",ue="code.filepath",ce="code.lineno",le="http.method",pe="http.url",de="http.target",fe="http.host",he="http.scheme",me="http.status_code",ge="http.flavor",ye="http.user_agent",ve="http.request_content_length",be="http.request_content_length_uncompressed",Te="http.response_content_length",Se="http.response_content_length_uncompressed",Ee="http.server_name",Oe="http.route",_e="http.client_ip",we="aws.dynamodb.table_names",xe="aws.dynamodb.consumed_capacity",Pe="aws.dynamodb.item_collection_metrics",Re="aws.dynamodb.provisioned_read_capacity",Le="aws.dynamodb.provisioned_write_capacity",Ne="aws.dynamodb.consistent_read",Ae="aws.dynamodb.projection",Ie="aws.dynamodb.limit",Ce="aws.dynamodb.attributes_to_get",Ue="aws.dynamodb.index_name",je="aws.dynamodb.select",Me="aws.dynamodb.global_secondary_indexes",ke="aws.dynamodb.local_secondary_indexes",De="aws.dynamodb.exclusive_start_table",Ve="aws.dynamodb.table_count",Be="aws.dynamodb.scan_forward",Fe="aws.dynamodb.segment",He="aws.dynamodb.total_segments",Xe="aws.dynamodb.count",Ge="aws.dynamodb.scanned_count",qe="aws.dynamodb.attribute_definitions",ze="aws.dynamodb.global_secondary_index_updates",We="messaging.system",Ke="messaging.destination",Je="messaging.destination_kind",Ye="messaging.temp_destination",Qe="messaging.protocol",$e="messaging.protocol_version",Ze="messaging.url",et="messaging.message_id",tt="messaging.conversation_id",rt="messaging.message_payload_size_bytes",nt="messaging.message_payload_compressed_size_bytes",ot="messaging.operation",it="messaging.consumer_id",st="messaging.rabbitmq.routing_key",at="messaging.kafka.message_key",ut="messaging.kafka.consumer_group",ct="messaging.kafka.client_id",lt="messaging.kafka.partition",pt="messaging.kafka.tombstone",dt="rpc.system",ft="rpc.service",ht="rpc.method",mt="rpc.grpc.status_code",gt="rpc.jsonrpc.version",yt="rpc.jsonrpc.request_id",vt="rpc.jsonrpc.error_code",bt="rpc.jsonrpc.error_message",Tt="message.type",St="message.id",Et="message.compressed_size",Ot="message.uncompressed_size",_t=w,wt=x,xt=P,Pt=le,Rt=pe,Lt=fe,Nt=he,At=me,It=ye,Ct=Te,Ut=Se,jt=(0,n.O)([o,i,s,a,u,c,l,p,d,f,h,m,g,y,v,b,T,S,E,O,_,w,x,P,R,L,N,A,I,C,U,j,M,k,D,V,B,F,H,X,G,q,z,W,K,J,Y,Q,$,Z,ee,te,re,ne,oe,ie,se,ae,ue,ce,le,pe,de,fe,he,me,ge,ye,ve,be,Te,Se,Ee,Oe,_e,we,xe,Pe,Re,Le,Ne,Ae,Ie,Ce,Ue,je,Me,ke,De,Ve,Be,Fe,He,Xe,Ge,qe,ze,We,Ke,Je,Ye,Qe,$e,Ze,et,tt,rt,nt,ot,it,st,at,ut,ct,lt,pt,dt,ft,ht,mt,gt,yt,vt,bt,Tt,St,Et,Ot])},1868:function(e){e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,s){r[n]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,s(e))}}))}},3460:function(e,t){var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,s=[],a=0,u=0;t<r;){var c=e[t++];switch(u){case 0:s[a++]=n[c>>2],o=(3&c)<<4,u=1;break;case 1:s[a++]=n[o|c>>4],o=(15&c)<<2,u=2;break;case 2:s[a++]=n[o|c>>6],s[a++]=n[63&c],u=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=n[o],s[a++]=61,1===u&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,i=r,a=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error(s);switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error(s);return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},570:function(e){function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},8927:function(e){function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,s=8388607&n;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,o,i){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,o,i+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,o,i+r)}}}function s(e,t,r,n,o){var i=e(n,o+t),s=e(n,o+r),a=2*(s>>31)+1,u=s>>>20&2047,c=4294967296*(1048575&s)+i;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,i,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},6730:function(module){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},3090:function(e){e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,s=n;return function(r){if(r<1||r>o)return e(r);s+r>n&&(i=e(n),s=0);var a=t.call(i,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},3074:function(e,t){var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],s=0;t<r;)(n=e[t++])<128?i[s++]=n:n>191&&n<224?i[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(n>>10),i[s++]=56320+(1023&n)):i[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},r.write=function(e,t,r){for(var n,o,i=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&o),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},5051:function(e,t,r){e.exports=r(3271)},3271:function(e,t,r){var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(330),n.BufferWriter=r(1499),n.Reader=r(858),n.BufferReader=r(9611),n.util=r(7253),n.rpc=r(9214),n.roots=r(1944),n.configure=o,o()},858:function(e,t,r){e.exports=u;var n,o=r(7253),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},p=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}u.create=p(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=o.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=p(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},9611:function(e,t,r){e.exports=i;var n=r(858);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(7253);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},1944:function(e){e.exports={}},9214:function(e,t,r){t.Service=r(4558)},4558:function(e,t,r){e.exports=o;var n=r(7253);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof o))try{r=o[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},4510:function(e,t,r){e.exports=o;var n=r(7253);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},7253:function(e,t,r){var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(1868),n.base64=r(3460),n.EventEmitter=r(570),n.float=r(8927),n.inquire=r(6730),n.utf8=r(3074),n.pool=r(3090),n.LongBits=r(4510),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},330:function(e,t,r){e.exports=p;var n,o=r(7253),i=o.LongBits,s=o.base64,a=o.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function p(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(p.create=function(){return new n})()}:function(){return new p}};function f(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}p.create=d(),p.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},p.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},p.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},p.prototype.bool=function(e){return this._push(f,1,e?1:0)},p.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},p.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};p.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(o.isString(e)){var r=p.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},p.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},p.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},p.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},p._configure=function(e){n=e,p.create=d(),n._configure()}},1499:function(e,t,r){e.exports=i;var n=r(330);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(7253);function i(){n.call(this)}function s(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},2374:function(e){function t(e){return"function"==typeof e}var r=console.error.bind(console);function n(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&&e.logger&&(t(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function i(e,o,i){if(e&&e[o]){if(!i)return r("no wrapper function"),void r((new Error).stack);if(t(e[o])&&t(i)){var s=e[o],a=i(s,o);return n(a,"__original",s),n(a,"__unwrap",(function(){e[o]===a&&n(e,o,s)})),n(a,"__wrapped",!0),n(e,o,a),a}r("original object and wrapper must be functions")}else r("no original function "+o+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=i,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=s,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):r("must provide one or more functions to unwrap on modules")},e.exports=o},2356:function(e,t,r){r.r(t),r.d(t,{Control:function(){return Ru}});var n={};r.r(n),r.d(n,{CLSThresholds:function(){return _a},FCPThresholds:function(){return Ea},FIDThresholds:function(){return Ia},INPThresholds:function(){return Ba},LCPThresholds:function(){return Wa},TTFBThresholds:function(){return Ya},getCLS:function(){return wa},getFCP:function(){return Oa},getFID:function(){return Ca},getINP:function(){return za},getLCP:function(){return Ja},getTTFB:function(){return $a},onCLS:function(){return wa},onFCP:function(){return Oa},onFID:function(){return Ca},onINP:function(){return za},onLCP:function(){return Ja},onTTFB:function(){return $a}});var o=r(3589),i=r(5703),s=r(5046),a=r(4693);class u extends Error{get isConnectionError(){return this.status<0&&!this.isAbortedByRecorder&&!this.isAbortedByUserAgent}get isAbortedByRecorder(){return this.isSignalAborted}get isAbortedByUserAgent(){var e;return this.originalError instanceof Error&&"AbortError"===(null===(e=this.originalError)||void 0===e?void 0:e.name)&&!this.isSignalAborted}constructor(e,t,r,n,o,i,s,a,c){super(e),this.status=t,this.responseTimingData=r,this.requestPayload=o,this.originalError=s,this.responseData=a,this.additionalData=c,this.name="ApiError",Object.setPrototypeOf(this,u.prototype),this.responseDebugData=i?(e=>({type:e.type,bodyUsed:e.bodyUsed,headers:e.headers?Array.from(e.headers):void 0,ok:e.ok,redirected:e.redirected,url:e.url}))(i):void 0,this.isSignalAborted=null==n?void 0:n.aborted,this.visibilityState=document.visibilityState,this.isOffline=!1===navigator.onLine,this.wasBeaconFallbackUsed=!1}}var c=r(6336),l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const p=()=>l(void 0,void 0,void 0,(function*(){navigator.onLine||(yield new Promise((e=>{const t=()=>{window.removeEventListener("online",t),e()};window.addEventListener("online",t),navigator.onLine&&(e(),window.removeEventListener("online",t))})))}));var d=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const h={headers:{}},m={"Content-Type":"text/plain;charset=UTF-8"},g=new Map,y=new Set([408,429,500,502,503,504]),v=(e,t)=>d(void 0,void 0,void 0,(function*(){var{abortPreviousRequest:r,baseUrl:n,body:o,discardExistingPath:s,doNotConvert:l=!1,doNotRetryOnDocumentHidden:d=!1,headers:v,logPayloadOnError:b=!1,retryCount:T=3,retryInterval:S=1e3,retryOnHttpErrorStatusCodes:E=!1,throwOnConvert:O=!1,waitForOnlineStatus:_=!1}=t,w=f(t,["abortPreviousRequest","baseUrl","body","discardExistingPath","doNotConvert","doNotRetryOnDocumentHidden","headers","logPayloadOnError","retryCount","retryInterval","retryOnHttpErrorStatusCodes","throwOnConvert","waitForOnlineStatus"]);const x=n?(0,c.c)({baseUrl:n,discardExistingPath:s,pathName:e}):new URL(e,window.location.origin);let P=g.get(x.href);P&&r&&(i.R.debug("Aborting previous request",x),P.abort("Aborted previous request.")),P=new AbortController,g.set(x.href,P);const R=Object.assign(Object.assign(Object.assign(Object.assign({},h),{body:o}),w),{signal:P.signal});let L;R.headers=void 0===v?m:v;let N,A=null,I=performance.now(),C=0,U=-1;for(let e=1;e<=T;e++){_&&(yield p()),U=e;try{if(1===e)I=performance.now(),L=yield fetch(x.href,R);else{const t=[],r=new Promise((t=>{setTimeout((()=>{t()}),S*Math.pow(2,e-1))}));if(t.push(r),d){const e=new Promise((e=>{const t=r=>{(0,a.Q)(r)&&"hidden"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())};document.addEventListener("visibilitychange",t),"hidden"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())}));t.push(e)}if(yield Promise.race(t),d&&"hidden"===document.visibilityState)throw new Error("Document is hidden and flag `doNotRetryOnDocumentHidden` is set to true.");_&&(yield p()),I=performance.now(),L=yield fetch(x.href,R)}N=void 0}catch(t){if(N=t,t instanceof Error&&"AbortError"===t.name)throw g.delete(x.href),new u("Request was aborted.",-1,{fetchTotalMs:C,finalRetries:U},P.signal,b?JSON.stringify(o):"Payload not logged.",void 0,t);if(e<T&&(!d||"hidden"!==document.visibilityState))continue}finally{C=performance.now()-I}if(g.delete(x.href),!L)throw new u(`API request to ${x.href} failed due to connection error.`,-1,{fetchTotalMs:C,finalRetries:U},P.signal,b?JSON.stringify(o):"Payload not logged.",void 0,N);if(!(E&&y.has(L.status)&&e<T&&e<3)){if(L.status>399){try{A=yield L.json()}catch(e){if(e instanceof Error&&("AbortError"===e.name||"TypeError"===e.name))throw new u(`API request to ${x.href} failed with status code ${L.status}.`,L.status,{fetchTotalMs:C,finalRetries:U},P.signal,"Payload not logged.",L,e)}try{A||(A=yield L.text())}catch(e){if(e instanceof Error&&("AbortError"===e.name||"TypeError"===e.name))throw new u(`API request to ${x.href} failed with status code ${L.status}.`,L.status,{fetchTotalMs:C,finalRetries:U},P.signal,"Payload not logged.",L,e)}throw new u(`API request to ${x.href} failed with status code ${L.status}`,L.status,{fetchTotalMs:C,finalRetries:U},P.signal,b?JSON.stringify(o):"Payload not logged.",L,void 0,{responseData:A})}if(204===L.status)break;if(l)break;try{A=yield L.json();break}catch(t){if(t instanceof Error&&("AbortError"===t.name||"TypeError"===t.name)&&e<T)continue;if(O&&t instanceof Error){throw"AbortError"===t.name||"TypeError"===t.name?new u(`API request to ${x.href} failed due to connection error.`,-1,{fetchTotalMs:C,finalRetries:U},P.signal,b?JSON.stringify(o):"Payload not logged.",void 0,N):new Error(`Could not convert data to JSON in ${x.href} request`)}if(O)throw new Error(`Unknown error happened during API call. ${JSON.stringify(t)}`);break}}}if(void 0===L)throw new Error("Response object is undefined.");return{data:A,response:L}}));var b=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const T=e=>"success"in e&&!1===e.success;var S,E=r(9513),O=r(5991),_=(r(9098),"process.runtime.name"),w="service.name",x="telemetry.sdk.name",P="telemetry.sdk.language",R="telemetry.sdk.version",L=_,N=w,A=x,I=P,C=R,U="webjs",j=U,M=((S={})[A]="opentelemetry",S[L]="browser",S[I]=j,S[C]="1.25.0",S);var k=function(){return k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)},D=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},V=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},B=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},F=function(){function e(e,t){var r,n=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return n._attributes=Object.assign({},n._attributes,e),n.asyncAttributesPending=!1,e}),(function(e){return O.s.debug("a resource's async attributes promise rejected: %s",e),n.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[N]="unknown_service",t[I]=M[I],t[A]=M[A],t[C]=M[C],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&O.s.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return D(this,void 0,void 0,(function(){return V(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.merge=function(t){var r,n=this;if(!t)return this;var o=k(k({},this._syncAttributes),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var r,o=B(e,2),i=o[0],s=o[1];return k(k(k(k({},n._syncAttributes),i),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes),s)}));return new e(o,i)},e.EMPTY=new e({}),e}(),H="browser.platform",X="browser.brands",G="browser.mobile",q="browser.language",z="browser.user_agent",W=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},K=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},J=function(){function e(){}return e.prototype.detect=function(e){return W(this,void 0,void 0,(function(){var t;return K(this,(function(r){return"undefined"!=typeof navigator?(t=function(){var e={},t=navigator.userAgentData;t?(e[H]=t.platform,e[X]=t.brands.map((function(e){return e.brand+" "+e.version})),e[G]=t.mobile):e[z]=navigator.userAgent;return e[q]=navigator.language,e}(),[2,this._getResourceAttributes(t,e)]):[2,F.empty()]}))}))},e.prototype._getResourceAttributes=function(e,t){return e[z]||e[H]?new F(e):(O.s.debug("BrowserDetector failed: Unable to find required browser resources. "),F.empty())},e}();var Y,Q,$=new J,Z=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},te=function(e){e.forEach((function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);O.s.verbose(t)}}))},re=r(626),ne="[object Object]",oe="[object Null]",ie="[object Undefined]",se=Function.prototype.toString,ae=se.call(Object),ue=(Y=Object.getPrototypeOf,Q=Object,function(e){return Y(Q(e))}),ce=Object.prototype,le=ce.hasOwnProperty,pe=Symbol?Symbol.toStringTag:void 0,de=ce.toString;function fe(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){if(null==e)return void 0===e?ie:oe;return pe&&pe in Object(e)?function(e){var t=le.call(e,pe),r=e[pe],n=!1;try{e[pe]=void 0,n=!0}catch(e){}var o=de.call(e);n&&(t?e[pe]=r:delete e[pe]);return o}(e):function(e){return de.call(e)}(e)}(e)!==ne)return!1;var t=ue(e);if(null===t)return!0;var r=le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&se.call(r)===ae}var he=20;function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=ye(r,e.shift(),0,n);return r}function ge(e){return be(e)?e.slice():e}function ye(e,t,r,n){var o;if(void 0===r&&(r=0),!(r>he)){if(r++,Ee(e)||Ee(t)||Te(t))o=ge(t);else if(be(e)){if(o=e.slice(),be(t))for(var i=0,s=t.length;i<s;i++)o.push(ge(t[i]));else if(Se(t))for(i=0,s=(a=Object.keys(t)).length;i<s;i++){o[u=a[i]]=ge(t[u])}}else if(Se(e))if(Se(t)){if(!function(e,t){if(!fe(e)||!fe(t))return!1;return!0}(e,t))return t;o=Object.assign({},e);var a;for(i=0,s=(a=Object.keys(t)).length;i<s;i++){var u,c=t[u=a[i]];if(Ee(c))void 0===c?delete o[u]:o[u]=c;else{var l=o[u],p=c;if(ve(e,u,n)||ve(t,u,n))delete o[u];else{if(Se(l)&&Se(p)){var d=n.get(l)||[],f=n.get(p)||[];d.push({obj:e,key:u}),f.push({obj:t,key:u}),n.set(l,d),n.set(p,f)}o[u]=ye(o[u],c,r,n)}}}}else o=t;return o}}function ve(e,t,r){for(var n=r.get(e[t])||[],o=0,i=n.length;o<i;o++){var s=n[o];if(s.key===t&&s.obj===e)return!0}return!1}function be(e){return Array.isArray(e)}function Te(e){return"function"==typeof e}function Se(e){return!Ee(e)&&!be(e)&&!Te(e)&&"object"==typeof e}function Ee(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}var Oe=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),_e=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},we=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},xe=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Oe}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,we([this._that],_e(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}(),Pe=r(6675),Re=Pe._.getInstance(),Le=r(7207),Ne=r(4380),Ae=r(403),Ie=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function Ue(e){var t,r,n={};if("object"!=typeof e||null==e)return n;try{for(var o=Ie(Object.entries(e)),i=o.next();!i.done;i=o.next()){var s=Ce(i.value,2),a=s[0],u=s[1];je(a)?Me(u)?Array.isArray(u)?n[a]=u.slice():n[a]=u:O.s.warn("Invalid attribute value set for key: "+a):O.s.warn("Invalid attribute key: "+a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function je(e){return"string"==typeof e&&e.length>0}function Me(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var o=Ie(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(null!=s){if(!n){if(ke(s)){n=typeof s;continue}return!1}if(typeof s!==n)return!1}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0}(e):ke(e))}function ke(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}var De,Ve=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Be=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},Fe=function(){function e(e,t,r){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;var n=r.timestamp,o=r.observedTimestamp,i=r.severityNumber,s=r.severityText,a=r.body,u=r.attributes,c=void 0===u?{}:u,l=r.context,p=Date.now();if(this.hrTime=(0,Ae.KJ)(null!=n?n:p),this.hrTimeObserved=(0,Ae.KJ)(null!=o?o:p),l){var d=Le.u.getSpanContext(l);d&&Ne.YA(d)&&(this.spanContext=d)}this.severityNumber=i,this.severityText=s,this.body=a,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(c)}return Object.defineProperty(e.prototype,"severityText",{get:function(){return this._severityText},set:function(e){this._isLogRecordReadonly()||(this._severityText=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"severityNumber",{get:function(){return this._severityNumber},set:function(e){this._isLogRecordReadonly()||(this._severityNumber=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(e){this._isLogRecordReadonly()||(this._body=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this.totalAttributesCount-Object.keys(this.attributes).length},enumerable:!1,configurable:!0}),e.prototype.setAttribute=function(e,t){return this._isLogRecordReadonly()||null===t?this:0===e.length?(O.s.warn("Invalid attribute key: "+e),this):Me(t)||"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(1===this.droppedAttributesCount&&O.s.warn("Dropping extra attributes."),this):(Me(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t,this)):(O.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=Ve(Object.entries(e)),o=n.next();!o.done;o=n.next()){var i=Be(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.setBody=function(e){return this.body=e,this},e.prototype.setSeverityNumber=function(e){return this.severityNumber=e,this},e.prototype.setSeverityText=function(e){return this.severityText=e,this},e.prototype._makeReadonly=function(){this._isReadonly=!0},e.prototype._truncateToSize=function(e){var t=this,r=this._logRecordLimits.attributeValueLengthLimit;return r<=0?(O.s.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substring(0,t)},e.prototype._isLogRecordReadonly=function(){return this._isReadonly&&O.s.warn("Can not execute the operation on emitted log record"),this._isReadonly},e}(),He=function(){return He=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},He.apply(this,arguments)},Xe=function(){function e(e,t){this.instrumentationScope=e,this._sharedState=t}return e.prototype.emit=function(e){var t=e.context||Re.active(),r=new Fe(this._sharedState,this.instrumentationScope,He({context:t},e));this._sharedState.activeProcessor.onEmit(r,t),r._makeReadonly()},e}(),Ge=r(6644);!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(De||(De={}));var qe=",",ze=["OTEL_SDK_DISABLED"];function We(e){return ze.indexOf(e)>-1}var Ke=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Je(e){return Ke.indexOf(e)>-1}var Ye=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Qe(e){return Ye.indexOf(e)>-1}var $e=1/0,Ze=128,et={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ge.u.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:$e,OTEL_ATTRIBUTE_COUNT_LIMIT:Ze,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:$e,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ze,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:$e,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Ze,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:De.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function tt(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function rt(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function nt(e,t,r,n){void 0===n&&(n=qe);var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var ot={ALL:Ge.u.ALL,VERBOSE:Ge.u.VERBOSE,DEBUG:Ge.u.DEBUG,INFO:Ge.u.INFO,WARN:Ge.u.WARN,ERROR:Ge.u.ERROR,NONE:Ge.u.NONE};function it(e,t,r){var n=r[e];if("string"==typeof n){var o=ot[n.toUpperCase()];null!=o&&(t[e]=o)}}function st(e){var t={};for(var r in et){var n=r;if("OTEL_LOG_LEVEL"===n)it(n,t,e);else if(We(n))tt(n,t,e);else if(Je(n))rt(n,t,e);else if(Qe(n))nt(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}var at="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{};function ut(){var e=st(at);return Object.assign({},et,e)}function ct(){return st(at)}var lt,pt=(lt=function(e,t){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},lt(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}lt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),dt=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return pt(t,e),t}(Error);function ft(e,t){var r,n=new Promise((function(e,n){r=setTimeout((function(){n(new dt("Operation timed out."))}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))}var ht=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},mt=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},gt=function(){function e(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}return e.prototype.forceFlush=function(){return ht(this,void 0,void 0,(function(){var e;return mt(this,(function(t){switch(t.label){case 0:return e=this.forceFlushTimeoutMillis,[4,Promise.all(this.processors.map((function(t){return ft(t.forceFlush(),e)})))];case 1:return t.sent(),[2]}}))}))},e.prototype.onEmit=function(e,t){this.processors.forEach((function(r){return r.onEmit(e,t)}))},e.prototype.shutdown=function(){return ht(this,void 0,void 0,(function(){return mt(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this.processors.map((function(e){return e.shutdown()})))];case 1:return e.sent(),[2]}}))}))},e}(),yt=function(){function e(){}return e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.onEmit=function(e,t){},e.prototype.shutdown=function(){return Promise.resolve()},e}(),vt=function(e,t,r){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=r,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new yt},bt=function(){function e(e){var t;void 0===e&&(e={});var r=me({},{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:ut().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ut().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0},e),n=F.default().merge(null!==(t=r.resource)&&void 0!==t?t:F.empty());this._sharedState=new vt(n,r.forceFlushTimeoutMillis,function(e){var t,r,n,o,i,s,a=ct();return{attributeCountLimit:null!==(n=null!==(r=null!==(t=e.attributeCountLimit)&&void 0!==t?t:a.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)&&void 0!==r?r:a.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==n?n:Ze,attributeValueLengthLimit:null!==(s=null!==(i=null!==(o=e.attributeValueLengthLimit)&&void 0!==o?o:a.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==i?i:a.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==s?s:$e}}(r.logRecordLimits)),this._shutdownOnce=new xe(this._shutdown,this)}return e.prototype.getLogger=function(e,t,r){if(this._shutdownOnce.isCalled)return O.s.warn("A shutdown LoggerProvider cannot provide a Logger"),re.G;e||O.s.warn("Logger requested without instrumentation scope name.");var n=e||"unknown",o=n+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._sharedState.loggers.has(o)||this._sharedState.loggers.set(o,new Xe({name:n,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._sharedState)),this._sharedState.loggers.get(o)},e.prototype.addLogRecordProcessor=function(e){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch((function(e){return O.s.error("Error while trying to shutdown current log record processor",e)})),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new gt(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)},e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?(O.s.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()},e.prototype.shutdown=function(){return this._shutdownOnce.isCalled?(O.s.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._sharedState.activeProcessor.shutdown()},e}(),Tt=r(2901),St=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),Et={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},Ot={set:function(e,t,r){null!=e&&(e[t]=r)}},_t=r(9906),wt=(0,_t.n)("OpenTelemetry Baggage Key");function xt(e){return e.getValue(wt)||void 0}function Pt(){return xt(Pe._.getInstance().active())}function Rt(e,t){return e.setValue(wt,t)}function Lt(e){return e.deleteValue(wt)}var Nt=r(2497),At=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},It=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=At(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new e(this._entries);try{for(var s=It(n),a=s.next();!a.done;a=s.next()){var u=a.value;i._entries.delete(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),Ut=Symbol("BaggageEntryMetadata"),jt=Nt.K.instance();function Mt(e){return void 0===e&&(e={}),new Ct(new Map(Object.entries(e)))}var kt="propagation",Dt=new St,Vt=function(){function e(){this.createBaggage=Mt,this.getBaggage=xt,this.getActiveBaggage=Pt,this.setBaggage=Rt,this.deleteBaggage=Lt}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,Tt.$G)(kt,e,Nt.K.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=Ot),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=Et),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,Tt.kv)(kt,Nt.K.instance())},e.prototype._getGlobalPropagator=function(){return(0,Tt.mS)(kt)||Dt},e}(),Bt=Vt.getInstance(),Ft=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ht=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var n,o;try{for(var i=Ft(this._propagators),s=i.next();!s.done;s=i.next()){var a=s.value;try{a.inject(e,t,r)}catch(e){O.s.warn("Failed to inject with "+a.constructor.name+". Err: "+e.message)}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,n){try{return n.extract(e,t,r)}catch(e){O.s.warn("Failed to inject with "+n.constructor.name+". Err: "+e.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}(),Xt=r(5926),Gt=(0,_t.n)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function qt(e){return e.setValue(Gt,!0)}function zt(e){return!0===e.getValue(Gt)}var Wt="[_0-9a-z-*/]",Kt=new RegExp("^(?:"+("[a-z]"+Wt+"{0,255}")+"|"+("[a-z0-9]"+Wt+"{0,240}@[a-z]"+Wt+"{0,13}")+")$"),Jt=/^[ -~]{0,255}[!-~]$/,Yt=/,|=/;var Qt=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,t.length);(function(e){return Kt.test(e)})(o)&&function(e){return Jt.test(e)&&!Yt.test(e)}(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),$t="traceparent",Zt="tracestate",er=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");var tr=function(){function e(){}return e.prototype.inject=function(e,t,r){var n=Le.u.getSpanContext(e);if(n&&!zt(e)&&(0,Ne.YA)(n)){var o="00-"+n.traceId+"-"+n.spanId+"-0"+Number(n.traceFlags||Xt.X.NONE).toString(16);r.set(t,$t,o),n.traceState&&r.set(t,Zt,n.traceState.serialize())}},e.prototype.extract=function(e,t,r){var n=r.get(t,$t);if(!n)return e;var o=Array.isArray(n)?n[0]:n;if("string"!=typeof o)return e;var i=function(e){var t=er.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}(o);if(!i)return e;i.isRemote=!0;var s=r.get(t,Zt);if(s){var a=Array.isArray(s)?s.join(","):s;i.traceState=new Qt("string"==typeof a?a:void 0)}return Le.u.setSpanContext(e,i)},e.prototype.fields=function(){return[$t,Zt]},e}(),rr="=",nr=";",or=",",ir="baggage",sr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function ar(e){var t=e.split(nr);if(!(t.length<=0)){var r=t.shift();if(r){var n=r.indexOf(rr);if(!(n<=0)){var o,i,s=decodeURIComponent(r.substring(0,n).trim()),a=decodeURIComponent(r.substring(n+1).trim());return t.length>0&&("string"!=typeof(i=t.join(nr))&&(jt.error("Cannot create baggage metadata from unknown type: "+typeof i),i=""),o={__TYPE__:Ut,toString:function(){return i}}),{key:s,value:a,metadata:o}}}}}function ur(e){return"string"!=typeof e||0===e.length?{}:e.split(or).map((function(e){return ar(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}var cr,lr,pr,dr=function(){function e(){}return e.prototype.inject=function(e,t,r){var n=Bt.getBaggage(e);if(n&&!zt(e)){var o=function(e){return e.getAllEntries().map((function(e){var t=sr(e,2),r=t[0],n=t[1],o=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(o+=nr+n.metadata.toString()),o}))}(n).filter((function(e){return e.length<=4096})).slice(0,180),i=function(e){return e.reduce((function(e,t){var r=""+e+(""!==e?or:"")+t;return r.length>8192?e:r}),"")}(o);i.length>0&&r.set(t,ir,i)}},e.prototype.extract=function(e,t,r){var n=r.get(t,ir),o=Array.isArray(n)?n.join(or):n;if(!o)return e;var i={};return 0===o.length?e:(o.split(or).forEach((function(e){var t=ar(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),i[t.key]=r}})),0===Object.entries(i).length?e:Bt.setBaggage(e,Bt.createBaggage(i)))},e.prototype.fields=function(){return[ir]},e}(),fr=r(4669);!function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(cr||(cr={})),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(lr||(lr={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(pr||(pr={}));var hr,mr=r(8619),gr=r(8194),yr=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},br=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Tr=function(){function e(e,t,r,n,o,i,s,a,u,c){void 0===s&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:pr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=n,this.parentSpanId=i,this.kind=o,this.links=s;var l=Date.now();this._performanceStartTime=mr.u.now(),this._performanceOffset=l-(this._performanceStartTime+(0,Ae.uc)()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=c&&this.setAttributes(c),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(O.s.warn("Invalid attribute key: "+e),this):Me(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(O.s.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=yr(Object.entries(e)),o=n.next();!o.done;o=n.next()){var i=vr(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return O.s.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&O.s.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Ae.Ir)(t)&&((0,Ae.Ir)(r)||(r=t),t=void 0);var n=Ue(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,br([],vr(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?O.s.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,Ae.W5)(this.startTime,this.endTime),this._duration[0]<0&&(O.s.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&O.s.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<mr.u.now())return(0,Ae._5)(e+this._performanceOffset);if("number"==typeof e)return(0,Ae.lg)(e);if(e instanceof Date)return(0,Ae.lg)(e.getTime());if((0,Ae.VL)(e))return e;if(this._startTimeProvided)return(0,Ae.lg)(Date.now());var t=mr.u.now()-this._performanceStartTime;return(0,Ae.mw)(this.startTime,(0,Ae.lg)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var r={};"string"==typeof e?r[gr.aP6]=e:e&&(e.code?r[gr.P4J]=e.code.toString():e.name&&(r[gr.P4J]=e.name),e.message&&(r[gr.aP6]=e.message),e.stack&&(r[gr.ipG]=e.stack)),r[gr.P4J]||r[gr.aP6]?this.addEvent("exception",r,t):O.s.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&O.s.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(O.s.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(hr||(hr={}));var Sr=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:hr.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Er=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:hr.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}();var Or=function(e){O.s.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){for(var t={},r=e;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))};function _r(e){try{Or(e)}catch(e){}}var wr=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||(_r(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Er),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new Er,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new Sr,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new Er,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new Sr}return e.prototype.shouldSample=function(e,t,r,n,o,i){var s=Le.u.getSpanContext(e);return s&&(0,Ne.YA)(s)?s.isRemote?s.traceFlags&Xt.X.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):s.traceFlags&Xt.X.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),xr=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,Ne.hX)(t)&&this._accumulate(t)<this._upperBound?hr.RECORD_AND_SAMPLED:hr.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}(),Pr=ut(),Rr=De.AlwaysOn,Lr=1;function Nr(){return{sampler:Ar(Pr),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:ut().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ut().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:ut().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ut().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:ut().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:ut().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:ut().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:ut().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function Ar(e){switch(void 0===e&&(e=ut()),e.OTEL_TRACES_SAMPLER){case De.AlwaysOn:return new Er;case De.AlwaysOff:return new Sr;case De.ParentBasedAlwaysOn:return new wr({root:new Er});case De.ParentBasedAlwaysOff:return new wr({root:new Sr});case De.TraceIdRatio:return new xr(Ir(e));case De.ParentBasedTraceIdRatio:return new wr({root:new xr(Ir(e))});default:return O.s.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Rr+'".'),new Er}}function Ir(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return O.s.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Lr+"."),Lr;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(O.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Lr+"."),Lr):t<0||t>1?(O.s.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Lr+"."),Lr):t}var Cr=function(){this.generateTraceId=jr(16),this.generateSpanId=jr(8)},Ur=Array(32);function jr(e){return function(){for(var t=0;t<2*e;t++)Ur[t]=Math.floor(16*Math.random())+48,Ur[t]>=58&&(Ur[t]+=39);return String.fromCharCode.apply(null,Ur.slice(0,2*e))}}var Mr,kr=function(){function e(e,t,r){this._tracerProvider=r;var n,o,i,s,a=(n=t,o={sampler:Ar()},i=Nr(),(s=Object.assign({},i,o,n)).generalLimits=Object.assign({},i.generalLimits,n.generalLimits||{}),s.spanLimits=Object.assign({},i.spanLimits,n.spanLimits||{}),s);this._sampler=a.sampler,this._generalLimits=a.generalLimits,this._spanLimits=a.spanLimits,this._idGenerator=t.idGenerator||new Cr,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){var n,o,i;void 0===t&&(t={}),void 0===r&&(r=Re.active()),t.root&&(r=Le.u.deleteSpan(r));var s=Le.u.getSpan(r);if(zt(r))return O.s.debug("Instrumentation suppressed, returning Noop Span"),Le.u.wrapSpanContext(fr.dM);var a,u,c,l=null==s?void 0:s.spanContext(),p=this._idGenerator.generateSpanId();l&&Le.u.isSpanContextValid(l)?(a=l.traceId,u=l.traceState,c=l.spanId):a=this._idGenerator.generateTraceId();var d=null!==(n=t.kind)&&void 0!==n?n:cr.INTERNAL,f=(null!==(o=t.links)&&void 0!==o?o:[]).map((function(e){return{context:e.context,attributes:Ue(e.attributes)}})),h=Ue(t.attributes),m=this._sampler.shouldSample(r,a,e,d,h,f);u=null!==(i=m.traceState)&&void 0!==i?i:u;var g={traceId:a,spanId:p,traceFlags:m.decision===lr.RECORD_AND_SAMPLED?Xt.X.SAMPLED:Xt.X.NONE,traceState:u};if(m.decision===lr.NOT_RECORD)return O.s.debug("Recording is off, propagating context in a non-recording span"),Le.u.wrapSpanContext(g);var y=Ue(Object.assign(h,m.attributes));return new Tr(this,r,e,g,d,c,f,t.startTime,void 0,y)},e.prototype.startActiveSpan=function(e,t,r,n){var o,i,s;if(!(arguments.length<2)){2===arguments.length?s=t:3===arguments.length?(o=t,s=r):(o=t,i=r,s=n);var a=null!=i?i:Re.active(),u=this.startSpan(e,o,a),c=Le.u.setSpan(a,u);return Re.with(c,s,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),Dr=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Vr=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var n=Dr(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.forceFlush())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(r).then((function(){e()})).catch((function(t){_r(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var r,n;try{for(var o=Dr(this._spanProcessors),i=o.next();!i.done;i=o.next()){i.value.onStart(e,t)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=Dr(this._spanProcessors),o=n.next();!o.done;o=n.next()){o.value.onEnd(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=Dr(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.shutdown())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(r).then((function(){e()}),t)}))},e}(),Br=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}();!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(Mr||(Mr={}));var Fr,Hr=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=ut();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new xe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(O.s.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&Xt.X.SAMPLED&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&O.s.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(O.s.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=0,i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<i;o++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,r){var n=setTimeout((function(){r(new Error("Timeout"))}),e._exportTimeoutMillis);Re.with(qt(Re.active()),(function(){var o;e._finishedSpans.length<=e._maxExportBatchSize?(o=e._finishedSpans,e._finishedSpans=[]):o=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var i=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(n),e.code===Mr.SUCCESS?t():r(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},s=null,a=0,u=o.length;a<u;a++){var c=o[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=s||(s=[]),s.push(c.resource.waitForAsyncAttributes()))}null===s?i():Promise.all(s).then(i,(function(e){_r(e),r(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally((function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){e._isExporting=!1,_r(t)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout((function(){return t()}),this._scheduledDelayMillis),this._timer)}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),Xr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gr=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.onInit(r),n}return Xr(t,e),t.prototype.onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(Hr);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(Fr||(Fr={}));var qr=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=me({},Nr(),function(e){var t,r,n,o,i,s,a,u,c,l,p,d,f=Object.assign({},e.spanLimits),h=ct();return f.attributeCountLimit=null!==(s=null!==(i=null!==(o=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==o?o:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:h.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:Ze,f.attributeValueLengthLimit=null!==(d=null!==(p=null!==(l=null!==(u=null===(a=e.spanLimits)||void 0===a?void 0:a.attributeValueLengthLimit)&&void 0!==u?u:null===(c=e.generalLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:$e,Object.assign({},e,{spanLimits:f})}(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:F.empty(),this.resource=F.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var o=new Gr(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Br}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new kr({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return O.s.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Vr(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),Le.u.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Re.setGlobalContextManager(e.contextManager),e.propagator&&Bt.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(r){var n,o=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+e+" ms")),n=Fr.timeout}),e);t.forceFlush().then((function(){clearTimeout(o),n!==Fr.timeout&&(n=Fr.resolved,r(n))})).catch((function(e){clearTimeout(o),n=Fr.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(t).then((function(t){var n=t.filter((function(e){return e!==Fr.resolved}));n.length>0?r(n):e()})).catch((function(e){return r([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set(ut().OTEL_PROPAGATORS)),r=t.map((function(t){var r=e._getPropagator(t);return r||O.s.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),r})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===r.length?void 0:1===t.length?r[0]:new Ht({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=ut().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||O.s.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new tr}],["baggage",function(){return new dr}]]),e._registeredExporters=new Map,e}(),zr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},Wr=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Kr=function(){function e(){this._enabled=!1,this._currentContext=_t.l}return e.prototype._bindFunction=function(e,t){void 0===e&&(e=_t.l);var r=this,n=function(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r.with(e,(function(){return t.apply(n,o)}))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t},e.prototype.disable=function(){return this._currentContext=_t.l,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=_t.l),this},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var i=this._currentContext;this._currentContext=e||_t.l;try{return t.call.apply(t,Wr([r],zr(n),!1))}finally{this._currentContext=i}},e}(),Jr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yr=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return r}return Jr(t,e),t.prototype.register=function(t){void 0===t&&(t={}),void 0===t.contextManager&&(t.contextManager=new Kr),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},t}(qr);const Qr="browser.user_agent";var $r=r(7599);class Zr{constructor(e){this.onSpanEnd=e}forceFlush(){return Promise.resolve()}onEnd(e){this.onSpanEnd(e)}onStart(){}shutdown(){return Promise.resolve()}}class en{constructor(e){this.onLogEmit=e}forceFlush(){return Promise.resolve()}onEmit(e){this.onLogEmit(e)}shutdown(){return Promise.resolve()}}var tn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};let rn;const nn=(e,t)=>{let r=F.default();r=r.merge(new F({[Qr]:navigator.userAgent,[N]:e.apiConfig.appName})),r=(e=>(0,o.RT)()?e=e.merge(new F({"com.appdynamics.browser.parent-page.type":"iframe","com.appdynamics.browser.parent-page.url":(0,$r.jH)()})):e)(r),r=((e,t)=>t.apiConfig.appVersion?e=e.merge(new F({"com.appdynamics.browser.appVersion":t.apiConfig.appVersion})):e)(r,e),r=(e=>e.merge(new F({"com.appdynamics.browser.agentVersion":"unknown"})))(r);const n=function(e){var t;void 0===e&&(e={});var r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((function(t){try{var r,n=t.detect(e);return r=null!==(o=n)&&"object"==typeof o&&"function"==typeof o.then?new F({},Z(void 0,void 0,void 0,(function(){return ee(this,(function(e){switch(e.label){case 0:return[4,n];case 1:return[2,e.sent().attributes]}}))}))):n,r.waitForAsyncAttributes?r.waitForAsyncAttributes().then((function(){return O.s.debug(t.constructor.name+" found resource.",r)})):O.s.debug(t.constructor.name+" found resource.",r),r}catch(e){return O.s.error(t.constructor.name+" failed: "+e.message),F.empty()}var o})),n=r.reduce((function(e,t){return e.merge(t)}),F.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then((function(){te(r)})),n}({detectors:[$]});r=r.merge(n);const i=((e,t)=>{const r=new bt({resource:e});return r.addLogRecordProcessor(new en(t)),r})(r,t.onLogEmit),s=((e,t)=>{const r=new Yr({resource:e});return r.addSpanProcessor(new Zr(t)),r})(r,t.onSpanEmit);return rn?s.register({contextManager:rn}):s.register(),{loggerProvider:i,webTracerProvider:s}};var on=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sn=function(e){function t(t,r,n){var o=e.call(this,t)||this;return o.name="OTLPExporterError",o.data=n,o.code=r,o}return on(t,e),t}(Error),an=r(5474),un=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};var cn,ln=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class pn{static send(e,t,r,n,o,s,a,u){const c=an.$(),l=n?{data:n,headers:o,requestId:c,serviceClientType:r,timestamp:Date.now(),url:e}:null;l&&(i.R.debug("Queuing chunk",Object.assign(Object.assign({},l),{data:"[truncated]"})),s.queueChunkToSend(l));const p=()=>{try{a()}finally{l&&(i.R.debug("Removing queued chunk",Object.assign(Object.assign({},l),{data:"[truncated]"})),s.removeQueuedChunk(l))}};"hidden"===document.visibilityState&&cn.canBeSendWithBeacon(t)?cn.sendWithBeacon(e,t,p,(()=>{u(new Error("sendWithBeacon - cannot send"))})):cn.sendWithFetch(e,t,o,p,(()=>{cn.sendWithBeacon(e,t,p,(()=>ln(this,void 0,void 0,(function*(){u(new Error("sendWithFetch - cannot send via beacon fallback"))}))))}))}static canBeSendWithBeacon(e){return e.byteLength<61440}static sendWithBeacon(e,t,r,n){return ln(this,void 0,void 0,(function*(){const o=yield((e,t)=>un(void 0,[e,t],void 0,(function*(e,{baseUrl:t,body:r,retryCount:n=1,waitForOnlineStatus:o}){const i=t?(0,c.c)({baseUrl:t,pathName:e}):new URL(e),s=navigator.sendBeacon.bind(navigator);for(;n>0;){o&&(yield p());try{if(s(i.href,r))return!0;continue}catch(e){if(e instanceof TypeError&&"Illegal invocation"===e.message)try{return yield fetch(i.href,{method:"POST",body:r,keepalive:!0}),!0}catch(e){return!1}throw e}finally{n-=1}}return!1})))(e,{body:new Blob([t],{type:"application/x-protobuf"})});o?r():n()}))}static sendWithFetch(e,t,r,n,o){return ln(this,void 0,void 0,(function*(){try{yield v(e,{method:"POST",abortPreviousRequest:!1,body:new Blob([t],{type:"application/x-protobuf"}),doNotConvert:!0,doNotRetryOnDocumentHidden:!0,headers:Object.assign(Object.assign({},r),{Accept:"application/x-protobuf","Content-Type":"application/x-protobuf"}),retryCount:100,retryOnHttpErrorStatusCodes:!0}),n()}catch(e){o(new sn("sendWithFetch - cannot send"))}}))}}cn=pn,pn.sendQueuedChunks=e=>ln(void 0,void 0,void 0,(function*(){let t=[];try{t=e.getQueuedChunks()}finally{e.removeQueuedChunks()}for(const r of t)i.R.debug("Found queued chunk",Object.assign(Object.assign({},r),{data:"[truncated]"})),Math.abs(Date.now()-r.timestamp)>9e5?i.R.debug("sendQueuedChunks - chunk is too old",Object.assign(Object.assign({},r),{data:"[truncated]"})):cn.send(r.url,r.data,r.serviceClientType,r.data,r.headers,e,(()=>{i.R.debug("sendQueuedChunks - success",Object.assign(Object.assign({},r),{data:"[truncated]"}))}),(()=>{i.R.debug("sendQueuedChunks - error",Object.assign(Object.assign({},r),{data:"[truncated]"}))}))}));var dn=r(6022),fn=r(3906);class hn{get initialBrowserDeviation(){return this.performanceStartTime-this.dateNowStartTime}get currentBrowserDeviation(){return Math.abs(this.performanceTime-Date.now())-Math.abs(this.initialBrowserDeviation)}get performanceTime(){return performance.timeOrigin+performance.now()-this.serverTimeDeviation}constructor(e){this.lastServerTime=new Date(e),this.relativeTimeSinceLastServerTimeSet=performance.now(),this.dateNowStartTime=Date.now(),this.performanceStartTime=performance.timeOrigin+performance.now(),this.serverTimeDeviation=0,i.R.debug("TimeService: deviations",{currentBrowserDeviation:this.currentBrowserDeviation,initialBrowserDeviation:this.initialBrowserDeviation})}getServerTime(){return new Date(this.lastServerTime.getTime()+performance.now()-this.relativeTimeSinceLastServerTimeSet)}getServerTimestamp(){return this.getServerTime().getTime()}isTimeInBrowserOutOfSync(){return this.currentBrowserDeviation>100&&i.R.debug("Current time deviation",this.currentBrowserDeviation,document.visibilityState),Math.abs(this.currentBrowserDeviation)>6e4}updateServerTime(e){this.lastServerTime=new Date(e),this.relativeTimeSinceLastServerTimeSet=performance.now(),this.serverTimeDeviation=performance.timeOrigin+performance.now()-this.getServerTimestamp(),i.R.debug("TimeService: updateServerTime",{serverTimeDeviation:this.serverTimeDeviation}),this.performanceStartTime=performance.timeOrigin+performance.now()-this.serverTimeDeviation,this.dateNowStartTime=Date.now()}}var mn=r(9015),gn=r(6200),yn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class vn{constructor(e,t){this.services=e,this.config=t,this.getProjectMetadataFromParent=e=>yn(this,void 0,void 0,(function*(){this.services.postMessageService.sendEventToSource(Object.assign(Object.assign({},this.services.postMessageService.createPostMessageEvent()),{name:fn.g4.GET_PROJECT_METADATA,sessionId:e}),window.parent);return(yield this.services.postMessageService.waitForEventFromSource(fn.g4.PROJECT_METADATA,window.parent)).projectMetadata}))}getActiveSessionMetadataIfExistsOrGenerateNewOne(){return yn(this,void 0,void 0,(function*(){return yield this.getProjectMetadataFromParent()}))}getLastChunkIndex(e){return yn(this,void 0,void 0,(function*(){var t;return null!==(t=(yield this.getProjectMetadataFromParent(e)).lastChunkIndex)&&void 0!==t?t:-1}))}}class bn{constructor(e,t){this.services=e,this.config=t,this.hasSessionTimedOut=e=>this.services.timeService.getServerTimestamp()>=e+1e3*this.config.brum.sessionTimeout;const r=this.services.storageService.getMetadataForProject();r&&r.previousSessions&&(r.previousSessions=r.previousSessions.filter((e=>Math.abs(this.services.timeService.getServerTimestamp()-e.createdAt)<36e5)),this.services.storageService.persistMetadata(r))}generateMetadataForNewSession(){var e,t;const r=this.services.storageService.getMetadataForProject(),n=null!==(e=null==r?void 0:r.previousSessions)&&void 0!==e?e:[];r&&n.unshift({createdAt:r.createdAt,lastChunkIndex:r.lastChunkIndex,lastUpdatedAt:r.lastUpdatedAt,sessionId:r.sessionId});const o={anonymousUserId:null!==(t=null==r?void 0:r.anonymousUserId)&&void 0!==t?t:an.$(),createdAt:this.services.timeService.getServerTimestamp(),lastChunkIndex:-1,lastUpdatedAt:this.services.timeService.getServerTimestamp(),previousSessions:n,sessionId:an.$()};return this.services.storageService.persistMetadata(o),Object.assign(Object.assign({},o),{meta:{isNewSession:!0}})}getActiveSessionMetadataIfExistsOrGenerateNewOne(){const e=this.services.storageService.getMetadataForProject();if(e&&!this.hasSessionTimedOut(e.lastUpdatedAt)){const t=1e3*this.config.brum.maxSessionLength-(this.services.timeService.getServerTimestamp()-e.createdAt);return t<.05*this.config.brum.maxSessionLength?this.generateMetadataForNewSession():Object.assign(Object.assign({},e),{meta:{timeLeft:t}})}return this.generateMetadataForNewSession()}getLastChunkIndex(e){var t,r;const n=this.services.storageService.getMetadataForProject();if(!n)return null;if(n.sessionId===e)return null!==(t=n.lastChunkIndex)&&void 0!==t?t:-1;for(const t of n.previousSessions)if(t.sessionId===e)return null!==(r=t.lastChunkIndex)&&void 0!==r?r:-1;return null}refreshSessionLastUpdatedAt(e){const t=this.services.storageService.getMetadataForProject();if(t){t.sessionId===e&&(t.lastUpdatedAt=this.services.timeService.getServerTimestamp());for(const r of t.previousSessions)if(r.sessionId===e){r.lastUpdatedAt=this.services.timeService.getServerTimestamp();break}this.services.storageService.updateProjectMetadata(t)}}updateLastChunkIndex(e,t){const r=this.services.storageService.getMetadataForProject();if(r){r.sessionId===e&&(r.lastChunkIndex=t);for(const n of r.previousSessions)if(n.sessionId===e){n.lastChunkIndex=t;break}this.services.storageService.updateProjectMetadata(r)}}}var Tn=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class Sn{constructor(e,t){this.services=e,this.config=t,this.getActiveSessionMetadataIfExistsOrGenerateNewOne=()=>Tn(this,void 0,void 0,(function*(){return this.metadataService.getActiveSessionMetadataIfExistsOrGenerateNewOne()})),this.getLastChunkIndex=e=>Tn(this,void 0,void 0,(function*(){return this.metadataService.getLastChunkIndex(e)})),this.refreshSessionLastUpdatedAt=e=>{this.metadataService instanceof bn&&this.metadataService.refreshSessionLastUpdatedAt(e)},this.updateLastChunkIndex=(e,t)=>{this.metadataService instanceof bn&&this.metadataService.updateLastChunkIndex(e,t)},this.metadataService=dn.C.isNormalMode?new bn(e,t):new vn(e,t),dn.C.isNormalMode&&this.services.postMessageService.addPostMessageEventListener(fn.g4.GET_PROJECT_METADATA,((e,t)=>Tn(this,void 0,void 0,(function*(){this.services.postMessageService.sendEventToSource(Object.assign(Object.assign({},this.services.postMessageService.createPostMessageEvent()),{name:fn.g4.PROJECT_METADATA,projectMetadata:yield this.getActiveSessionMetadataIfExistsOrGenerateNewOne()}),t)}))))}}var En=r(4141),On=r(2512),_n=r(460),wn=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},xn=1e4;function Pn(e,t){return e.endsWith("/")||(e+="/"),e+t}function Rn(e){try{var t=new URL(e);return""===t.pathname&&(t.pathname=t.pathname+"/"),t.toString()}catch(t){return O.s.warn("Could not parse export URL: '"+e+"'"),e}}function Ln(e){return"number"==typeof e?e<=0?Nn(e,xn):e:function(){var e,t=Number(null!==(e=ut().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==e?e:ut().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Nn(t,xn):t}()}function Nn(e,t){return O.s.warn("Timeout must be greater than 0",e),t}var An=function(){function e(e){void 0===e&&(e={}),this._sendingPromises=[],this.url=this.getDefaultUrl(e),"string"==typeof e.hostname&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new xe(this._shutdown,this),this._concurrencyLimit="number"==typeof e.concurrencyLimit?e.concurrencyLimit:30,this.timeoutMillis=Ln(e.timeoutMillis),this.onInit(e)}return e.prototype.export=function(e,t){this._shutdownOnce.isCalled?t({code:Mr.FAILED,error:new Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?t({code:Mr.FAILED,error:new Error("Concurrent export limit reached")}):this._export(e).then((function(){t({code:Mr.SUCCESS})})).catch((function(e){t({code:Mr.FAILED,error:e})}))},e.prototype._export=function(e){var t=this;return new Promise((function(r,n){try{O.s.debug("items to be sent",e),t.send(e,r,n)}catch(e){n(e)}}))},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then((function(){}))},e.prototype._shutdown=function(){return O.s.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}(),In=function(){return In=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},In.apply(this,arguments)},Cn=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function Un(e,t,r,n,o,i){var s,a,u=!1,c=setTimeout((function(){if(clearTimeout(s),u=!0,a.readyState===XMLHttpRequest.DONE){var e=new sn("Request Timeout");i(e)}else a.abort()}),n),l=function(n,p){void 0===n&&(n=5),void 0===p&&(p=1e3),(a=new XMLHttpRequest).open("POST",t);Object.entries(In(In({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach((function(e){var t=Cn(e,2),r=t[0],n=t[1];a.setRequestHeader(r,n)})),a.send(e),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE&&!1===u)if(a.status>=200&&a.status<=299)O.s.debug("xhr success",e),o(),clearTimeout(c),clearTimeout(s);else if(a.status&&(d=a.status,[429,502,503,504].includes(d))&&n>0){var t=void 0;p*=1.5,t=a.getResponseHeader("Retry-After")?function(e){if(null==e)return-1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?1e3*t:-1;var r=new Date(e).getTime()-Date.now();return r>=0?r:0}(a.getResponseHeader("Retry-After")):Math.round(Math.random()*(5e3-p)+p),s=setTimeout((function(){l(n-1,p)}),t)}else{var r=new sn("Failed to export with XHR (status: "+a.status+")",a.status);i(r),clearTimeout(c),clearTimeout(s)}var d},a.onabort=function(){if(u){var e=new sn("Request Timeout");i(e)}clearTimeout(c),clearTimeout(s)},a.onerror=function(){if(u){var e=new sn("Request Timeout");i(e)}clearTimeout(c),clearTimeout(s)}};l()}var jn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mn=function(){return Mn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mn.apply(this,arguments)},kn=function(e){function t(t,r,n){void 0===t&&(t={});var o=e.call(this,t)||this;return o._useXHR=!1,o._serializer=r,o._contentType=n,o._useXHR=!!t.headers||"function"!=typeof navigator.sendBeacon,o._useXHR?o._headers=Object.assign({},function(e){void 0===e&&(e={});var t={};return Object.entries(e).forEach((function(e){var r=wn(e,2),n=r[0],o=r[1];void 0!==o?t[n]=String(o):O.s.warn('Header "'+n+'" has invalid value ('+o+") and will be ignored")})),t}(t.headers),ur(ut().OTEL_EXPORTER_OTLP_HEADERS)):o._headers={},o}return jn(t,e),t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(e,t,r){var n,o=this;if(this._shutdownOnce.isCalled)O.s.debug("Shutdown already started. Cannot send objects");else{var i=null!==(n=this._serializer.serializeRequest(e))&&void 0!==n?n:new Uint8Array,s=new Promise((function(e,t){o._useXHR?Un(i,o.url,Mn(Mn({},o._headers),{"Content-Type":o._contentType}),o.timeoutMillis,e,t):function(e,t,r,n,o){navigator.sendBeacon(t,new Blob([e],r))?(O.s.debug("sendBeacon - can send",e),n()):o(new sn("sendBeacon - cannot send "+e))}(i,o.url,{type:o._contentType},e,t)})).then(t,r);this._sendingPromises.push(s);var a=function(){var e=o._sendingPromises.indexOf(s);o._sendingPromises.splice(e,1)};s.then(a,a)}},t}(An),Dn=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function Vn(e){return{name:e.name,version:e.version}}function Bn(e){return Object.keys(e).map((function(t){return Fn(t,e[t])}))}function Fn(e,t){return{key:e,value:Hn(t)}}function Hn(e){var t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Hn)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map((function(e){var t=Dn(e,2);return Fn(t[0],t[1])}))}}:{}}function Xn(e,t){var r,n=e.spanContext(),o=e.status;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:null===(r=n.traceState)||void 0===r?void 0:r.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:Bn(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map((function(e){return function(e,t){return{attributes:e.attributes?Bn(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}(e,t)})),droppedEventsCount:e.droppedEventsCount,status:{code:o.code,message:o.message},links:e.links.map((function(e){return function(e,t){var r;return{attributes:e.attributes?Bn(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:null===(r=e.context.traceState)||void 0===r?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}(e,t)})),droppedLinksCount:e.droppedLinksCount}}function Gn(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function qn(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var o=Gn(e.charCodeAt(n)),i=Gn(e.charCodeAt(n+1));t[r++]=o<<4|i}return t}function zn(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function Wn(e){var t,r=zn(e);return t=r,{low:Number(BigInt.asUintN(32,t)),high:Number(BigInt.asUintN(32,t>>BigInt(32)))}}var Kn="undefined"!=typeof BigInt?function(e){return zn(e).toString()}:Ae.u5;function Jn(e){return e}function Yn(e){if(void 0!==e)return qn(e)}var Qn={encodeHrTime:Wn,encodeSpanContext:qn,encodeOptionalSpanContext:Yn};function $n(e){var t,r;if(void 0===e)return Qn;var n=null===(t=e.useLongBits)||void 0===t||t,o=null!==(r=e.useHex)&&void 0!==r&&r;return{encodeHrTime:n?Wn:Kn,encodeSpanContext:o?Jn:qn,encodeOptionalSpanContext:o?Jn:Yn}}function Zn(e){return{attributes:Bn(e.attributes),droppedAttributesCount:0}}var eo,to,ro,no=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oo=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function io(e,t){return{resourceSpans:so(e,$n(t))}}function so(e,t){for(var r=function(e){var t,r,n=new Map;try{for(var o=no(e),i=o.next();!i.done;i=o.next()){var s=i.value,a=n.get(s.resource);a||(a=new Map,n.set(s.resource,a));var u=s.instrumentationLibrary.name+"@"+(s.instrumentationLibrary.version||"")+":"+(s.instrumentationLibrary.schemaUrl||""),c=a.get(u);c||(c=[],a.set(u,c)),c.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}(e),n=[],o=r.entries(),i=o.next();!i.done;){for(var s=oo(i.value,2),a=s[0],u=[],c=s[1].values(),l=c.next();!l.done;){var p=l.value;if(p.length>0){var d=p.map((function(e){return Xn(e,t)}));u.push({scope:Vn(p[0].instrumentationLibrary),spans:d,schemaUrl:p[0].instrumentationLibrary.schemaUrl})}l=c.next()}var f={resource:Zn(a),scopeSpans:u,schemaUrl:void 0};n.push(f),i=o.next()}return n}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(eo||(eo={})),function(e){e[e.HISTOGRAM=0]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",e[e.GAUGE=2]="GAUGE",e[e.SUM=3]="SUM"}(to||(to={})),function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"}(ro||(ro={}));var ao=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uo=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function co(e,t){return{resourceLogs:lo(e,$n(t))}}function lo(e,t){var r=function(e){var t,r,n=new Map;try{for(var o=ao(e),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.resource,u=s.instrumentationScope,c=u.name,l=u.version,p=void 0===l?"":l,d=u.schemaUrl,f=void 0===d?"":d,h=n.get(a);h||(h=new Map,n.set(a,h));var m=c+"@"+p+":"+f,g=h.get(m);g||(g=[],h.set(m,g)),g.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}(e);return Array.from(r,(function(e){var r=uo(e,2),n=r[0],o=r[1];return{resource:Zn(n),scopeLogs:Array.from(o,(function(e){var r=uo(e,2)[1];return{scope:Vn(r[0].instrumentationScope),logRecords:r.map((function(e){return function(e,t){var r,n,o;return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:e.severityNumber,severityText:e.severityText,body:Hn(e.body),attributes:po(e.attributes),droppedAttributesCount:e.droppedAttributesCount,flags:null===(r=e.spanContext)||void 0===r?void 0:r.traceFlags,traceId:t.encodeOptionalSpanContext(null===(n=e.spanContext)||void 0===n?void 0:n.traceId),spanId:t.encodeOptionalSpanContext(null===(o=e.spanContext)||void 0===o?void 0:o.spanId)}}(e,t)})),schemaUrl:r[0].instrumentationScope.schemaUrl}})),schemaUrl:void 0}}))}function po(e){return Object.keys(e).map((function(t){return Fn(t,e[t])}))}var fo={serializeRequest:function(e){var t=io(e,{useHex:!0,useLongBits:!1});return(new TextEncoder).encode(JSON.stringify(t))},deserializeResponse:function(e){var t=new TextDecoder;return JSON.parse(t.decode(e))}},ho={serializeRequest:function(e){var t=co(e,{useHex:!0,useLongBits:!1});return(new TextEncoder).encode(JSON.stringify(t))},deserializeResponse:function(e){var t=new TextDecoder;return JSON.parse(t.decode(e))}},mo="v1/logs",go="http://localhost:4318/"+mo;var yo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(){return vo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vo.apply(this,arguments)},bo=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,vo({timeoutMillis:ut().OTEL_EXPORTER_OTLP_LOGS_TIMEOUT},t),ho,"application/json")||this;return r._headers=vo(vo({},r._headers),ur(ut().OTEL_EXPORTER_OTLP_LOGS_HEADERS)),r}return yo(t,e),t.prototype.getDefaultUrl=function(e){return function(e){return"string"==typeof e.url?e.url:ut().OTEL_EXPORTER_OTLP_LOGS_ENDPOINT.length>0?Rn(ut().OTEL_EXPORTER_OTLP_LOGS_ENDPOINT):ut().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Pn(ut().OTEL_EXPORTER_OTLP_ENDPOINT,mo):go}(e)},t}(kn),To=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),So="v1/traces",Eo="http://localhost:4318/"+So,Oo=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t,fo,"application/json")||this;return r._headers=Object.assign(r._headers,ur(ut().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),r}return To(t,e),t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:ut().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Rn(ut().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):ut().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Pn(ut().OTEL_EXPORTER_OTLP_ENDPOINT,So):Eo},t}(kn);var _o={_export:function(e,t){return new Promise((function(r){Re.with(qt(Re.active()),(function(){e.export(t,(function(e){r(e)}))}))}))}},wo=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},xo=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Po=function(){function e(e,t){var r,n,o,i;this._exporter=e,this._finishedLogRecords=[];var s=ut();this._maxExportBatchSize=null!==(r=null==t?void 0:t.maxExportBatchSize)&&void 0!==r?r:s.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=null!==(n=null==t?void 0:t.maxQueueSize)&&void 0!==n?n:s.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=null!==(o=null==t?void 0:t.scheduledDelayMillis)&&void 0!==o?o:s.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=null!==(i=null==t?void 0:t.exportTimeoutMillis)&&void 0!==i?i:s.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new xe(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(O.s.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.onEmit=function(e){this._shutdownOnce.isCalled||this._addToBuffer(e)},e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return wo(this,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return this.onShutdown(),[4,this._flushAll()];case 1:return e.sent(),[4,this._exporter.shutdown()];case 2:return e.sent(),[2]}}))}))},e.prototype._addToBuffer=function(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=Math.ceil(e._finishedLogRecords.length/e._maxExportBatchSize),i=0;i<o;i++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedLogRecords.length?Promise.resolve():new Promise((function(t,r){ft(e._export(e._finishedLogRecords.splice(0,e._maxExportBatchSize)),e._exportTimeoutMillis).then((function(){return t()})).catch(r)}))},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout((function(){e._flushOneBatch().then((function(){e._finishedLogRecords.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(e){_r(e)}))}),this._scheduledDelayMillis),this._timer)},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e.prototype._export=function(e){var t=this,r=function(){return _o._export(t._exporter,e).then((function(e){var t;e.code!==Mr.SUCCESS&&_r(null!==(t=e.error)&&void 0!==t?t:new Error("BatchLogRecordProcessor: log record export failed (status "+e+")"))})).catch(_r)},n=e.map((function(e){return e.resource})).filter((function(e){return e.asyncAttributesPending}));return 0===n.length?r():Promise.all(n.map((function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(r,_r)},e}(),Ro=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lo=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n._onInit(r),n}return Ro(t,e),t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t.prototype._onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t}(Po),No=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ao=function(){function e(){}return e.prototype.export=function(e,t){this._sendLogRecords(e,t)},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t,r,n;return{resource:{attributes:e.resource.attributes},timestamp:(0,Ae.w_)(e.hrTime),traceId:null===(t=e.spanContext)||void 0===t?void 0:t.traceId,spanId:null===(r=e.spanContext)||void 0===r?void 0:r.spanId,traceFlags:null===(n=e.spanContext)||void 0===n?void 0:n.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}},e.prototype._sendLogRecords=function(e,t){var r,n;try{for(var o=No(e),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}null==t||t({code:Mr.SUCCESS})},e}(),Io=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Co=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,Ae.w_)(e.startTime),duration:(0,Ae.w_)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,n;try{for(var o=Io(e),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(t)return t({code:Mr.SUCCESS})},e}();const Uo={DEVTOOLS_CLIENT:4466,DEVTOOLS_PAGE:4477,DEVTOOLS_SERVER_HTTP:4444,DEVTOOLS_SERVER_HTTPS:4455,PLAYER_IFRAME:4488,TESTS_PRIMARY:4400,TESTS_SECONDARY:4401};var jo,Mo=r(549),ko=Mo.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,Do=Mo.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,Vo=(Mo.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,Mo.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,Mo.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse),Bo=Mo.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,Fo={serializeRequest:function(e){var t=co(e);return Do.encode(t).finish()},deserializeResponse:function(e){return ko.decode(e)}},Ho={serializeRequest:function(e){var t=io(e);return Bo.encode(t).finish()},deserializeResponse:function(e){return Vo.decode(e)}},Xo=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Go="v1/traces",qo="http://localhost:4318/"+Go,zo=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t,Ho,"application/x-protobuf")||this;return r._headers=Object.assign(r._headers,ur(ut().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),r}return Xo(t,e),t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:ut().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?Rn(ut().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):ut().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Pn(ut().OTEL_EXPORTER_OTLP_ENDPOINT,Go):qo},t}(kn);!function(e){e[e.SPANS=0]="SPANS",e[e.METRICS=1]="METRICS",e[e.LOGS=2]="LOGS"}(jo||(jo={}));class Wo extends zo{constructor(e,t,r=!1){super(e),this.services=t,this.exportForTests=r}send(e,t,r){if(this._shutdownOnce.isCalled)return void i.R.debug("Shutdown already started. Cannot send objects",e);const n=Ho.serializeRequest(e);n?(pn.send(this.url,n,jo.SPANS,null,this._headers,this.services.storageService,t,r),this.exportForTests&&(window.exportedItems?window.exportedItems.push(...e):window.exportedItems=e)):i.R.debug("No data to send")}}var Ko=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jo="v1/logs",Yo="http://localhost:4318/"+Jo,Qo=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t,Fo,"application/x-protobuf")||this;return r._headers=Object.assign(r._headers,ur(ut().OTEL_EXPORTER_OTLP_LOGS_HEADERS)),r}return Ko(t,e),t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:ut().OTEL_EXPORTER_OTLP_LOGS_ENDPOINT.length>0?Rn(ut().OTEL_EXPORTER_OTLP_LOGS_ENDPOINT):ut().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?Pn(ut().OTEL_EXPORTER_OTLP_ENDPOINT,Jo):Yo},t}(kn);class $o extends Qo{constructor(e,t,r=!1){super(e),this.services=t,this.exportForTests=r}send(e,t,r){var n;if(this._shutdownOnce.isCalled)return void i.R.debug("Shutdown already started. Cannot send objects",e);const o=e.filter((e=>{var t,r;return(null===(t=e.attributes)||void 0===t?void 0:t["event.name"])===On.HX||(null===(r=e.attributes)||void 0===r?void 0:r["event.name"])===a.B.SESSION_START})),s=Fo.serializeRequest(e),u=null!==(n=Fo.serializeRequest(o))&&void 0!==n?n:null;s?(pn.send(this.url,s,jo.LOGS,u,this._headers,this.services.storageService,t,r),this.exportForTests&&(window.exportedItems?window.exportedItems.push(...e):window.exportedItems=e)):i.R.debug("No data to send",e)}}var Zo=r(4318);const ei="http:"===location.protocol,ti=[Uo.TESTS_PRIMARY,Uo.TESTS_SECONDARY].includes(Number(location.port)),ri=ei&&!ti,ni=(e,t)=>{const r=[];return r.push(new Gr(new Wo({headers:{Accept:"application/x-protobuf"},url:(0,c.c)({baseUrl:e.apiConfig.url,discardExistingPath:!0,pathName:"/eum/v1/traces"}).toString()},t,e.apiConfig.exportForTests),{exportTimeoutMillis:e.apiConfig.exportTimeout,scheduledDelayMillis:e.apiConfig.exportInterval})),(e.apiConfig.exportersForDebug||(0,Zo.y)(document))&&(r.push(new Gr(new Co,{exportTimeoutMillis:e.apiConfig.exportTimeout,scheduledDelayMillis:e.apiConfig.exportInterval})),ri&&r.push(new Gr(new Oo({headers:{Accept:"application/json"},url:"http://localhost:4318/v1/traces"}),{exportTimeoutMillis:e.apiConfig.exportTimeout,scheduledDelayMillis:e.apiConfig.exportInterval}))),r},oi=(e,t)=>{const r=[];if(r.push(new Lo(new $o({headers:{Accept:"application/x-protobuf","Content-Type":"application/x-protobuf"},url:(0,c.c)({baseUrl:e.apiConfig.url,discardExistingPath:!0,pathName:"/eum/v1/logs"}).toString()},t,e.apiConfig.exportForTests),{exportTimeoutMillis:e.apiConfig.exportTimeout,scheduledDelayMillis:e.apiConfig.exportInterval})),e.apiConfig.exportersForDebug||(0,Zo.y)(document)){r.push(new Lo(new Ao));const e={Accept:"application/json"};ri&&r.push(new Lo(new bo({headers:e,url:"http://localhost:4318/v1/logs"})));const t=ei?`http://localhost:${Uo.DEVTOOLS_SERVER_HTTP}/v1/logs`:`https://localhost:${Uo.DEVTOOLS_SERVER_HTTPS}/v1/logs`;r.push(new Lo(new bo({headers:e,url:t})))}return r};var ii=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};let si=null;const ai=()=>ii(void 0,void 0,void 0,(function*(){if(si)return si;try{const e=null===navigator||void 0===navigator?void 0:navigator.userAgentData;if(!e)return"unknown";const t=yield e.getHighEntropyValues(["platformVersion"]);return si=t.platformVersion,si}catch(e){return"unknown"}}));var ui=r(1802),ci=r(2376);const li=e=>{return t=e,(0,ui.Kg)(t)&&t.length>0&&t.length<=200?(e=>{const t=e.trim();return t!==e&&(0,ci.o)(`Invalid format of string '${t}'. Please remove spaces at the beginning or at the end of the string.`),t})(String(e)):((0,ci.o)(`Invalid custom event name '${e}'.`),e);var t};var pi=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const di=(0,En.i)("Session");class fi{constructor(e,t,r,n,o){this.projectMetadata=e,this.services=t,this.listeners=r,this.providers=n,this.config=o,this.isDocumentVisibilityListenerAttached=!1,this.isStopped=!1,this.processLogRecord=e=>pi(this,void 0,void 0,(function*(){if(di.debug("Processing log",{logRecord:e}),e.attributes["session.id"]=this.projectMetadata.sessionId,e.attributes["browser.instance.id"]=mn.$.id,e.attributes["browser.instance.visibility_state"]=document.visibilityState,e.attributes["browser.platform_version"]=yield ai(),e.body&&e.attributes["event.name"]==On.HX){const t=yield this.services.metadataService.getLastChunkIndex(this.id);if(null===t)return void di.error("Session metadata not found. Ignore replay data.");const r=t+1;this.services.metadataService.updateLastChunkIndex(this.id,r),e.attributes["replay.chunk_index"]=r,e._body=e.body.replace(On.r9,String(r))}this.exportingProcessors.logRecordProcessors.forEach((t=>t.onEmit(e))),this.addOrResetSessionTimeout(),this.services.metadataService.refreshSessionLastUpdatedAt(this.id)})),this.processSpan=e=>pi(this,void 0,void 0,(function*(){di.debug("Processing span",{span:e}),e.attributes["session.id"]=this.projectMetadata.sessionId,e.attributes["browser.instance.id"]=mn.$.id,e.attributes["browser.instance.visibility_state"]=document.visibilityState,e.attributes["browser.platform_version"]=yield ai(),this.exportingProcessors.spanProcessors.forEach((t=>t.onEnd(e))),this.addOrResetSessionTimeout(),this.services.metadataService.refreshSessionLastUpdatedAt(this.id)})),this.trackCustomEvent=(...e)=>{const t=e[0];if(!li(t))return void di.warn(`Custom event name must be non-empty string, got '${t}'`);let r=e[1];if(r){if("object"!=typeof r||Array.isArray(r))return void di.warn(`Custom event props must be non-empty object with simple key value pairs of primitive values, got '${(0,_n.A)(r)}'`);r=(e=>{const t={};for(const[r,n]of Object.entries(e))"number"==typeof n||"string"==typeof n||"boolean"==typeof n?t[r]=n:(0,ci.o)(`Removing key '${r}' as it is not a primitive value. Got '${(0,_n.A)(n)}'. Must be of number|string|boolean`);return t})(r)}const n=(0,Ae.JU)((0,Ae._5)()),o={attributes:Object.assign(Object.assign({},r),{"enduser.anon_id":this.projectMetadata.anonymousUserId,"event.domain":"dea","event.is_custom":!0,"event.name":t}),observedTimestamp:n,timestamp:n};di.debug("Emitting custom event",o);this.providers.loggerProvider.getLogger("control").emit(o)},this.addOrResetMaxSessionDurationChecker=()=>{var e;const t=this.sessionMaxLengthTimeoutId;this.sessionMaxLengthTimeoutId&&clearTimeout(this.sessionMaxLengthTimeoutId),this.isStopped?di.debug("Session is stopped. Skip adding session max length timeout."):this.sessionMaxLengthTimeoutId=window.setTimeout((()=>{di.debug("Session max length reached.",{date:(new Date).toLocaleString(),previousSessionMaxLengthTimeoutId:t,sessionId:this.id,sessionMaxLengthTimeoutId:this.sessionMaxLengthTimeoutId}),this.listeners.onSessionMaxLengthReached()}),null!==(e=this.projectMetadata.meta.timeLeft)&&void 0!==e?e:1e3*this.config.brum.maxSessionLength)},this.addOrResetSessionTimeout=()=>{this.sessionTimeoutId&&clearTimeout(this.sessionTimeoutId),this.isStopped?di.debug("Session is stopped. Skip adding session timeout."):this.sessionTimeoutId=window.setTimeout((()=>{di.debug("Session timeout reached."),this.listeners.onSessionTimeout()}),1e3*this.config.brum.sessionTimeout)},this.addSessionPulseInterval=()=>{this.sessionPulseIntervalId||(this.sessionPulseIntervalId=window.setInterval((()=>{const e=(0,Ae.JU)((0,Ae._5)()),t={attributes:{"event.domain":"brum","event.name":a.B.SESSION_PULSE,time_unix_nano:1e6*e},observedTimestamp:e,timestamp:e};di.debug("Emitting session_pulse event",t);this.providers.loggerProvider.getLogger("control").emit(t)}),3e5))},this.attachDocumentVisibilityListener=()=>{this.isDocumentVisibilityListenerAttached||(document.addEventListener("visibilitychange",this.onVisibilityChange,{capture:!0}),this.isDocumentVisibilityListenerAttached=!0)},this.detachDocumentVisibilityListener=()=>{this.isDocumentVisibilityListenerAttached&&(document.removeEventListener("visibilitychange",this.onVisibilityChange,{capture:!0}),this.isDocumentVisibilityListenerAttached=!1)},this.emitSessionStartEvent=e=>{var t,r,n;let o=(0,Ae.JU)((0,Ae._5)());if(e.isInitialSession){const e=performance.getEntriesByType("navigation")[0];if(e){const r=null!==(t=e.fetchStart)&&void 0!==t?t:0;r>0&&(o=(0,Ae.JU)((0,Ae._5)(r)))}}else(null===(r=e.triggerEvent)||void 0===r?void 0:r.log)?(o=(0,Ae.JU)(e.triggerEvent.log.hrTime),di.debug("Emitting session start event. Trigger - log",{log:e.triggerEvent.log,timestamp:o})):(null===(n=e.triggerEvent)||void 0===n?void 0:n.span)&&(o=(0,Ae.JU)(e.triggerEvent.span.startTime),di.debug("Emitting session start event. Trigger - span",{span:e.triggerEvent.span,timestamp:o}));const i={attributes:{"enduser.anon_id":this.projectMetadata.anonymousUserId,"event.domain":"brum","event.name":a.B.SESSION_START,time_unix_nano:1e6*o},observedTimestamp:o,timestamp:o};this.providers.loggerProvider.getLogger("control").emit(i)},this.onVisibilityChange=e=>{(0,a.Q)(e)||this.config.apiConfig.exportForTests?"hidden"===document.visibilityState?(di.debug("Tab is hidden. Stop session pulse interval."),this.removeSessionPulseInterval()):(di.debug("Tab is visible. Start session pulse interval."),this.addSessionPulseInterval()):di.debug("Visibility change event is not trusted. Ignore it.")},this.removeSessionPulseInterval=()=>{this.sessionPulseIntervalId&&(clearInterval(this.sessionPulseIntervalId),this.sessionPulseIntervalId=void 0)},di.debug(`Session ${e.sessionId} created`,{projectMetadata:e}),this.id=e.sessionId,this.exportingProcessors=((e,t)=>({logRecordProcessors:oi(e,t),spanProcessors:ni(e,t)}))(o,{storageService:t.storageService}),this.addOrResetSessionTimeout(),this.addOrResetMaxSessionDurationChecker()}start(e){var t,r,n;this.isStopped=!1,(null===(t=this.projectMetadata.meta)||void 0===t?void 0:t.isNewSession)&&this.emitSessionStartEvent(e),(null===(r=e.triggerEvent)||void 0===r?void 0:r.log)&&this.processLogRecord(e.triggerEvent.log),(null===(n=e.triggerEvent)||void 0===n?void 0:n.span)&&this.processSpan(e.triggerEvent.span),this.attachDocumentVisibilityListener(),"visible"===document.visibilityState&&this.addSessionPulseInterval()}stop(){this.isStopped=!0,this.sessionTimeoutId&&clearTimeout(this.sessionTimeoutId),this.sessionMaxLengthTimeoutId&&clearTimeout(this.sessionMaxLengthTimeoutId),this.detachDocumentVisibilityListener(),this.removeSessionPulseInterval()}}var hi=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class mi{get currentSessionId(){var e;return null===(e=this.currentRunningSession)||void 0===e?void 0:e.id}get isSessionRunning(){return Boolean(this.currentRunningSession)}constructor(e,t,r,n,o){this.config=e,this.providers=r,this.queues=n,this.listeners=o,this.areSubscribersAttached=!1,this.startInitialSession=()=>hi(this,void 0,void 0,(function*(){yield this.startSession({isInitialSession:!0})})),this.stopCurrentSession=()=>{if(i.R.debug("Stopping session."),!this.currentRunningSession)throw new Error("No session running");this.currentRunningSession.stop(),this.previousSession={session:this.currentRunningSession,stopTime:(0,Ae._5)()},this.currentRunningSession=void 0},this.trackCustomEvent=(...e)=>{if(this.currentRunningSession)this.currentRunningSession.trackCustomEvent(...e);else{if(!this.previousSession)throw new Error("No session running and no previous session");this.previousSession.session.trackCustomEvent(...e)}},this.attachQueueSubscribers=()=>{this.areSubscribersAttached||(i.R.debug("Attaching queue subscribers."),this.queues.logRecordsQueue.subscribe(this.processLogRecord),this.queues.spansQueue.subscribe(this.processSpan),this.areSubscribersAttached=!0)},this.onSessionMaxLengthReached=()=>hi(this,void 0,void 0,(function*(){i.R.debug("Session max duration reached out. Starting new session or waiting for the first event."),this.stopCurrentSession(),"visible"===document.visibilityState?(i.R.debug("Session max length reached. Starting new session. Tab is visible."),this.startSession()):i.R.debug("Tab is not visible. Not starting new session. Waiting for the first event from brum module.")})),this.onSessionTimeout=()=>hi(this,void 0,void 0,(function*(){i.R.debug("Session timed out. Starting new session or waiting for the first event."),this.stopCurrentSession(),"visible"===document.visibilityState?(i.R.debug("Session timeout reached. Starting session. Tab is visible."),this.startSession()):i.R.debug("Tab is not visible. Not starting new session. Waiting for the first event from brum module.")})),this.processLogRecord=e=>{this.previousSession&&"disabled"===e.attributes.instrumentation_state&&(0,Ae.u5)(e.hrTime)<(0,Ae.u5)(this.previousSession.stopTime)+1e9?(i.R.debug("Span is from previous session - span state is disabled.",{log:e}),this.previousSession.session.processLogRecord(e)):this.currentRunningSession?this.currentRunningSession.processLogRecord(e):this.previousSession&&(0,Ae.u5)(e.hrTime)<(0,Ae.u5)(this.previousSession.stopTime)?(i.R.debug("LogRecord is from previous session.",{logRecord:e}),this.previousSession.session.processLogRecord(e)):"visible"===document.visibilityState?(i.R.debug("Starting session from log record.",{logRecord:e}),this.startSession({isTriggeredFromPendingSpanOrLog:!0,triggerEvent:{log:e}})):i.R.debug("LogRecord is discarded.",{logRecord:e})},this.processSpan=e=>{this.previousSession&&"disabled"===e.attributes.instrumentation_state&&(0,Ae.u5)(e.startTime)<(0,Ae.u5)(this.previousSession.stopTime)+1e9?(i.R.debug("Span is from previous session - span state is disabled.",{span:e}),this.previousSession.session.processSpan(e)):this.currentRunningSession?this.currentRunningSession.processSpan(e):this.previousSession&&(0,Ae.u5)(e.startTime)<(0,Ae.u5)(this.previousSession.stopTime)?(i.R.debug("Span is from previous session.",{span:e}),this.previousSession.session.processSpan(e)):["@opentelemetry/instrumentation-fetch","@opentelemetry/instrumentation-xml-http-request","@opentelemetry/instrumentation-virtual-page"].includes(e.instrumentationLibrary.name)||"visible"===document.visibilityState?(i.R.debug("Starting session from span.",{span:e}),"@opentelemetry/instrumentation-virtual-page"===e.instrumentationLibrary.name?this.startSession({isTriggeredFromPendingSpanOrLog:!0}):this.startSession({isTriggeredFromPendingSpanOrLog:!0,triggerEvent:{span:e}})):i.R.debug("Span is discarded.",{span:e})},this.startSession=(...e)=>hi(this,[...e],void 0,(function*({isInitialSession:e,isTriggeredFromPendingSpanOrLog:t,triggerEvent:r}={}){if(i.R.debug("Starting session.",{isInitialSession:e,triggerEvent:r}),this.currentRunningSession)throw new Error("Session already running");const n=yield this.services.metadataService.getActiveSessionMetadataIfExistsOrGenerateNewOne(),o={isInitialSession:Boolean(e),isNewSession:Boolean(n.meta.isNewSession),isSessionTriggeredFromPendingSpanOrLog:Boolean(t)};this.listeners.onBeforeSessionStarts(o),n.meta.isNewSession||i.R.debug("Continuing in previous session.",{projectMetadata:n}),this.currentRunningSession=new fi(n,this.services,{onSessionMaxLengthReached:this.onSessionMaxLengthReached,onSessionTimeout:this.onSessionTimeout},this.providers,this.config),this.currentRunningSession.start({isInitialSession:e,triggerEvent:r}),this.attachQueueSubscribers(),n.meta.isNewSession&&(i.R.debug("New session started.",{projectMetadata:n}),gn.w.clearCache()),this.listeners.onAfterSessionStarts(o)}));const s=new Sn(t,this.config);this.services=Object.assign({metadataService:s},t)}}class gi{constructor(){this.items=[]}clear(){this.items=[]}push(e){this.subscribeCallback?this.subscribeCallback(e):this.items.push(e)}subscribe(e){if(this.subscribeCallback)throw new Error("Queue already subscribed.");this.subscribeCallback=e,this.items.forEach((t=>e(t))),this.items=[]}unsubscribe(){this.subscribeCallback||i.R.debug("Cannot unsubscribe from queue, not subscribed."),this.subscribeCallback=void 0}}var yi=r(3012);function vi(e,t,r){var n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}}function bi(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var Ti,Si,Ei,Oi=r(1328),_i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function wi(e,t){return"string"==typeof t?e===t:!!e.match(t)}function xi(e,t){var r,n;if(!t)return!1;try{for(var o=_i(t),i=o.next();!i.done;i=o.next()){if(wi(e,i.value))return!0}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}function Pi(e,t){return t in e}function Ri(e,t,r,n){var o=void 0,i=void 0;Pi(r,t)&&"number"==typeof r[t]&&(o=r[t]);var s=n||Ti.FETCH_START;if(Pi(r,s)&&"number"==typeof r[s]&&(i=r[s]),void 0!==o&&void 0!==i&&o>=i)return e.addEvent(t,o),e}function Li(e,t){Ri(e,Ti.FETCH_START,t),Ri(e,Ti.DOMAIN_LOOKUP_START,t),Ri(e,Ti.DOMAIN_LOOKUP_END,t),Ri(e,Ti.CONNECT_START,t),Pi(t,"name")&&t.name.startsWith("https:")&&Ri(e,Ti.SECURE_CONNECTION_START,t),Ri(e,Ti.CONNECT_END,t),Ri(e,Ti.REQUEST_START,t),Ri(e,Ti.RESPONSE_START,t),Ri(e,Ti.RESPONSE_END,t);var r=t[Ti.ENCODED_BODY_SIZE];void 0!==r&&e.setAttribute(gr.crS,r);var n=t[Ti.DECODED_BODY_SIZE];void 0!==n&&r!==n&&e.setAttribute(gr.XyR,n)}function Ni(){return"undefined"!=typeof location?location.origin:void 0}function Ai(e,t,r,n,o,i){void 0===o&&(o=new WeakSet);var s=Ii(e),a=function(e,t,r,n,o,i){var s=(0,Ae.u5)(t),a=(0,Ae.u5)(r),u=n.filter((function(t){var r=(0,Ae.u5)((0,Ae.KJ)(t[Ti.FETCH_START])),n=(0,Ae.u5)((0,Ae.KJ)(t[Ti.RESPONSE_END]));return t.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&t.name===e&&r>=s&&n<=a}));u.length>0&&(u=u.filter((function(e){return!o.has(e)})));return u}(e=s.toString(),t,r,n,o,i);if(0===a.length)return{mainRequest:void 0};if(1===a.length)return{mainRequest:a[0]};var u=function(e){return e.slice().sort((function(e,t){var r=e[Ti.FETCH_START],n=t[Ti.FETCH_START];return r>n?1:r<n?-1:0}))}(a);if(s.origin!==Ni()&&u.length>1){var c=u[0],l=function(e,t,r){for(var n,o=(0,Ae.u5)(r),i=(0,Ae.u5)((0,Ae.KJ)(t)),s=e[1],a=e.length,u=1;u<a;u++){var c=e[u],l=(0,Ae.u5)((0,Ae.KJ)(c[Ti.FETCH_START])),p=o-(0,Ae.u5)((0,Ae.KJ)(c[Ti.RESPONSE_END]));l>=i&&(!n||p<n)&&(n=p,s=c)}return s}(u,c[Ti.RESPONSE_END],r),p=c[Ti.RESPONSE_END];return l[Ti.FETCH_START]<p&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}return{mainRequest:a[0]}}function Ii(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var t=(Si||(Si=document.createElement("a")),Si);return t.href=e,t}function Ci(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var r=function(e,t){var r=e.nodeType,n=function(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var r=Array.from(e.parentNode.childNodes);if(r=r.filter((function(r){var n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName})),r.length>=1)return r.indexOf(e)+1;return 0}(e),o="";if(r===Node.ELEMENT_NODE){var i=e.getAttribute("id");if(t&&i)return'//*[@id="'+i+'"]';o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return"/"+o+"["+n+"]";return"/"+o}(e,t);if(t&&r.indexOf("@id")>0)return r;var n="";return e.parentNode&&(n+=Ci(e.parentNode,!1)),n+=r}function Ui(e,t){var r=t||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),Ii(e).origin===Ni()||r.some((function(t){return wi(e,t)}))}!function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(Ti||(Ti={})),function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"}(Ei||(Ei={}));var ji,Mi,ki="0.52.0",Di=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vi="object"==typeof process&&"node"===(null===(ji=process.release)||void 0===ji?void 0:ji.name),Bi=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,"@opentelemetry/instrumentation-fetch",ki,t)||this;return r.component="fetch",r.version=ki,r.moduleName=r.component,r._usedResources=new WeakSet,r._tasksCount=0,r}return Di(t,e),t.prototype.init=function(){},t.prototype._addChildSpan=function(e,t){var r=this.tracer.startSpan("CORS Preflight",{startTime:t[Ti.FETCH_START]},Le.u.setSpan(Re.active(),e));this.getConfig().ignoreNetworkEvents||Li(r,t),r.end(t[Ti.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(e,t){var r=Ii(t.url);e.setAttribute(gr.IXq.HTTP_STATUS_CODE,t.status),null!=t.statusText&&e.setAttribute(Ei.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(gr.IXq.HTTP_HOST,r.host),e.setAttribute(gr.IXq.HTTP_SCHEME,r.protocol.replace(":","")),"undefined"!=typeof navigator&&e.setAttribute(gr.IXq.HTTP_USER_AGENT,navigator.userAgent)},t.prototype._addHeaders=function(e,t){if(!Ui(t,this.getConfig().propagateTraceHeaderCorsUrls)){var r={};return Bt.inject(Re.active(),r),void(Object.keys(r).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(e instanceof Request)Bt.inject(Re.active(),e.headers,{set:function(e,t,r){return e.set(t,"string"==typeof r?r:String(r))}});else if(e.headers instanceof Headers)Bt.inject(Re.active(),e.headers,{set:function(e,t,r){return e.set(t,"string"==typeof r?r:String(r))}});else if(e.headers instanceof Map)Bt.inject(Re.active(),e.headers,{set:function(e,t,r){return e.set(t,"string"==typeof r?r:String(r))}});else{r={};Bt.inject(Re.active(),r),e.headers=Object.assign({},r,e.headers||{})}},t.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(e,t){var r;if(void 0===t&&(t={}),!xi(e,this.getConfig().ignoreUrls)){var n=(t.method||"GET").toUpperCase(),o="HTTP "+n;return this.tracer.startSpan(o,{kind:cr.CLIENT,attributes:(r={},r[Ei.COMPONENT]=this.moduleName,r[gr.IXq.HTTP_METHOD]=n,r[gr.IXq.HTTP_URL]=e,r)})}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._findResourceAndAddNetworkEvents=function(e,t,r){var n=t.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}var o=Ai(t.spanUrl,t.startTime,r,n,this._usedResources,"fetch");if(o.mainRequest){var i=o.mainRequest;this._markResourceAsUsed(i);var s=o.corsPreFlightRequest;s&&(this._addChildSpan(e,s),this._markResourceAsUsed(s)),this.getConfig().ignoreNetworkEvents||Li(e,i)}},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._endSpan=function(e,t,r){var n=this,o=Ae.lg(Date.now()),i=Ae._5();this._addFinalSpanAttributes(e,r),setTimeout((function(){var r;null===(r=t.observer)||void 0===r||r.disconnect(),n._findResourceAndAddNetworkEvents(e,t,i),n._tasksCount--,n._clearResources(),e.end(o)}),300)},t.prototype._patchConstructor=function(){var e=this;return function(t){var r=e;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=this,i=Ii(e[0]instanceof Request?e[0].url:String(e[0])).href,s=e[0]instanceof Request?e[0]:e[1]||{},a=r._createSpan(i,s);if(!a)return t.apply(this,e);var u=r._prepareSpanData(i);function c(e,t){r._applyAttributesAfterFetch(e,s,t),r._endSpan(e,u,{status:t.status||0,statusText:t.message,url:i})}function l(e,t){r._applyAttributesAfterFetch(e,s,t),t.status>=200&&t.status<400?r._endSpan(e,u,t):r._endSpan(e,u,{status:t.status,statusText:t.statusText,url:i})}function p(e,t,r){try{var n=r.clone(),o=r.clone(),i=n.body;if(i){var s=i.getReader(),a=function(){s.read().then((function(t){t.done?l(e,o):a()}),(function(t){c(e,t)}))};a()}else l(e,r)}finally{t(r)}}function d(e,t,r){try{c(e,r)}finally{t(r)}}return new Promise((function(e,n){return Re.with(Le.u.setSpan(Re.active(),a),(function(){return r._addHeaders(s,i),r._tasksCount++,t.apply(o,s instanceof Request?[s]:[i,s]).then(p.bind(o,a,e),d.bind(o,a,n))}))}))}}},t.prototype._applyAttributesAfterFetch=function(e,t,r){var n=this,o=this.getConfig().applyCustomAttributesOnSpan;o&&vi((function(){return o(e,t,r)}),(function(e){e&&n._diag.error("applyCustomAttributesOnSpan",e)}),!0)},t.prototype._prepareSpanData=function(e){var t=Ae._5(),r=[];if("function"!=typeof PerformanceObserver)return{entries:r,startTime:t,spanUrl:e};var n=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){"fetch"===t.initiatorType&&t.name===e&&r.push(t)}))}));return n.observe({entryTypes:["resource"]}),{entries:r,observer:n,startTime:t,spanUrl:e}},t.prototype.enable=function(){Vi?this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()"):(bi(fetch)&&(this._unwrap(at,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(at,"fetch",this._patchConstructor()))},t.prototype.disable=function(){Vi||(this._unwrap(at,"fetch"),this._usedResources=new WeakSet)},t}(Oi.O);!function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(Mi||(Mi={}));var Fi,Hi="0.52.0";!function(e){e.HTTP_STATUS_TEXT="http.status_text"}(Fi||(Fi={}));var Xi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gi=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,"@opentelemetry/instrumentation-xml-http-request",Hi,t)||this;return r.component="xml-http-request",r.version=Hi,r.moduleName=r.component,r._tasksCount=0,r._xhrMem=new WeakMap,r._usedResources=new WeakSet,r}return Xi(t,e),t.prototype.init=function(){},t.prototype._addHeaders=function(e,t){if(!Ui(Ii(t).href,this.getConfig().propagateTraceHeaderCorsUrls)){var r={};return Bt.inject(Re.active(),r),void(Object.keys(r).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var n={};Bt.inject(Re.active(),n),Object.keys(n).forEach((function(t){e.setRequestHeader(t,String(n[t]))}))},t.prototype._addChildSpan=function(e,t){var r=this;Re.with(Le.u.setSpan(Re.active(),e),(function(){var e=r.tracer.startSpan("CORS Preflight",{startTime:t[Ti.FETCH_START]});r.getConfig().ignoreNetworkEvents||Li(e,t),e.end(t[Ti.RESPONSE_END])}))},t.prototype._addFinalSpanAttributes=function(e,t,r){if("string"==typeof r){var n=Ii(r);void 0!==t.status&&e.setAttribute(gr.W_O,t.status),void 0!==t.statusText&&e.setAttribute(Fi.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(gr.Qv9,n.host),e.setAttribute(gr.zPu,n.protocol.replace(":","")),e.setAttribute(gr.Nz$,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(e,t){var r=this,n=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof n&&vi((function(){return n(e,t)}),(function(e){e&&r._diag.error("applyCustomAttributesOnSpan",e)}),!0)},t.prototype._addResourceObserver=function(e,t){var r=this._xhrMem.get(e);r&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(r.createdResources={observer:new PerformanceObserver((function(e){var n=e.getEntries(),o=Ii(t);n.forEach((function(e){"xmlhttprequest"===e.initiatorType&&e.name===o.href&&r.createdResources&&r.createdResources.entries.push(e)}))})),entries:[]},r.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(mr.u.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(e,t,r,n,o){if(r&&n&&o&&e.createdResources){var i=e.createdResources.entries;i&&i.length||(i=mr.u.getEntriesByType("resource"));var s=Ai(Ii(r).href,n,o,i,this._usedResources);if(s.mainRequest){var a=s.mainRequest;this._markResourceAsUsed(a);var u=s.corsPreFlightRequest;u&&(this._addChildSpan(t,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||Li(t,a)}}},t.prototype._cleanPreviousSpanInformation=function(e){var t=this._xhrMem.get(e);if(t){var r=t.callbackToRemoveEvents;r&&r(),this._xhrMem.delete(e)}},t.prototype._createSpan=function(e,t,r){var n;if(!xi(t,this.getConfig().ignoreUrls)){var o=r.toUpperCase(),i=this.tracer.startSpan(o,{kind:cr.CLIENT,attributes:(n={},n[gr.vof]=r,n[gr.vSt]=Ii(t).toString(),n)});return i.addEvent(Mi.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:i,spanUrl:t}),i}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._patchOpen=function(){var e=this;return function(t){var r=e;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[0],i=e[1];return r._createSpan(this,i,o),t.apply(this,e)}}},t.prototype._patchSend=function(){var e=this;function t(t,r){var n=e._xhrMem.get(r);if(n){n.status=r.status,n.statusText=r.statusText,e._xhrMem.delete(r),n.span&&e._applyAttributesAfterXHR(n.span,r);var o=(0,Ae._5)(),i=Date.now();setTimeout((function(){!function(t,r,n,o){var i=r.callbackToRemoveEvents;"function"==typeof i&&i();var s=r.span,a=r.spanUrl,u=r.sendStartTime;s&&(e._findResourceAndAddNetworkEvents(r,s,a,u,n),s.addEvent(t,o),e._addFinalSpanAttributes(s,r,a),s.end(o),e._tasksCount--),e._clearResources()}(t,n,o,i)}),300)}}function r(){t(Mi.EVENT_ERROR,this)}function n(){t(Mi.EVENT_ABORT,this)}function o(){t(Mi.EVENT_TIMEOUT,this)}function i(){this.status<299?t(Mi.EVENT_LOAD,this):t(Mi.EVENT_ERROR,this)}return function(t){return function(){for(var s=this,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=e._xhrMem.get(this);if(!c)return t.apply(this,a);var l=c.span,p=c.spanUrl;return l&&p&&Re.with(Le.u.setSpan(Re.active(),l),(function(){e._tasksCount++,c.sendStartTime=(0,Ae._5)(),l.addEvent(Mi.METHOD_SEND),s.addEventListener("abort",n),s.addEventListener("error",r),s.addEventListener("load",i),s.addEventListener("timeout",o),c.callbackToRemoveEvents=function(){!function(t){t.removeEventListener("abort",n),t.removeEventListener("error",r),t.removeEventListener("load",i),t.removeEventListener("timeout",o);var s=e._xhrMem.get(t);s&&(s.callbackToRemoveEvents=void 0)}(s),c.createdResources&&c.createdResources.observer.disconnect()},e._addHeaders(s,p),e._addResourceObserver(s,p)})),t.apply(this,a)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),bi(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),bi(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(Oi.O),qi=r(3632);const zi=()=>{var e,t;const r={},n=null===(t=(e=mr.u).getEntriesByType)||void 0===t?void 0:t.call(e,"navigation")[0];if(n){Object.values(Ti).forEach((e=>{if(Pi(n,e)){const t=n[e];"number"==typeof t&&(r[e]=t)}}))}else{const e=mr.u.timing;if(e){Object.values(Ti).forEach((t=>{if(Pi(e,t)){const n=e[t];"number"==typeof n&&(r[t]=n)}}))}}return r},Wi={"first-contentful-paint":s.f7.FIRST_CONTENTFUL_PAINT,"first-paint":s.f7.FIRST_PAINT};class Ki extends qi.O{constructor(e){super("@opentelemetry/instrumentation-document-load","0.33.1",e),this.fetchSpan=void 0,this.rootSpan=void 0,this.version="1"}disable(){window.removeEventListener("DOMContentLoaded",this._onDOMContentLoaded),window.removeEventListener("load",this._onDocumentLoaded),i.R.debug("DocumentLoadInstrumentation disabled")}enable(){this._onDOMContentLoaded=this._onDOMContentLoaded.bind(this),this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.removeEventListener("load",this._onDocumentLoaded),window.removeEventListener("DOMContentLoaded",this._onDOMContentLoaded),this._waitForDOMContentLoad(),this._waitForPageLoad(),i.R.debug("DocumentLoadInstrumentation enabled")}init(){}_addCustomAttributesOnSpan(e,t){t&&vi((()=>t(e)),(e=>{e?this._diag.error("addCustomAttributesOnSpan",e):i.R.debug("DocumentLoadInstrumentation, applying custom attributes")}),!0)}_addResourcesSpans(e){const t=performance.getEntriesByType("resource");t&&t.forEach((t=>{this._initResourceSpan(t,e)}))}_collectPerformanceAtDOMContentLoad(){const e=zi(),t=this._getTraceParent();Re.with(Bt.extract(_t.l,{traceparent:t}),(()=>{const t=this._startSpan(s.ZE.DOCUMENT_LOAD,Ti.FETCH_START,e);t&&(Re.with(Le.u.setSpan(Re.active(),t),(()=>{const t=this._startSpan(s.ZE.DOCUMENT_FETCH,Ti.FETCH_START,e);t&&(t.setAttribute(gr.vSt,location.href),Re.with(Le.u.setSpan(Re.active(),t),(()=>{var r;Li(t,e),this._addCustomAttributesOnSpan(t,null===(r=this._getConfig().applyCustomAttributesOnSpan)||void 0===r?void 0:r.documentFetch),this.fetchSpan=t})))})),t.setAttribute(gr.vSt,location.href),t.setAttribute(gr.Nz$,navigator.userAgent),Ri(t,Ti.FETCH_START,e),Ri(t,Ti.UNLOAD_EVENT_START,e),Ri(t,Ti.UNLOAD_EVENT_END,e),Ri(t,Ti.DOM_INTERACTIVE,e),Ri(t,Ti.DOM_CONTENT_LOADED_EVENT_START,e),Ri(t,Ti.DOM_CONTENT_LOADED_EVENT_END,e),this.rootSpan=t)}))}_collectPerformanceAtLoad(){const e=zi(),t=this._getTraceParent();this.rootSpan||this._collectPerformanceAtDOMContentLoad(),Re.with(Bt.extract(_t.l,{traceparent:t}),(()=>{var t;const r=this.rootSpan;r&&(this.fetchSpan&&this._endSpan(this.fetchSpan,Ti.RESPONSE_END,e),this._addResourcesSpans(r),Ri(r,Ti.DOM_COMPLETE,e),Ri(r,Ti.LOAD_EVENT_START,e),Ri(r,Ti.LOAD_EVENT_END,e),(e=>{var t,r;const n=null===(r=(t=mr.u).getEntriesByType)||void 0===r?void 0:r.call(t,"paint");n&&n.forEach((({name:t,startTime:r})=>{Pi(Wi,t)&&e.addEvent(Wi[t],r)}))})(r),this._addCustomAttributesOnSpan(r,null===(t=this._getConfig().applyCustomAttributesOnSpan)||void 0===t?void 0:t.documentLoad),this._endSpan(r,Ti.LOAD_EVENT_END,e),i.R.debug("DocumentLoadInstrumentation, ending span after adding all performance events,and resources",{fetchStart:e[Ti.FETCH_START],loadEventEnd:e[Ti.LOAD_EVENT_END]}))}))}_createSpanEarly(){this._collectPerformanceAtDOMContentLoad();const e=this._getConfig().atSpanStart;this.rootSpan&&e&&e(this.rootSpan,this.fetchSpan),i.R.debug("DocumentLoadInstrumentation, creating root span at html load")}_endSpan(e,t,r){e&&(Pi(r,t)?e.end(r[t]):e.end())}_getConfig(){return this._config}_getTraceParent(){var e;const t=document.querySelector(`meta[name="${$t}"]`);return null!==(e=null==t?void 0:t.content)&&void 0!==e?e:""}_initResourceSpan(e,t){var r;const n=this._startSpan(s.ZE.RESOURCE_FETCH,Ti.FETCH_START,e,t);n&&(n.setAttribute(gr.vSt,e.name),Li(n,e),this._addCustomAttributesOnSpan(n,null===(r=this._getConfig().applyCustomAttributesOnSpan)||void 0===r?void 0:r.resourceFetch),this._endSpan(n,Ti.RESPONSE_END,e))}_onDOMContentLoaded(){this._createSpanEarly()}_onDocumentLoaded(){setTimeout((()=>{this._collectPerformanceAtLoad()}))}_startSpan(e,t,r,n){if(Pi(r,t)&&"number"==typeof r[t]){return this.tracer.startSpan(e,{startTime:r[t]},n?Le.u.setSpan(Re.active(),n):void 0)}}_waitForDOMContentLoad(){"interactive"===window.document.readyState||"complete"===window.document.readyState?this._onDOMContentLoaded():window.addEventListener("DOMContentLoaded",this._onDOMContentLoaded)}_waitForPageLoad(){"complete"===window.document.readyState?this._onDocumentLoaded():window.addEventListener("load",this._onDocumentLoaded)}}var Ji;!function(e){e[e.BASE_PAGE=0]="BASE_PAGE",e[e.VIRTUAL_PAGE=1]="VIRTUAL_PAGE"}(Ji||(Ji={}));const Yi="0.38.0";class Qi extends qi.O{constructor(e){super(Qi.instrumentationName,Yi,e),this.applyCustomEventData=void 0,this.component="page-view-event",this.emitter=null,this.moduleName=this.component,this.oldUrl=location.href,this.version="1",this.emitter=this.loggerProvider.getLogger("page-view",Yi),this.applyCustomEventData=e.applyCustomEventData}_patchHistoryMethod(e){return t=>(...r)=>{const n=t.apply(history,r);return location.href!==this.oldUrl&&(this._onVirtualPageView(e),this.oldUrl=location.href),n}}_setEmitter(e){this.emitter=e}_unpatchHistoryApi(){bi(history.replaceState)&&this._unwrap(history,"replaceState"),bi(history.pushState)&&this._unwrap(history,"pushState")}disable(){window.removeEventListener("DOMContentLoaded",this._onPageView),this._unpatchHistoryApi(),i.R.debug("PageViewInstrumentation is disabled")}enable(){window.removeEventListener("DOMContentLoaded",this._onPageView),this._waitForPageLoad(),this._patchHistoryApi(),i.R.debug("PageViewInstrumentation is enabled")}init(){}_onPageView(){var e;const t={attributes:{"event.data":{type:Ji.BASE_PAGE,referrer:document.referrer,title:document.title,url:document.documentURI},"event.domain":"brum","event.name":s.Bx.PAGE_VIEW}};this.applyCustomEventData&&this.applyCustomEventData(t),null===(e=this.emitter)||void 0===e||e.emit(t),i.R.debug("PageViewInstrumentation, emitting base page view event",t)}_onVirtualPageView(e){var t;const r=document.title,n=this.oldUrl;if(n===location.href)return;const o={attributes:{"event.data":{type:Ji.VIRTUAL_PAGE,changeState:e||"",referrer:n,[gr.vSt]:window.location.href,title:r},"event.domain":"brum","event.name":s.Bx.PAGE_VIEW}};this.applyCustomEventData&&this.applyCustomEventData(o),null===(t=this.emitter)||void 0===t||t.emit(o),i.R.debug("PageViewInstrumentation, emitting virtual page view event",o)}_patchHistoryApi(){this._wrap(history,"replaceState",this._patchHistoryMethod("replaceState")),this._wrap(history,"pushState",this._patchHistoryMethod("pushState"))}_waitForPageLoad(){"interactive"===window.document.readyState||"complete"===window.document.readyState?this._onPageView():window.addEventListener("DOMContentLoaded",this._onPageView)}}Qi.instrumentationName="@opentelemetry/instrumentation-page-view";var $i=r(6933),Zi={context:Re,diag:O.s,metrics:$i.q,propagation:Bt,trace:Le.u};function es(){return function(e){return function(e){return e.parent&&e!==e.parent}(e)?s.g$.IFRAME:$s.vpActive?s.g$.VIRTUAL_PAGE:s.g$.BASE_PAGE}(window)}function ts(){return $s.vpActive?$s.vpUrl:document.URL}function rs(e,t){e.setAttribute("http.method",t)}function ns(e,t){e.setAttribute("component",t)}function os(e){var t;"object"==typeof(null===(t=e.attributes)||void 0===t?void 0:t["event.data"])&&(e.attributes["event.data"]=Object.assign(Object.assign({},e.attributes["event.data"]),{[gr.vSt]:$s.currentBasePageUrl}),e.attributes["page.span_id"]=$s.currentBasePageSpanId)}function is(e){$s.currentSpanId&&e.setAttribute("page.span_id",$s.currentSpanId)}const ss=new class{constructor(){this.observer=null,this.resourceEntries=[],this.sendImmediately=!1,this.tracer=void 0,this._setupObserver()}createResourceSpans(e,t){this.resourceEntries.forEach((r=>{this.createSpanFromResourceTiming(r,e,t)})),i.R.debug("ResourceObserver created resource spans for these resources",this.resourceEntries)}disconnectObserver(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),i.R.debug("ResourceObserver disconnected")}setIgnoreResourcesForUrl(e){this.ignoreResourcesForUrl=e}setLateResourceCustomAttributesFunction(e){this.addCustomAttributesToLateResourceSpansFunction=e}setTracer(e){this.tracer=e}startObserver(e=!1){var t;this.sendImmediately=e,this.resourceEntries=[],null===(t=this.observer)||void 0===t||t.observe({entryTypes:["resource"]}),i.R.debug("ResourceObserver started")}_endSpan(e,t,r){Pi(r,t)?e.end(r[t]):e.end()}_setupObserver(){this.observer=new PerformanceObserver((e=>{const t=e.getEntries();for(const e of t)this.ignoreResourcesForUrl&&(0,$r.cS)(e.name,this.ignoreResourcesForUrl)||this.resourceEntries.push(e);if(this.sendImmediately){const e=$s.virtualPageSpan||$s.basePageSpan;this.createResourceSpans(e,this.addCustomAttributesToLateResourceSpansFunction),this.resourceEntries=[]}}))}_startSpan(e,t,r,n){var o;if(Pi(r,t)&&"number"==typeof r[t]){return null===(o=this.tracer)||void 0===o?void 0:o.startSpan(e,{startTime:r[t]},n?Le.u.setSpan(Re.active(),n):void 0)}}createSpanFromResourceTiming(e,t,r){const n=this._startSpan(s.ZE.RESOURCE_FETCH,Ti.FETCH_START,e,t);n&&(n.setAttribute(gr.vSt,e.name),Li(n,e),is(n),ns(n,"resource"),r&&r(n),this._endSpan(n,Ti.RESPONSE_END,e))}};var as=r(7886);class us{}us.onBasePage=!0;const cs={assign:Object.assign,Error:window.Error,isArray:Array.isArray,perform:window.performance,round:Math.round,setInterval:window.setInterval,setTimeout:window.setTimeout,slice:Array.prototype.slice,toString:Object.prototype.toString},ls={considerCarouselForVCT:!0,disableTextForTesting:!1,isVCTObservationStarted:!1,spa2:!0,userConf:{navComplete:{maxResourceQuietTime:5e3,maxXhrQuietTime:5e3}}};function ps(e){return null!=e}function ds(){return Date.now()}function fs(e,t,r){return cs.slice.call(e,t,r)}function hs(e,t){const r=Array.prototype[e];return r?function(e){return function(t){return e.apply(t,cs.slice.call(arguments,1))}}(r):function(e,t){return function(r,n,...o){if(!ps(r))throw new TypeError(e+" called on null or undefined");if(!Cs(n))throw new TypeError(n+" is not a function");return Reflect.apply(t,null,[r,o])}}(e,t)}hs("forEach",(function(e,t,r){ms(e,((e,n,o,i)=>{t.call(r,n,o,i)}),void 0)}));const ms=hs("reduce",(function(e,t,r){const n=e,o=n.length>>>0;let i=0;if(arguments.length<3){for(;i<o&&!(i in n);)i+=1;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");i+=1,r=n[i]}for(;i<o;i++)i in n&&(r=t(r,n[i],i,n));return r}));function gs(e,t){let r;return function(){const n=this;var o,i;r&&clearTimeout(r),o=function(){e.apply(n,arguments)},i=t,r=ps(cs.setTimeout.apply)?cs.setTimeout.apply(window,o.arguments):cs.setTimeout(o,i)}}function ys(e){return e.nodeName.toLowerCase()}function vs(e){return"video"==ys(e)}function bs(e){return"use"==ys(e)}function Ts(e){return"canvas"==ys(e)}function Ss(e){return e instanceof Text}function Es(e){return!!e&&(0===e.lastIndexOf("video/",0)||0===e.lastIndexOf("image/",0)||0===e.lastIndexOf("font/",0)||0===e.lastIndexOf("model/",0)||0===e.lastIndexOf("text/",0))}function Os(e){return(e.right-e.left)*(e.bottom-e.top)}function _s(e){return"embed"===ys(e)}function ws(e){return"img"==ys(e)}function xs(e){return"script"==ys(e)}function Ps(e,t){if(!function(e){return"link"==ys(e)}(e))return!1;const r=e.attributes.getNamedItem("rel");return!!ps(r)&&r.value==t}function Rs(e){return Ps(e,"stylesheet")}function Ls(e){return ws(e)||function(e){return _s(e)&&Es(e.getAttribute("type"))}(e)||function(e){return _s(e)&&Es(e.getAttribute("type"))}(e)||vs(e)||function(e){return"image"==ys(e)}(e)||function(e){return"svg"==ys(e)}(e)||bs(e)}function Ns(e,t){const r=t||window.getComputedStyle(e);return"none"!==r.getPropertyValue("display")&&"hidden"!==r.getPropertyValue("visibility")}function As(e){let t="";return e instanceof HTMLImageElement?t=e.currentSrc||e.src:e instanceof HTMLEmbedElement?t=e.src:e instanceof HTMLObjectElement?t=e.data:"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement?t=e.currentSrc||e.src:(e instanceof SVGImageElement||e instanceof SVGUseElement)&&(t=e.href.baseVal),t}function Is(e,t){const r=function(e){const t=ps(e.attributes)?e.attributes.getNamedItem("src")||e.attributes.getNamedItem("href"):void 0;return ps(t)?t.value:void 0}(e);if(r&&0!==r.length&&(!t||!(0,$r.cS)(r,t)))return function(e){return xs(e)||Rs(e)}(e)?(ps(e.adrumNodeGUID)||(e.adrumNodeGUID=Us()),e.adrumNodeGUID):r}function Cs(e){return"function"==typeof e||!1}const Us=ps(js=window.crypto||window.msCrypto)&&Cs(js.getRandomValues)&&(()=>{const e=new Uint16Array(8);function t(e){const t=e.toString(16);return"0000".slice(t.length)+t}return js.getRandomValues(e),t(e[0])+t(e[1])+"_"+t(e[2])+"_"+t(e[3])+"_"+t(e[4])+"_"+t(e[5])+t(e[6])+t(e[7])})||function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=Math.trunc(16*Math.random());return("x"==e?t:3&t|8).toString(16)}))};var js;function Ms(e){if(!(0,ui.Kg)(e))return e;const t={"'":"&#39;",'"':"&quot;","/":"&#47;","&":"&amp;","<":"&lt;",">":"&gt;"};return e.replace(/["&'/<>]/g,(function(e){return t[e]}))}function ks(e,t){if(Cs(Object.getPrototypeOf))for(;ps(e)&&(r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n)||!ps(r[n]));)e=Object.getPrototypeOf(e);var r,n;return e}const Ds=ls;const Vs=new class{constructor(){this.basePageStartTime=0,this.carouselList=[],this.considerPct=Ds.spa2,this.counter=0,this.currentFibonacci=3,this.dataAccumulationTimeoutValue=null,this.elementsNotPartOfACarousel=[],this.firstResourceRenderAtTime=0,this.getNextFibonacci=null,this.intersectingAreaRatio=.2,this.isBound=!1,this.isCarouselComputationInProgress=!1,this.latestResourceTime=0,this.loadedResourceCounter=0,this.mediaResourcesWithPositionChange=[],this.objectsWithLoadEventListenerInvoked={},this.objectsWithoutSrc={},this.objectsWithoutSrcCounter=1,this.pageCompleteTime=0,this.textMaxRenderAt=0,this.viewport={bottom:0,left:0,right:0,top:0},this.viewportHeight=0,this.viewportWidth=0,this.visuallyCompleteTime=0}accumulateDataForVCTComputation(e){const t=Object.keys(e),r=t.length;for(let n=0;n<r;n++){const r=e[t[n]],o=this.getOffsetRect(r.element),i=o.top+"-"+o.right+"-"+o.bottom+"-"+o.left;r.elementStyle?r.elementRectList&&r.elementRectList.length<=30&&(r.elementRectList.push(o),r.elementPositionHash=r.elementPositionHash+"|"+i):(r.elementStyle=window.getComputedStyle(r.element),r.elementRectList=[o],r.elementPositionHash=i,r.isElementInFirstViewport=this.isElementInFirstViewport(r.element))}}addSourceToObjectsWithLoadEventListenerInvoked(e,t,r){ps(this.objectsWithLoadEventListenerInvoked[e])?this.inViewport(r)&&(this.objectsWithLoadEventListenerInvoked[e]={element:r,renderAt:t}):this.objectsWithLoadEventListenerInvoked[e]={element:r,renderAt:t}}addToObjectsWithoutSrc(e,t){e.adrumNodeId=this.objectsWithoutSrcCounter,this.objectsWithoutSrc[this.objectsWithoutSrcCounter]={element:e,renderAt:t},this.objectsWithoutSrcCounter+=1}attachHandlers(e){const t=ds();Ls(e)&&!e.isAdrumTrackedNode?(this.isBound||(this.loadHandler=this.loadHandler.bind(this),this.errorHandler=this.errorHandler.bind(this),this.loadHandler.usedByAgent=!0,this.errorHandler.usedByAgent=!0,this.isBound=!0),this.counter+=1,vs(e)?e.addEventListener("loadeddata",this.loadHandler):e.addEventListener("load",this.loadHandler),e.addEventListener("error",this.errorHandler),e.isAdrumTrackedNode=!0):Ts(e)&&!e.adrumNodeId?this.addToObjectsWithoutSrc(e,t):Ss(e)&&(this.textMaxRenderAt=Math.max(this.textMaxRenderAt,t))}computeVCTAndPCT(e){this.isCarouselComputationInProgress=!1,us.onBasePage&&(this.basePageStartTime=e);const t=this.getRenderRatio(this.basePageStartTime);return Array.prototype.slice.call(document.querySelectorAll("*")).forEach((r=>{const n=As(r);if(delete r.isAdrumTrackedNode,ps(r.adrumNodeId))this.updateVCTAndPCTForTheElementWithoutSrc(r,e);else if(ps(n)&&n.length>0){const o=this.objectsWithLoadEventListenerInvoked[n];if(ps(o)){const t=o.renderAt;Ns(r,o.elementStyle)&&(this.considerPct&&(this.pageCompleteTime=Math.max(this.pageCompleteTime,t-e)),this.isElementPartOfCarousel(r,o)||(o.isElementInFirstViewport||this.isElementInFirstViewport(r))&&(ps(r.adrumConsiderForVCT)?this.updateVCTIfDOMObservedElement(r,n,t,e):this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,t-e)))}else Ls(r)&&Ns(r)&&this.updateVCTAndPCTForTheElementLoadedBeforeADRUM(r,n,e,t)}})),Ds.considerCarouselForVCT&&this.mediaResourcesWithPositionChange&&this.mediaResourcesWithPositionChange.length>0&&(this.createCarouselGroupsFromCarouselImages(this.mediaResourcesWithPositionChange),this.carouselList&&this.updateVCTForCarousels(e),this.elementsNotPartOfACarousel&&this.updateVCTForElementsNotPartOfCarouselButPositionChanged(e)),this.updateVCTAndPCTForAllBackgroundImages(e,t),Ds.disableTextForTesting||this.updateVCTAndPCTForText(e),this.visuallyCompleteTime=Math.trunc(this.visuallyCompleteTime),this.pageCompleteTime=Math.trunc(this.pageCompleteTime),{pct:this.pageCompleteTime,vct:this.visuallyCompleteTime}}computeViewPort(){this.viewportWidth=ps(window.innerWidth)&&ps(document.documentElement.clientWidth)?Math.min(window.innerWidth,document.documentElement.clientWidth):window.innerWidth||document.documentElement.clientWidth||document.querySelectorAll("body")[0].clientWidth,this.viewportHeight=ps(window.innerHeight)&&ps(document.documentElement.clientHeight)?Math.min(window.innerHeight,document.documentElement.clientHeight):window.innerHeight||document.documentElement.clientHeight||document.querySelectorAll("body")[0].clientHeight,this.viewport={bottom:this.viewportHeight,left:0,right:this.viewportWidth,top:0}}createCarouselGroupsFromCarouselImages(e){var t;const r=e.length,n=[],o=[],i=[],s=[];for(let n=0;n<r;n++){const r=e[n],a=null!==(t=r.elementRectList)&&void 0!==t?t:[],u=a[0],c=a[a.length-1];u&&c&&(Math.abs(u.left-c.left)>50?Math.abs(u.right-c.right)>50?o.push(r):s.push(r):Math.abs(u.top-c.top)>50&&Math.abs(u.bottom-c.bottom)>50?i.push(r):s.push(r))}s.length>0&&(this.elementsNotPartOfACarousel=s),this.createCarouselsList(o,n),this.createCarouselsList(i,n),n.length>0&&(this.carouselList=n)}createCarouselsList(e,t){for(let r=0;r<e.length;r++){const r=e[0].element.classList;t.push(this.getElementListWithSimilarClassList(e,r))}}disconnectMutationObserver(){ps(this.mutationObserver)&&this.mutationObserver.disconnect()}errorHandler(e){const t=e.target;t&&t.isAdrumTrackedNode&&(this.removeLoadAndErrorListeners(t),this.counter-=1)}getBackgroundImageUrl(e){if(!e||!e.style)return"";let t=window.getComputedStyle(e).getPropertyValue("background-image");if(!t){t=e.style.backgroundImage}const r=this.getUrlFromBackgroundImageCss(t);if(r&&ps(r.substr)){if("undefined"===r.slice(r.lastIndexOf("/")+1))return""}return r||""}getBackgroundImages(){const e=[];return Array.prototype.slice.call(document.querySelectorAll("*")).forEach((t=>{if(Ns(t)){const r=this.getBackgroundImageUrl(t);r&&(this.isElementInFirstViewport(t)?e.push({inViewport:!0,url:r}):this.considerPct&&e.push({inViewport:!1,url:r}))}})),e}getElementListWithSimilarClassList(e,t){const r=[];for(let n=0;n<e.length;n++){let o=!0;const i=e[n].element.classList;for(let e=0;e<t.length;e++)if(!i.contains(t[n])){o=!1;break}o&&(r.push(e[n]),e.splice(n,1),n=-1)}return r}getMaxRenderAtAmongVisibleElementsOfACarousel(e){const t=[];let r=0;const n=this.getNoOfElementsToConsiderForVCTInACarousel(e,t);return n&&(t.sort(),r=t[n-1]),r}getNoOfElementsToConsiderForVCTInACarousel(e,t){const r=e.length;let n,o,i=0;for(let s=0;s<r;s++)o=e[s],n=o.element,t.push(o.renderAt),(o.isElementInFirstViewport||this.isElementInFirstViewport(n))&&(i+=1);return i}getOffsetRect(e){try{const t=e.getBoundingClientRect(),r=document.documentElement||document.body,n=window.scrollY||r.scrollTop,o=window.scrollX||r.scrollLeft,i=r.clientTop||0,s=r.clientLeft||0,a=t.top+n-i,u=t.left+o-s;return{bottom:Math.round(a)+t.height,left:Math.round(u),right:Math.round(u)+t.width,top:Math.round(a)}}catch(e){return{bottom:0,left:0,right:0,top:0}}}getRenderRatio(e){let t=0,r=0;return this.getResources().forEach((n=>{const o=n.name;if(ps(this.objectsWithLoadEventListenerInvoked[o])){const i=this.objectsWithLoadEventListenerInvoked[o].renderAt-e-n.startTime,s=n.duration;s&&i>0&&(t+=i/s,r+=1)}})),r>0?t/r:1}getResourceFromSubstringMatch(e){const t=this.getResources();for(const r of t)if(ps(r.name)&&r.name.includes(e))return r}getResources(){return this.monitor?this.monitor.resourceMonitor.basePageResourceBuffer:[]}getUrlFromBackgroundImageCss(e){if(e&&e.match("url"))return e.replace('url("',"").replace('")',"")}inViewport(e){return this.isElementInFirstViewport(e)&&Ns(e)}isElementInFirstViewport(e){const t=this.getOffsetRect(e);if(this.isElementOutside(t))return!1;const r=Os({bottom:Math.min(this.viewport.bottom,t.bottom),left:Math.max(this.viewport.left,t.left),right:Math.min(this.viewport.right,t.right),top:Math.max(this.viewport.top,t.top)}),n=Os(t);return 0!=n&&r/n>=this.intersectingAreaRatio}isElementOutside(e){return e.top>this.viewport.bottom||(e.bottom<this.viewport.top||(e.right<this.viewport.left||e.left>this.viewport.right))}isElementPartOfCarousel(e,t){if(!Ds.considerCarouselForVCT)return!1;let r=!1;const n=t.elementPositionHash;if(n){const o=n.split("|");let i=o.length;if(i){let n=0,s=null;const a=this.getOffsetRect(e);2==i&&(s=a.top+"-"+a.right+"-"+a.bottom+"-"+a.left,o.push(s),i+=1);for(let e=0;e<i-1&&!(o[e]!==o[e+1]&&(n+=1,n>=2));e++);n>=2&&(this.mediaResourcesWithPositionChange.push(t),r=!0,s&&(t.elementPositionHash=t.elementPositionHash+"|"+s,t.elementRectList?t.elementRectList.push(a):t.elementRectList=[a]))}}return r}isEnoughResourcesLoaded(){return this.getNextFibonacci=this.getNextFibonacci||this.nextFibonacciFunc(),this.loadedResourceCounter>=this.currentFibonacci&&(this.currentFibonacci=this.getNextFibonacci(),!0)}loadHandler(e){const t=ds();this.firstResourceRenderAtTime||(this.firstResourceRenderAtTime=t),this.latestResourceTime=t;const r=t,n=e.target,o=As(n);this.loadedResourceCounter+=1,this.isCarouselComputationInProgress&&this.scheduleDataAccumulationForVCT(),ps(o)&&o.length>0?"data:"!=o.slice(0,5)||n.adrumNodeId?this.addSourceToObjectsWithLoadEventListenerInvoked(o,r,n):this.addToObjectsWithoutSrc(n,r):n instanceof SVGElement&&!n.adrumNodeId&&this.addToObjectsWithoutSrc(n,r),n&&n.isAdrumTrackedNode&&(this.removeLoadAndErrorListeners(n),this.counter-=1)}nextFibonacciFunc(){let e=2,t=3;return function(){const r=t+e;return e=t,t=r,r}}observeDOM(e){e.forEach((e=>{switch(e.type){case"childList":Array.prototype.slice.call(e.addedNodes).forEach((e=>{this.attachHandlers(e)}));break;case"attributes":{const t=e.target;this.attachHandlers(t);break}}}))}removeLoadAndErrorListeners(e){e.removeEventListener("load",this.loadHandler),e.removeEventListener("error",this.errorHandler)}reset(){this.objectsWithLoadEventListenerInvoked={},this.textMaxRenderAt=0,this.objectsWithoutSrc={},this.objectsWithoutSrcCounter=1,this.loadedResourceCounter=0,this.mediaResourcesWithPositionChange=[],this.getNextFibonacci=null,this.currentFibonacci=3,this.visuallyCompleteTime=0,this.pageCompleteTime=0,this.carouselList=[],this.mediaResourcesWithPositionChange=[],this.elementsNotPartOfACarousel=[],this.isCarouselComputationInProgress=!0}scheduleDataAccumulationForVCT(){const e=this;this.isEnoughResourcesLoaded()?(this.accumulateDataForVCTComputation(this.objectsWithLoadEventListenerInvoked),this.accumulateDataForVCTComputation(this.objectsWithoutSrc),clearTimeout(this.dataAccumulationTimeoutValue),this.dataAccumulationTimeoutValue=null):e.dataAccumulationTimeoutValue||(e.dataAccumulationTimeoutValue=cs.setTimeout.call(window,(function(){e.accumulateDataForVCTComputation(e.objectsWithLoadEventListenerInvoked),e.accumulateDataForVCTComputation(e.objectsWithoutSrc),clearTimeout(e.dataAccumulationTimeoutValue),e.dataAccumulationTimeoutValue=null}),2e3))}setUp(){this.objectsWithLoadEventListenerInvoked={},this.objectsWithoutSrc={},this.objectsWithoutSrcCounter=1,this.latestResourceTime=ds(),this.counter=0,this.mediaResourcesWithPositionChange=[],this.carouselList=[],this.elementsNotPartOfACarousel=[],this.loadedResourceCounter=0,this.visuallyCompleteTime=0,this.pageCompleteTime=0;const e=window.MutationObserver;this.isCarouselComputationInProgress=!0,this.computeViewPort(),function(e,t,r,n=!1){const o=function(){try{return r.apply(this,fs(arguments))}catch(e){return}};o.usedByAgent=!0,e.addEventListener?e.addEventListener(t,o,n):e.attachEvent&&e.attachEvent("on"+t,o)}(window,"resize",gs(this.computeViewPort,300).bind(this)),ps(e)&&(this.mutationObserver=ps(window.Zone)&&ps(window.Zone.__symbol__)&&ps(window.Zone.__symbol__("MutationObserver"))?new(window[window.Zone.__symbol__("MutationObserver")])(this.observeDOM.bind(this)):new e(this.observeDOM.bind(this)),this.mutationObserver.observe(document.documentElement,{attributeFilter:["src","href"],attributes:!0,childList:!0,subtree:!0}))}start(e){this.monitor=e,this.setUp()}updateVCTAndPCTForAllBackgroundImages(e,t){this.getBackgroundImages().forEach((r=>{const n=r.url,o=r.inViewport,i=this.getResourceFromSubstringMatch(n);if(i&&ps(i)){const r=i.startTime-(e-this.basePageStartTime),n=i.duration*t+r;this.considerPct&&(this.pageCompleteTime=Math.max(this.pageCompleteTime,n)),o&&(this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,n))}}))}updateVCTAndPCTForText(e){const t=this.textMaxRenderAt-e;if(i.R.debug("VCT consider text for vct/pct",t),this.considerPct&&0==this.pageCompleteTime&&(this.pageCompleteTime=Math.max(this.pageCompleteTime,t)),0==this.visuallyCompleteTime){const e=Math.max(this.visuallyCompleteTime,t);this.visuallyCompleteTime=this.pageCompleteTime>0?Math.min(this.pageCompleteTime,e):e}}updateVCTAndPCTForTheElementLoadedBeforeADRUM(e,t,r,n){const o=this.getResourceFromSubstringMatch(t);if(o&&ps(o)){const t=o.startTime-(r-this.basePageStartTime),i=o.duration*n+t;this.considerPct&&(this.pageCompleteTime=Math.max(this.pageCompleteTime,i),(this.firstResourceRenderAtTime<=0||i<this.firstResourceRenderAtTime)&&this.isElementInFirstViewport(e)&&(this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,i)))}}updateVCTAndPCTForTheElementWithoutSrc(e,t){const r=e.adrumNodeId,n=r?this.objectsWithoutSrc[r]:void 0;if(ps(n)){const r=n.renderAt;Ns(e,n.elementStyle)&&(this.considerPct&&(this.pageCompleteTime=Math.max(this.pageCompleteTime,r-t)),this.isElementPartOfCarousel(e,n)||this.isElementInFirstViewport(e)&&(ps(e.adrumConsiderForVCT)?(e.adrumConsiderForVCT&&(this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,r-t)),delete e.adrumConsiderForVCT):this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,r-t)))}delete e.adrumNodeId}updateVCTForCarousels(e){const t=this.carouselList.length;for(let r=0;r<t;r++){const t=this.carouselList[r],n=this.getMaxRenderAtAmongVisibleElementsOfACarousel(t);n&&(this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,n-e))}}updateVCTForElementsNotPartOfCarouselButPositionChanged(e){const t=this.elementsNotPartOfACarousel.length;for(let r=0;r<t;r++){const t=this.elementsNotPartOfACarousel[r],n=t.element,o=t.renderAt;(t.isElementInFirstViewport||this.isElementInFirstViewport(n))&&(this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,o-e))}}updateVCTIfDOMObservedElement(e,t,r,n){e.adrumConsiderForVCT&&(this.visuallyCompleteTime=Math.max(this.visuallyCompleteTime,r-n)),delete e.adrumConsiderForVCT}};function Bs(e,t){t?t.persistImmatureSpanData(e):i.R.debug("No storage service to save immature span")}function Fs(e){e.removeImmatureSpanData()}function Hs(e,t){var r;if(i.R.debug("Getting immature span"),!t)return void i.R.debug("No storage service provided for handling immature span");let n=$s.immatureSpans.immatureSpanFromStore;if(n||(n=null!==(r=function(e){return e.getImmatureSpanData()}(t))&&void 0!==r?r:void 0),n){if($s.sessionId)return n.sessionId!==$s.sessionId?(i.R.debug("removing immature span because it is from old session"),$s.immatureSpans.immatureSpanFromStore=void 0,void Fs(t)):void(n&&(function(e,t){var r;const n=Zi.trace.getTracer("immature-span-handler");try{if("base-page"===e.type){i.R.debug("Ending immature base page span",e);const o=n.startSpan(e.span.name,{attributes:e.span.attributes,startTime:e.span.startTime});let s;if(e.fetchSpan&&(s=n.startSpan(e.fetchSpan.name,{attributes:e.fetchSpan.attributes,startTime:e.fetchSpan.startTime},o?Zi.trace.setSpan(Re.active(),o):void 0)),o&&s){let n;o.setAttribute("immature",!0),e.span.events.forEach((e=>{o.addEvent(e.name,e.time)})),null===(r=e.fetchSpan)||void 0===r||r.events.forEach((e=>{null==s||s.addEvent(e.name,e.time),"responseEnd"===e.name&&(n=e.time)})),o.addEvent(as.D.DOM_COMPLETE,t),o.addEvent(as.D.LOAD_EVENT_START,t),o.addEvent(as.D.LOAD_EVENT_END,t),o.setAttribute("component","document-load"),o.setAttribute("com.appdynamics.browser.page.vct",0),s.end(n||t),o.end(t),i.R.debug("Ended immature base page span",o)}}else{i.R.debug("Ending immature virtual page span",e);const r=n.startSpan(e.span.name,{attributes:e.span.attributes,startTime:e.span.startTime});if(i.R.debug("span restarted",r,n),r){r.setAttribute("immature",!0);const e=1e6*t;r.setAttribute("vp.vct.endTime",e),r.setAttribute("vp.pct.endTime",e),r.setAttribute("vp.plt.endTime",e),r.end(t),i.R.debug("Ended immature vitual page span",r)}}}catch(e){i.R.debug("Error ending immature span",e)}}(n,e=Math.min(e,n.potentialEndTime)),Fs(t)));$s.immatureSpans.immatureSpanFromStore||($s.immatureSpans.immatureSpanFromStore=n)}}function Xs(e,t,r,n){var o,s;const a=Vs.computeVCTAndPCT(t),u=1e6*(a.vct+t),c=1e6*(a.pct+t);let l=1e6*r;l=l>u?l:u,e.setAttribute("vp.vct.endTime",u),e.setAttribute("vp.pct.endTime",c),e.setAttribute("vp.plt.endTime",l),ss.createResourceSpans(e,null===(o=$s.addCustomAttributesToVpSpans)||void 0===o?void 0:o.resourceFetch),(null===(s=$s.addCustomAttributesToVpSpans)||void 0===s?void 0:s.vpSpan)&&$s.addCustomAttributesToVpSpans.vpSpan(e),e.end(l/1e6),n&&($s.immatureSpans.immatureSpanToSave=void 0,Fs(n)),ss.disconnectObserver(),Vs.reset(),$s.isReported=!0,window.dispatchEvent(new Event("VPFinishedEvent")),i.R.debug("NavigationObserver, virtual page span ended",e)}function Gs(e,t,r){!function(e,t,r,n){t&&e&&($s.isReported||Xs(e,t,r,n))}($s.virtualPageSpan,t,ds(),r),Hs(ds(),r),us.onBasePage&&(us.onBasePage=!1),$s.virtualPageSpan=e,$s.currentSpanId=e.spanContext().spanId;const n=ds()+9e3,o=$s.sessionId;o?Bs({type:"virtual-page",potentialEndTime:n,sessionId:o,span:e},r):$s.immatureSpans.immatureSpanToSave={type:"virtual-page",potentialEndTime:n,sessionId:"",span:e},ss.disconnectObserver(),ss.startObserver(),i.R.debug("Navigation observer started tracking virtual page resources")}const qs=ls;class zs{constructor({startPollOnlyOnce:e}){this.pendingXhrs={},this.defaultMaxQuietTime=qs.spa2?3e3:1e3,this.maxQuietTime=qs.userConf&&qs.userConf.navComplete&&qs.userConf.navComplete.maxXhrQuietTime?qs.userConf.navComplete.maxXhrQuietTime:this.defaultMaxQuietTime,this.startPollOnlyOnce=e}addXhrToXhrsErredIfNotPresent(e){void 0!==this.counter&&void 0!==this.numXHRs&&this.hasObserverStarted&&ps(this.pendingXhrs[e])&&this.pendingXhrs[e]&&(delete this.pendingXhrs[e],this.latestXhrTime=ds(),this.counter-=1,this.numXHRs+=1,1==this.numXHRs&&(this.startPollOnlyOnce(),this.isRunning=!0))}addXhrToXhrsLoadedIfNotPresent(e){void 0!==this.counter&&void 0!==this.numXHRs&&this.hasObserverStarted&&ps(this.pendingXhrs[e])&&this.pendingXhrs[e]&&(delete this.pendingXhrs[e],this.latestXhrTime=ds(),this.counter-=1,this.numXHRs+=1,1==this.numXHRs&&(this.startPollOnlyOnce(),this.isRunning=!0))}addXhrToXhrsSentIfNotPresent(e){!this.hasObserverStarted||ps(this.pendingXhrs[e])||this.pendingXhrs[e]||void 0===this.counter||(this.pendingXhrs[e]=!0,this.counter+=1)}hasObserverEnded(e){return void 0===this.latestXhrTime?-1:0==this.counter&&this.isRunning&&e-this.latestXhrTime>=this.maxQuietTime?(this.reset(),this.latestXhrTime):-1}reset(){this.pendingXhrs={},this.isRunning=!1,this.counter=0,this.hasObserverStarted=!1}setUp(e){this.counter=0,this.numXHRs=0,this.latestXhrTime=e,this.isRunning=!1,this.hasObserverStarted=!1,this.pendingXhrs={}}start(e){this.setUp(e),this.hasObserverStarted=!0}}function Ws(e,t,r,n,o){return e=e||function(){},function(...n){let i,s,a=null;try{if(t&&(i=t.apply(this,n),i)){const e=function(e,t){const r=e.length;if(r)for(let n=r-1;n>=0;n--)if((0,ui.Gv)(e[n])&&e[n][t])return n;return-1}(i,"adrumArgs");a=i[e],-1!==e&&i.splice(e,1)}}catch(e){}try{s=e.apply(this,i||n)}catch(e){throw o&&o(e),e}finally{try{r&&(a?(a.adrumArgs.origFuncResult=s,n.push(a)):ps(s)&&(a={adrumArgs:{origFuncResult:s}},n.push(a)),r.apply(this,n))}catch(e){}}return s}}const Ks=function(e){return!e||"apply"in e},Js=ls;class Ys{constructor({startPollOnlyOnce:e}){this.isBound=!1,this.objectsAddedToDOM={},this.objectsWithErrorEventListenerInvoked={},this.objectsWithLoadEventListenerInvoked={},this.errorHandler=e=>{const t=e.target,r=Is(t);"string"==typeof r&&ps(this.objectsAddedToDOM[r])&&!ps(this.objectsWithErrorEventListenerInvoked[r])&&(this.counter=-1,this.objectsWithErrorEventListenerInvoked[r]=!0),Js.isVCTObservationStarted&&Ls(t)&&!t.isAdrumTrackedNode&&Vs.errorHandler(e),this.removeLoadAndErrorListeners(t)},this.loadHandler=e=>{if(void 0===this.counter||void 0===this.numResources)return;const t=e.target,r=Is(t);ps(r)&&ps(this.objectsAddedToDOM[r])&&!ps(this.objectsWithLoadEventListenerInvoked[r])&&(this.counter-=1,this.objectsWithLoadEventListenerInvoked[r]=!0),this.latestResourceTime=ds(),this.numResources+=1,1!=this.numResources||this.isRunning||(this.startPollOnlyOnce(),this.isRunning=!0),this.removeLoadAndErrorListeners(t),t&&Js.isVCTObservationStarted&&Ls(t)&&!t.isAdrumTrackedNode&&Vs.loadHandler(e)},this.processANode=e=>{this.hasObserverStarted&&this.updateTimeAndAttachListeners(e)},this.processAllNodes=e=>{this.hasObserverStarted&&ps(e)&&ps(e.childNodes)&&(this.updateTimeAndAttachListeners(e),this.traverseAllNodes(e.childNodes))},this.defaultMaxQuietTime=Js.spa2?5e3:1e3,this.maxQuietTime=Js.userConf&&Js.userConf.navComplete&&Js.userConf.navComplete.maxResourceQuietTime?Js.userConf.navComplete.maxResourceQuietTime:this.defaultMaxQuietTime,this.defaultMaxMediaQuietTimeForVCTComputation=3e3,this.maxMediaQuietTimeForVCTComputation=Math.min(this.defaultMaxMediaQuietTimeForVCTComputation,this.maxQuietTime),this.maxNoMediaAttachHandlerCalledTimeout=5e3,this.startPollOnlyOnce=e}attachDOMObservedLoadEventListeners(e){if(void 0===this.counter)return;const t=Is(e);ps(t)&&!ps(this.objectsAddedToDOM[t])&&(this.counter+=1,this.objectsAddedToDOM[t]=!0,this.attachLoadEventListeners(e))}attachLoadEventListeners(e){this.isBound||(this.loadHandler=this.loadHandler.bind(this),this.errorHandler=this.errorHandler.bind(this),this.loadHandler.usedByAgent=!0,this.errorHandler.usedByAgent=!0,this.isBound=!0),Ls(e)&&(e.adrumConsiderForVCT=!0),vs(e)?e.addEventListener("loadeddata",this.loadHandler):e.addEventListener("load",this.loadHandler),e.addEventListener("error",this.errorHandler)}attachVCTObservedLoadEventListeners(e){if(void 0===this.counter)return;const t=ds();if(bs(e))e.adrumNodeId||Vs.addToObjectsWithoutSrc(e,t);else if(Ls(e)&&!e.isAdrumTrackedNode){const t=Is(e);ps(t)&&!ps(this.objectsAddedToDOM[t])&&(this.counter+=1,this.objectsAddedToDOM[t]=!0,this.attachLoadEventListeners(e))}else Ts(e)&&!e.adrumNodeId?Vs.addToObjectsWithoutSrc(e,t):Ss(e)&&(Vs.textMaxRenderAt=Math.max(Vs.textMaxRenderAt,t))}hasObserverEnded(e){if(void 0===this.counter||void 0===this.latestResourceTime)return;let t=this.counter,r=0;if(Js.isVCTObservationStarted&&(t+=Vs.counter,r=Vs.latestResourceTime),t<=0&&this.isRunning){const t=Math.max(this.latestResourceTime,r);if(e-t>=this.maxQuietTime)return this.reset(),t}return-1}interceptDOMModifierFunction(e,t){const r=e,{processANode:n}=this;ps(r[t])&&(r[t]=Ws(r[t],void 0,(function(e){e&&n(e)})))}interceptDOMModifierProperty(e,t,r){const n=Object.getOwnPropertyDescriptor(e,t);this.overrideSetterProperty(e,t,n,r)}interceptDOMSetAttribute(e,t){const r=this,n=e;"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,t)&&ps(n[t])&&(n[t]=Ws(n[t],void 0,(function(...e){const t=fs(e);"src"!=t[0]&&"href"!=t[0]||r.processANode.call(r,this)})))}overrideSetterProperty(e,t,r,n){if(r&&r.set&&ps(r)&&ps(r.set)){const o=this;Object.defineProperty(e,t,{set:function(e){let t;try{t=Reflect.apply(r.set,this,[e])}finally{n.call(o,this)}return t}})}}removeLoadAndErrorListeners(e){e.removeEventListener("load",this.loadHandler),e.removeEventListener("error",this.errorHandler)}reset(){this.isRunning=!1,this.counter=0,this.detectedResources=0,this.lastHandlerAttachmentTime=null,this.hasObserverStarted=!1,this.isLastResourceForVCTFound=!1,this.objectsWithLoadEventListenerInvoked={},this.objectsWithErrorEventListenerInvoked={}}setIgnoreResourcesForUrl(e){this.ignoreResourcesForUrl=e}setUp(e){this.counter=0,this.numResources=0,this.detectedResources=0,this.latestResourceTime=e,this.lastHandlerAttachmentTime=null,this.isRunning=!1,this.hasObserverStarted=!1,this.isLastResourceForVCTFound=!1,this.objectsAddedToDOM={},this.objectsWithLoadEventListenerInvoked={},this.objectsWithErrorEventListenerInvoked={}}setUpInterceptors(e){this.interceptDOMModifierProperty(Element.prototype,"innerHTML",this.processAllNodes),this.interceptDOMModifierProperty(HTMLElement.prototype,"innerHTML",this.processAllNodes),e.apiConfig.aura||(this.interceptDOMModifierProperty(HTMLImageElement.prototype,"src",this.processANode.bind(this)),this.interceptDOMModifierProperty(HTMLScriptElement.prototype,"src",this.processANode.bind(this))),this.interceptDOMModifierProperty(HTMLLinkElement.prototype,"href",this.processANode.bind(this)),this.interceptDOMSetAttribute(Element.prototype,"setAttribute"),this.interceptDOMModifierFunction(Element.prototype,"append"),this.interceptDOMModifierFunction(Element.prototype,"appendChild"),this.interceptDOMModifierFunction(Element.prototype,"insertBefore")}start(e){this.setUp(e),this.hasObserverStarted=!0}traverseAllNodes(e){for(let t=0;t<e.length;t++){const r=e[t];"script"!=ys(r)&&this.updateTimeAndAttachListeners(r),this.traverseAllNodes(r.childNodes)}}updateTimeAndAttachListeners(e){void 0!==this.detectedResources&&(this.isAValidResource(e)?this.attachDOMObservedLoadEventListeners(e):Js.isVCTObservationStarted&&this.attachVCTObservedLoadEventListeners(e),this.detectedResources+=1,1!=this.detectedResources||this.isRunning||(this.startPollOnlyOnce(),this.isRunning=!0))}isAValidResource(e){return xs(e)||ws(e)||function(e){return Ps(e,"preload")}(e)||Rs(e)}}class Qs{constructor(){this.addCustomAttributesToVpSpans=void 0,this.currentBasePageSpanId=void 0,this.currentBasePageUrl=void 0,this.currentSpanId=void 0,this.immatureSpans={},this.isReported=!0,this.vpActive=!1,this.vpUrl="",this.services=null,this.startPoll=()=>{this.quietPeriodId=cs.setInterval.call(window,(()=>{if(void 0===this.startTime)return;this.currentTime=ds();const e=this.domObserver.hasObserverEnded(this.currentTime);if(void 0===e)return;e>=0&&i.R.debug("EXT~ Nav Complete Time based on DOM quiet time: [%s]",e-this.startTime);const t=this.asyncRequestObserver.hasObserverEnded(this.currentTime);if(t>=0&&i.R.debug("EXT~ Nav Complete Time based on XHR quiet time: [%s]",t-this.startTime),!this.asyncRequestObserver.isRunning&&!this.domObserver.isRunning&&void 0!==this.domObserver.latestResourceTime&&void 0!==this.asyncRequestObserver.latestXhrTime){const e=function(e,t){return Math.max(Number.isNaN(e)?Number.NEGATIVE_INFINITY:e,Number.isNaN(t)?Number.NEGATIVE_INFINITY:t)}(this.asyncRequestObserver.latestXhrTime,this.domObserver.latestResourceTime);i.R.debug("EXT~ Nav Complete, observers finished"),us.onBasePage||this.navComplete(e),this.reset()}}),this.pollPeriod)},this.startPollOnlyOnce=()=>{this.isPollStarted||(this.startPoll(),this.isPollStarted=!0)},this.domObserver=new Ys({startPollOnlyOnce:this.startPollOnlyOnce}),this.asyncRequestObserver=new zs({startPollOnlyOnce:this.startPollOnlyOnce}),this.maxResidualInactiveTime=1e3,this.maxInactiveTime=Math.max(this.domObserver.maxQuietTime,this.asyncRequestObserver.maxQuietTime)+this.maxResidualInactiveTime,this.pollPeriod=1e3}clearTimers(){ps(this.quietPeriodId)&&clearInterval(this.quietPeriodId),ps(this.timeOutId)&&clearInterval(this.timeOutId)}markBasePageSpanEnded(){var e,t;(t=null===(e=this.services)||void 0===e?void 0:e.storageService)?($s.immatureSpans.immatureSpanToSave=void 0,Fs(t)):i.R.debug("No storage service at base page span end")}navComplete(e){var t;this.startTime&&this.virtualPageSpan&&Xs(this.virtualPageSpan,this.startTime,e,null===(t=this.services)||void 0===t?void 0:t.storageService)}reset(){this.clearTimers(),this.isPollStarted=!1,this.isRunning=!1,this.domObserver.reset(),this.asyncRequestObserver.reset(),Qs.onBasePageLoaded=!1,this.virtualPageSpan=void 0,this.basePageSpan=void 0,this.isReported=!0}setAddCustomAttributesToVpSpans(e){this.addCustomAttributesToVpSpans=e}setBasePageSpan(e,t){var r;!function(e,t,r){Hs(ds(),r),$s.basePageSpan=e;const n=ds()+9e3,o=$s.sessionId;o?Bs({type:"base-page",fetchSpan:t,potentialEndTime:n,sessionId:o,span:e},r):$s.immatureSpans.immatureSpanToSave={type:"base-page",fetchSpan:t,potentialEndTime:n,sessionId:"",span:e}}(e,t,null===(r=this.services)||void 0===r?void 0:r.storageService)}setUp(e){this.startTime=e,this.currentTime=e,this.isPollStarted=!1,this.isRunning=!1,this.domObserver.setUp(e),this.asyncRequestObserver.setUp(e)}setUpServices(e,t){t.then((t=>{this.sessionId=t,Hs(ds(),e.storageService),this.immatureSpans.immatureSpanToSave&&(this.immatureSpans.immatureSpanToSave.sessionId=t,Bs(this.immatureSpans.immatureSpanToSave,e.storageService),this.immatureSpans.immatureSpanToSave=void 0)})).catch((()=>{i.R.debug("Error getting session id for handling immature spans"),this.immatureSpans.immatureSpanFromStore=void 0,Fs(e.storageService)})),this.services=e}setVirtualPageSpan(e,t,r){var n;this.vpActive=!0,this.vpUrl=window.location.href,Gs(e,this.startTime,null===(n=this.services)||void 0===n?void 0:n.storageService),this.start(t),ss.setTracer(r)}start(e){this.setUp(e),this.isRunning=!0,this.domObserver.start(e),this.asyncRequestObserver.start(e),this.clearTimers(),this.startTimeOut(),this.isReported=!1}startTimeOut(){this.timeOutId=cs.setInterval.call(window,(()=>{if(void 0===this.domObserver.latestResourceTime||void 0===this.asyncRequestObserver.latestXhrTime)return;this.currentTime=ds();const e=Math.max(this.domObserver.latestResourceTime,this.asyncRequestObserver.latestXhrTime);this.currentTime-e>=this.maxInactiveTime&&(us.onBasePage||(this.currentTime=Qs.basePageNavCompleteTime||this.currentTime,this.navComplete(this.isPollStarted?this.currentTime:e)),this.reset())}),this.pollPeriod)}}Qs.basePageNavCompleteTime=0,Qs.onBasePageLoaded=!1;const $s=new Qs;class Zs extends qi.O{constructor(e){super(Zs.instrumentationName,"1.0.0",e),this.component="virtual-page",this.moduleName=this.component,this.oldUrl=location.href,ss.setIgnoreResourcesForUrl(e.appConfig.apiConfig.ignoreUrlsForResource),$s.domObserver.setIgnoreResourcesForUrl(e.appConfig.apiConfig.ignoreUrlsForResource),$s.setAddCustomAttributesToVpSpans(e.applyCustomAttributesOnSpans)}_patchHistoryMethod(e){return t=>(...r)=>{const n=t.apply(history,r);return location.href!==this.oldUrl&&(this._onVirtualPageView(e),this.oldUrl=location.href),n}}_unpatchHistoryApi(){bi(history.replaceState)&&this._unwrap(history,"replaceState"),bi(history.pushState)&&this._unwrap(history,"pushState")}disable(){this._unpatchHistoryApi(),i.R.debug("VirtualPageInstrumenation is disabled")}enable(){this._patchHistoryApi(),i.R.debug("VirtualPageInstrumenation is enabled")}init(){}_onVirtualPageView(e){const t=document.title,r=this.oldUrl;if(r===location.href)return;const n=ds(),o=this.tracer.startSpan(s.Bx.VIRTUAL_PAGE_SPAN,{startTime:n});o.setAttribute(gr.vSt,window.location.href),o.setAttribute("title",t),o.setAttribute("changeState",e||""),o.setAttribute("referrer",r||""),o.setAttribute("vp.startTime",1e6*n),o.setAttribute("component","virtual-page"),Zi.trace.setSpan(Zi.context.active(),o),$s.setVirtualPageSpan(o,n,this.tracer),i.R.debug("VirtualPageInstrumentation, span started at route transition,",o)}_patchHistoryApi(){this._wrap(history,"replaceState",this._patchHistoryMethod("replaceState")),this._wrap(history,"pushState",this._patchHistoryMethod("pushState"))}}Zs.instrumentationName="@opentelemetry/instrumentation-virtual-page";var ea,ta,ra,na,oa,ia=-1,sa=function(e){addEventListener("pageshow",(function(t){t.persisted&&(ia=t.timeStamp,e(t))}),!0)},aa=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},ua=function(){var e=aa();return e&&e.activationStart||0},ca=function(e,t){var r=aa(),n="navigate";return ia>=0?n="back-forward-cache":r&&(document.prerendering||ua()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},la=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},pa=function(e,t,r,n){var o,i;return function(s){t.value>=0&&(s||n)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},da=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},fa=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},ha=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},ma=-1,ga=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},ya=function(e){"hidden"===document.visibilityState&&ma>-1&&(ma="visibilitychange"===e.type?e.timeStamp:0,ba())},va=function(){addEventListener("visibilitychange",ya,!0),addEventListener("prerenderingchange",ya,!0)},ba=function(){removeEventListener("visibilitychange",ya,!0),removeEventListener("prerenderingchange",ya,!0)},Ta=function(){return ma<0&&(ma=ga(),va(),sa((function(){setTimeout((function(){ma=ga(),va()}),0)}))),{get firstHiddenTime(){return ma}}},Sa=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ea=[1800,3e3],Oa=function(e,t){t=t||{},Sa((function(){var r,n=Ta(),o=ca("FCP"),i=la("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-ua(),0),o.entries.push(e),r(!0)))}))}));i&&(r=pa(e,o,Ea,t.reportAllChanges),sa((function(n){o=ca("FCP"),r=pa(e,o,Ea,t.reportAllChanges),da((function(){o.value=performance.now()-n.timeStamp,r(!0)}))})))}))},_a=[.1,.25],wa=function(e,t){t=t||{},Oa(ha((function(){var r,n=ca("CLS",0),o=0,i=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],r=i[i.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>n.value&&(n.value=o,n.entries=i,r())},a=la("layout-shift",s);a&&(r=pa(e,n,_a,t.reportAllChanges),fa((function(){s(a.takeRecords()),r(!0)})),sa((function(){o=0,n=ca("CLS",0),r=pa(e,n,_a,t.reportAllChanges),da((function(){return r()}))})),setTimeout(r,0))})))},xa={passive:!0,capture:!0},Pa=new Date,Ra=function(e,t){ea||(ea=t,ta=e,ra=new Date,Aa(removeEventListener),La())},La=function(){if(ta>=0&&ta<ra-Pa){var e={entryType:"first-input",name:ea.type,target:ea.target,cancelable:ea.cancelable,startTime:ea.timeStamp,processingStart:ea.timeStamp+ta};na.forEach((function(t){t(e)})),na=[]}},Na=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Ra(e,t),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,xa),removeEventListener("pointercancel",n,xa)};addEventListener("pointerup",r,xa),addEventListener("pointercancel",n,xa)}(t,e):Ra(t,e)}},Aa=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Na,xa)}))},Ia=[100,300],Ca=function(e,t){t=t||{},Sa((function(){var r,n=Ta(),o=ca("FID"),i=function(e){e.startTime<n.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),r(!0))},s=function(e){e.forEach(i)},a=la("first-input",s);r=pa(e,o,Ia,t.reportAllChanges),a&&fa(ha((function(){s(a.takeRecords()),a.disconnect()}))),a&&sa((function(){var n;o=ca("FID"),r=pa(e,o,Ia,t.reportAllChanges),na=[],ta=-1,ea=null,Aa(addEventListener),n=i,na.push(n),La()}))}))},Ua=0,ja=1/0,Ma=0,ka=function(e){e.forEach((function(e){e.interactionId&&(ja=Math.min(ja,e.interactionId),Ma=Math.max(Ma,e.interactionId),Ua=Ma?(Ma-ja)/7+1:0)}))},Da=function(){return oa?Ua:performance.interactionCount||0},Va=function(){"interactionCount"in performance||oa||(oa=la("event",ka,{type:"event",buffered:!0,durationThreshold:0}))},Ba=[200,500],Fa=0,Ha=function(){return Da()-Fa},Xa=[],Ga={},qa=function(e){var t=Xa[Xa.length-1],r=Ga[e.interactionId];if(r||Xa.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};Ga[n.id]=n,Xa.push(n)}Xa.sort((function(e,t){return t.latency-e.latency})),Xa.splice(10).forEach((function(e){delete Ga[e.id]}))}},za=function(e,t){t=t||{},Sa((function(){var r;Va();var n,o=ca("INP"),i=function(e){e.forEach((function(e){e.interactionId&&qa(e),"first-input"===e.entryType&&!Xa.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&qa(e)}));var t,r=(t=Math.min(Xa.length-1,Math.floor(Ha()/50)),Xa[t]);r&&r.latency!==o.value&&(o.value=r.latency,o.entries=r.entries,n())},s=la("event",i,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=pa(e,o,Ba,t.reportAllChanges),s&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&s.observe({type:"first-input",buffered:!0}),fa((function(){i(s.takeRecords()),o.value<0&&Ha()>0&&(o.value=0,o.entries=[]),n(!0)})),sa((function(){Xa=[],Fa=Da(),o=ca("INP"),n=pa(e,o,Ba,t.reportAllChanges)})))}))},Wa=[2500,4e3],Ka={},Ja=function(e,t){t=t||{},Sa((function(){var r,n=Ta(),o=ca("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(o.value=Math.max(t.startTime-ua(),0),o.entries=[t],r())},s=la("largest-contentful-paint",i);if(s){r=pa(e,o,Wa,t.reportAllChanges);var a=ha((function(){Ka[o.id]||(i(s.takeRecords()),s.disconnect(),Ka[o.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(a,0)}),!0)})),fa(a),sa((function(n){o=ca("LCP"),r=pa(e,o,Wa,t.reportAllChanges),da((function(){o.value=performance.now()-n.timeStamp,Ka[o.id]=!0,r(!0)}))}))}}))},Ya=[800,1800],Qa=function e(t){document.prerendering?Sa((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},$a=function(e,t){t=t||{};var r=ca("TTFB"),n=pa(e,r,Ya,t.reportAllChanges);Qa((function(){var o=aa();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;r.value=Math.max(i-ua(),0),r.entries=[o],n(!0),sa((function(){r=ca("TTFB",0),(n=pa(e,r,Ya,t.reportAllChanges))(!0)}))}}))};const Za="0.37.0",eu=["CLS","FID","LCP"];class tu extends qi.O{constructor(e){super("@opentelemetry/sandbox-instrumentation-web-vitals",Za,e),this.applyCustomLogAttributes=void 0,this.eventEmitter=null,this._onReport=e=>{var t;const r={attributes:{"event.data":{id:e.id,name:e.name,delta:e.delta,navigationType:e.navigationType,rating:e.rating,[gr.vSt]:location.href,value:e.value},"event.domain":"brum","event.name":s.Bx.WEB_VITAL}};this.applyCustomLogAttributes&&this._applyCustomAttributes(r,this.applyCustomLogAttributes),null===(t=this.eventEmitter)||void 0===t||t.emit(r),i.R.debug("WebVitalsInstrumentation emitting an event",r)},this._metrics=(null==e?void 0:e.metrics)||eu,this._reportAllChanges=null==e?void 0:e.reportAllChanges,this._durationThreshold=null==e?void 0:e.durationThreshold,this.eventEmitter=this.loggerProvider.getLogger("web-vitals",Za),this.applyCustomLogAttributes=null==e?void 0:e.applyCustomLogAttributes}_applyCustomAttributes(e,t){t&&t(e)}disable(){this._metrics.forEach((e=>{n[`on${e}`]((()=>{}))})),i.R.debug("WebVitalsInstrumentation is disabled")}enable(){this.reportWebVitals(),i.R.debug("WebVitalsInstrumentation is enabled")}init(){}reportWebVitals(){this._metrics.forEach((e=>{n[`on${e}`](this._onReport,{durationThreshold:this._durationThreshold,reportAllChanges:this._reportAllChanges})}))}}class ru extends qi.O{constructor(e){super(ru.instrumentationName,"1.0.0",e),this.component="late-resource",this.moduleName=this.component,ss.setLateResourceCustomAttributesFunction(e.applyCustomAttributesOnSpans),ss.setIgnoreResourcesForUrl(e.appConfig.apiConfig.ignoreUrlsForResource),$s.domObserver.setIgnoreResourcesForUrl(e.appConfig.apiConfig.ignoreUrlsForResource)}disable(){window.removeEventListener("load",this._onDocumentLoaded),window.removeEventListener("VPFinishedEvent",this._onVPLoaded),i.R.debug("LateResourceInstrumentation is disabled")}enable(){this._onDocumentLoaded=this._onDocumentLoaded.bind(this),this._onVPLoaded=this._onVPLoaded.bind(this),window.removeEventListener("load",this._onDocumentLoaded),window.removeEventListener("VPFinishedEvent",this._onVPLoaded),this._waitForPageLoad(),this._waitForVPLoad(),i.R.debug("LateResourceInstrumentation is enabled")}init(){}_onDocumentLoaded(){ss.setTracer(this.tracer),ss.startObserver(!0),i.R.debug("LateResourceInstrumentation is tracking resources after page load")}_onVPLoaded(){ss.setTracer(this.tracer),ss.startObserver(!0),i.R.debug("LateResourceInstrumentation is tracking resources after virtual page load")}_waitForPageLoad(){"complete"===window.document.readyState?this._onDocumentLoaded():window.addEventListener("load",this._onDocumentLoaded)}_waitForVPLoad(){window.addEventListener("VPFinishedEvent",this._onVPLoaded)}}ru.instrumentationName="@opentelemetry/instrumentation-late-resource";var nu=r(3596);function ou(e){(0,o.RT)()&&(e.setAttribute("com.appdynamics.browser.parent-page.url",(0,$r.jH)()),e.setAttribute("com.appdynamics.browser.parent-page.type",(0,$r.OM)()))}class iu{static setUp(){iu.perf=cs.perform,(0,ui.Gv)(iu.perf)&&(Cs(iu.perf.getEntries)||(0,ui.Gv)(iu.perf.timing))||(iu.perf=void 0)}}function su(){var e;const t=iu.perf;let r;t&&t.timing&&(r=null===(e=t.timing)||void 0===e?void 0:e.fetchStart);const n=(0,ui.Et)(window["adrum-start-time"])?window["adrum-start-time"]:void 0;let o=r||n;return ps(o)||(o=ds()),o}let au;class uu{constructor(e,t,r,n,o,i,s,a){this.action=e||"",this.ID=t||"",this.className=r||"",this.tagName=n||"",this.name=o||"",this.text=i||"",this.src=s||null,this.item=a||null}static makeIdentifier(e){const t=Ms(e.id)||"",r=Ms(e.className)||"";let n="";const o=new uu;return e instanceof HTMLHtmlElement?(n="html",o.text="#html"):e===document?(n="document",o.text="#document"):e===window?(n="window",o.text="#window"):e instanceof XMLHttpRequest?(n="xhr",o.src=(0,ui.Gv)(e._adrumAjaxT)?encodeURI(e._adrumAjaxT.url()):""):e instanceof WebSocket?(n="websocket",o.src=encodeURI(e.url)):e instanceof HTMLScriptElement?(n="script",o.src=encodeURI(e.src)):e instanceof HTMLAnchorElement?(n="a",o.text=Ms(e.text)||""):e instanceof HTMLButtonElement?(n="button",o.name=Ms(e.name)):e instanceof HTMLDivElement?n="div":e instanceof HTMLImageElement?(n="img",o.src=encodeURI(e.src),o.text=Ms(e.title)||""):e instanceof HTMLLIElement?(n="li",o.item=e.value):e instanceof HTMLUListElement?n="ul":e instanceof HTMLFormElement?n="form":e instanceof HTMLFrameElement?(n="frame",o.src=encodeURI(e.src)):e instanceof HTMLInputElement?(n=Ms(e.type)||"input",o.text=Ms(e.value),o.name=Ms(e.name)):n=e instanceof HTMLTableElement?"table":e instanceof HTMLTableCaptionElement?"tcap":e instanceof HTMLTableCellElement?"td":e instanceof HTMLTableRowElement?"tr":ps(e.tagName)?Ms(e.tagName):"",o.ID=t,o.className=r,o.tagName=n,(0,ui.Kg)(o.text)&&(o.text=ps(String.prototype.trim)?o.text.trim():o.text,o.text=o.text.slice(0,30)),o}}var cu;!function(e){e[e.USER=0]="USER",e[e.TIMER=1]="TIMER",e[e.XHR=2]="XHR",e[e.RESOURCE=3]="RESOURCE",e[e.PROMISE=4]="PROMISE",e[e.FETCH=5]="FETCH",e[e.BASE_PAGE_LOAD=6]="BASE_PAGE_LOAD",e[e.OTHER=7]="OTHER"}(cu||(cu={}));class lu{constructor(e,t,r){this.start=ds(),this.parent=e,this.trigger=t,this.guid=Us(),this.type=r}}class pu{constructor(){}static backtraceEvents(e){const t=pu.getCurrentCausalEvent();return pu.backtraceParent(t,e)}static backtraceParent(e,t){let r=e,n=1,o="";if(!ps(r))return null;for(;ps(r.parent);)o=" -> "+r.trigger.action+o,r=r.parent,n+=1;const s=ds();return ps(r.trigger)&&(o=r.trigger.action+o+" -> "+t),i.R.debug("SPA2~ Causality Chain: [%s]",o),i.R.debug("SPA2~ Transition started from [%s], and went through [%s] functions",r.start,n),i.R.debug("SPA2~ Transition took [%s] ms",s-r.start),r}static breakChainIfAfterNavComplete(e){this.navCompleted&&(e.parent=null,this.navCompleted=!1)}static breakChainIfTooLong(e){const{count:t,ev:r}=this.getChainLenAndAncestor(e);t<50||(r.parent=null)}static createCausalEvent(e,t,r,n){let o;r?i.R.debug("SPA2~ Executing wrapped [%s] whose parent is [%s]",e,r.trigger.action):i.R.debug("SPA2~ Executing wrapped [%s]",e),ps(t)?(o=uu.makeIdentifier(t.target||t.srcElement),o.action=e):o=new uu(e);const s=new lu(r,o,n);return pu.breakChainIfAfterNavComplete(s),pu.breakChainIfTooLong(s),s}static getChainLenAndAncestor(e){let t=e,r=e.parent,n=1;for(;r&&n<50;)n+=1,t=r,r=r.parent;return{count:n,ev:t}}static getCurrentCausalEvent(){return pu.events.length>0?pu.events[pu.events.length-1]:null}static getEvents(){return pu.events}static getUserActionOrTimer(e){const t=pu.backtraceEvents(e);if(ps(t)&&ps(t.type)){return[cu.TIMER,cu.USER].some((e=>t.type==e))?t:null}return null}static interpretAsFunction(e){if(Cs(e))return e;{const t=""+e;return function(){eval.call(window,t)}}}static isEventListenerObject(e){return ps(e)&&Cs(e.handleEvent)}static popEvent(e){const t=pu.events,r=t.length;let n=null;if(e)for(let o=r-1;o>=0;o--)if(e===t[o].guid)return n=pu.events.splice(o,1),n[0];return pu.events.pop()}static pushApplyPopFromCausalityChain(e,t,r,n){let o,i;ps(t)&&(i=t.guid,pu.pushEvent(t));try{pu.isEventListenerObject(e)?o=e.handleEvent.apply(e,n):Cs(e)&&(o=e.apply(r,n))}finally{pu.popEvent(i)}return o}static pushEvent(e){pu.events.push(e)}static setNavCompleted(){this.navCompleted=!0}static setUp(){pu.events=[];const e=cs;[{funcName:"setTimeout",orig:e.setTimeout},{funcName:"setInterval",orig:e.setInterval}].forEach((({funcName:e,orig:t})=>{window[e]=function(r,n,...o){if(r){r.usedByAgent&&t.apply(window,[r,n,o]);const i=pu.isTimerANextEventLoop(e,arguments[1])?cu.OTHER:cu.TIMER,s=pu.wrapNoneUI(e,pu.interpretAsFunction(r),i);return o[0]=s,t.apply(window,[r,n,o])}t.apply(window,[n,o])}}))}static stitchStackTrace(e){let t=e,r="";if(ps(t)){for(;ps(t.parent);)t.stackTrace&&(r=r+"\n"+t.stackTrace),t=t.parent;r+=t.stackTrace?"\n"+t.stackTrace:""}return r}static wrap(e,t,r,n){if(!ps(t)||t.usedByAgent)return t;let o;return(n=n||!1)||(o=pu.getCurrentCausalEvent()),n=>{const i=pu.createCausalEvent(e,n,o,r);return pu.pushApplyPopFromCausalityChain(t,i,this,arguments)}}static wrapNoneUI(e,t,r){if(!ps(t)||t.usedByAgent)return t;const n=pu.getCurrentCausalEvent(),o=pu.createCausalEvent(e,null,n,r);return()=>pu.pushApplyPopFromCausalityChain(t,o,this,arguments)}static isTimerANextEventLoop(e,t){return"setTimeout"==e&&(ps(t)&&0==t||!ps(t))}}pu.navCompleted=!1,pu.events=[];class du{constructor(){if(this.supportsInterception=!1,!window.XMLHttpRequest)return void i.R.debug("EXT~ No native XHR object; XHR instrumentation disabled");if(this.xhrProto=window.XMLHttpRequest.prototype,!this.xhrProto)return void i.R.debug("EXT~ Native XHR object present but it does not have a prototype; XHR instrumentation disabled");"open"in this.xhrProto&&"send"in this.xhrProto?(this.supportsInterception=Ks(this.xhrProto.open)&&Ks(this.xhrProto.send),this.supportsInterception||i.R.debug("EXT~ XHR prototype does not have interceptable open & send functions; XHR instrumentation disabled")):i.R.debug("EXT~ XHR prototype does not have open & send functions; XHR instrumentation disabled")}setUp(){this.supportsInterception&&(this.wrapOpen(),this.wrapSend())}wrapOpen(){}wrapSend(){if(void 0===this.xhrProto)return;const e=this;this.xhrProto.send=Ws(this.xhrProto.send,(function(){const r=this;let n=!1;const o=pu.getCurrentCausalEvent();r.adrum_causalEvent=pu.createCausalEvent("XHR.send",null,o,cu.XHR);let s=0;const a=function(){if(4==r.readyState&&n)return void i.R.debug("EXT~ Trying to wrap XHR.onReadyStateChange but XHR already completed; trusting in addEventListener");let o;try{o=r.onreadystatechange}catch(e){return n?void i.R.debug("EXT~ XHR.onReadyStateChange cannot be read [%s], but trusting in addEventListener",e):void i.R.debug("EXT~ XHR.onReadyStateChange cannot be read [%s], see CORE-19551; Using watcher",e)}s+=1,o?Ks(o)?(r.addEventListener("readystatechange",du.createXhrListenerInterceptor(o,"XHR.onReadyStateChange")),t&&void 0!==e.xhrRemoveEventListener&&e.xhrRemoveEventListener.call(r,"readystatechange",du.directListener),i.R.debug("EXT~ Wrapped XHR.onReadyStateChange on the [%s]st try",s)):t||i.R.debug("EXT~ XHR.onReadyStateChange set does not support interception; [not] using watcher"):s<du.WRAP_ORSC_MAXATTEMPTS?setTimeout(a,0):n?i.R.debug("EXT~ Failed to wrap XHR.onReadyStateChange, but trusting in addEventListener"):i.R.debug("EXT~ Failed to wrap XHR.onReadyStateChange; [not] using watcher")};if(t&&void 0!==e.xhrAddEventListener){i.R.debug("EXT~ Adding level 2 listener via addEventListener");try{e.xhrAddEventListener.call(r,"readystatechange",du.directListener),n=!0}catch(e){i.R.debug("EXT~ Tried to add event listener, but failed [%s]",e)}}a()}),(function(){const e=Us();this.adrum_ajaxGUID=e,$s.asyncRequestObserver.addXhrToXhrsSentIfNotPresent(e)}),0,(()=>{}));const t="addEventListener"in this.xhrProto&&"removeEventListener"in this.xhrProto&&Ks(this.xhrProto.addEventListener)&&Ks(this.xhrProto.removeEventListener);if(t){const t=ks(this.xhrProto,"addEventListener");this.xhrAddEventListener=t.addEventListener,t.addEventListener=Ws(t.addEventListener,(function(e,t){if(ps(t)&&(t.usedByAgent=!0,this instanceof XMLHttpRequest)){if(!/^(load|error|readystatechange)$/.test(e))return;if(!t)return;const r=du.tryEnsureFunctionHasInterceptor(t);if(r){const e=fs(arguments);return e[1]=r,i.R.debug("EXT~ XHR.addEventListener called with a callback which were able to intercept"),e}i.R.debug("EXT~ XHR.addEventListener called, but didn't add interceptor to callback. Event [%s], Orig listener [%s]",e,t)}}),void 0);const r=ks(this.xhrProto,"removeEventListener");this.xhrRemoveEventListener=r.removeEventListener,r.removeEventListener=Ws(r.removeEventListener,(function(t,r){if(this instanceof XMLHttpRequest){const t=fs(arguments);r.__adrumInterceptor?(t[1]=r.__adrumInterceptor,i.R.debug("EXT~ XHR.removeEventListener called. Removed interceptor."),e.xhrRemoveEventListener.apply(this,t)):i.R.debug("EXT~ XHR.removeEventListener called, but couldn't find interceptor.")}}),void 0)}else i.R.debug("EXT~ Not intercepting XHR.add/removeEventListener because those methods don't exist or are not interceptable");i.R.debug("EXT~ ...done setting up XHR interception")}static createXhrListenerInterceptor(e,t){return du.xhrInterceptorWithFirefox13Workaround(e,(function(){du.handleReadyStateMaybeChanged(this)}),(function(){du.handleListenerFinished(this)}),t)}static directListener(){du.handleReadyStateMaybeChanged(this),du.handleListenerFinished(this)}static handleListenerFinished(e){4==e.readyState&&(pu.popEvent(e.adrum_causalEventId),(0,ui.Kg)(e.adrum_ajaxGUID)&&(ps(e.status)&&0==e.status?$s.asyncRequestObserver.addXhrToXhrsErredIfNotPresent(e.adrum_ajaxGUID):$s.asyncRequestObserver.addXhrToXhrsLoadedIfNotPresent(e.adrum_ajaxGUID)))}static handleReadyStateMaybeChanged(e){if(4==e.readyState){const t=e.adrum_causalEvent,r=e.adrum_causalEvent=pu.createCausalEvent("XHR.load",null,t,cu.XHR);ps(r)&&(pu.pushEvent(r),e.adrum_causalEventId=r.guid)}}static tryEnsureFunctionHasInterceptor(e){if(e.__adrumInterceptor)return e.__adrumInterceptor;if(!Ks(e))return;const t=du.createXhrListenerInterceptor(e,"XHR.invokeEventListener");return e.__adrumInterceptor=t,t}static xhrInterceptorWithFirefox13Workaround(e,t,r,n){let o=e;return e&&"object"==typeof e&&"toString"in e&&"[xpconnect wrapped nsIDOMEventListener]"===e.toString()&&"handleEvent"in e&&(o=(...t)=>{e.handleEvent.apply(this,t)}),Ws(o,t,r)}}du.WRAP_ORSC_MAXATTEMPTS=5;const fu={fetchMonitor:new class{constructor(){}setUp(){if(ps(window.fetch)){au=Ws((e=>(...t)=>{const r=e(...t);return new window.Promise(((e,t)=>{r.then((t=>{if(Cs(t.clone)){t.clone().text().then((()=>{void 0!==this.ajaxGUID&&$s.asyncRequestObserver.addXhrToXhrsLoadedIfNotPresent(this.ajaxGUID)})).catch((()=>{void 0!==this.ajaxGUID&&$s.asyncRequestObserver.addXhrToXhrsErredIfNotPresent(this.ajaxGUID)}))}e(t)})).catch((e=>{void 0!==this.ajaxGUID&&($s.asyncRequestObserver.addXhrToXhrsErredIfNotPresent(this.ajaxGUID),t(e))}))}))})(window.fetch),(()=>{}),(()=>{this.ajaxGUID=Us(),$s.asyncRequestObserver.addXhrToXhrsSentIfNotPresent(this.ajaxGUID)})),au.isAgentFetch=!0,window.fetch=au}}},navMonitor:new class{constructor(){this.navTiming={}}copyNavTimingMarks(){this.navTiming=function(){const e=iu.perf,t={};let r={};e&&e.getEntriesByType?r=e.getEntriesByType("navigation")[0]:e&&e.timing&&(r=e.timing);for(const e in r){const n=r[e];"number"==typeof n&&(t[e]=n)}return t}()}setUp(){iu.setUp()}},PerformanceWrapper:iu,resourceMonitor:new class{constructor(){this.basePageResourceBuffer=[],this.resourceBuffer=[],iu.setUp(),this.resourceBuffer=[],this.basePageResourceBuffer=[],this.MAX_RESOURCE_BUFFER_SIZE=500,this.USUAL_RESOURCE_BUFFER_SIZE=150,this.RESOURCE_BUFFER_POLL_PERIOD=3e3,this.setResourceTimingBufferSize(),this.setOriginalClearResourceTimings()}clearResourceTimings(){Cs(this.originalClearResourceTimings)&&this.originalClearResourceTimings()}copyBasePageResTimingMarks(){this.basePageResourceBuffer=this.getAndClearResTimingMarks()}copyResTimingMarksToBuffer(){this.resourceBuffer=this.getAndClearResTimingMarks()}getAndClearResTimingMarks(){const e=this.getResTimingMarks();return this.resourceBuffer.length+e.length>this.MAX_RESOURCE_BUFFER_SIZE?this.resourceBuffer.concat(e.slice(0,this.MAX_RESOURCE_BUFFER_SIZE-this.resourceBuffer.length)):(this.clearResourceTimings(),this.resourceBuffer.concat(e))}getResTimingMarks(){const e=iu.perf;let t=[];if(e&&e.getEntriesByType){const r=e.getEntriesByType("resource");r&&r.length>0&&r.unshift&&(t=r)}return t}getResourceInInterval(e,t){return this.resourceBuffer.filter((r=>e+r.startTime>=t))}getResourcesFromIntervalAndClearBuffers(e,t){this.resourceBuffer=this.resourceBuffer.concat(this.getResTimingMarks());const r=this.getResourceInInterval(e,t);return this.clearResourceTimings(),this.resourceBuffer=[],r}resourceBufferPoll(){this.getResTimingMarks().length>=this.USUAL_RESOURCE_BUFFER_SIZE&&this.copyResTimingMarksToBuffer()}resourceMonitorInterceptors(){const e=iu.perf;e&&(Cs(e.setResourceTimingBufferSize)&&(e.setResourceTimingBufferSize=Ws(e.setResourceTimingBufferSize,(()=>{ps(arguments)&&ps(arguments[0])&&(this.USUAL_RESOURCE_BUFFER_SIZE=arguments[0])}))),Cs(e.clearResourceTimings)&&(e.clearResourceTimings=Ws(e.clearResourceTimings,(()=>{this.copyResTimingMarksToBuffer()}))))}setOriginalClearResourceTimings(){const e=iu.perf;e&&Cs(e.clearResourceTimings)&&(this.originalClearResourceTimings=e.clearResourceTimings.bind(e))}setResourceTimingBufferSize(){const e=iu.perf;(0,ui.Et)(150)&&e&&Cs(e.setResourceTimingBufferSize)&&e.setResourceTimingBufferSize(150)}setUp(){iu.setUp(),iu.perf&&Cs(iu.perf.getEntriesByType)&&(Cs(iu.perf.addEventListener)?iu.perf.addEventListener("resourcetimingbufferfull",this.copyResTimingMarksToBuffer.bind(this)):"onresourcetimingbufferfull"in iu.perf?iu.perf.onresourcetimingbufferfull=Cs(iu.perf.onresourcetimingbufferfull)?Ws(iu.perf.onresourcetimingbufferfull,this.copyResTimingMarksToBuffer.bind(this)):this.copyResTimingMarksToBuffer.bind(this):cs.setInterval.call(window,this.resourceBufferPoll.bind(this),this.RESOURCE_BUFFER_POLL_PERIOD)),this.setUsualResourceBufferSize(),this.resourceMonitorInterceptors()}setUsualResourceBufferSize(){iu.perf&&Cs(iu.perf.setResourceTimingBufferSize)&&(0,ui.Et)(150)&&(this.USUAL_RESOURCE_BUFFER_SIZE=150)}},xhrMonitor:new du},hu=ls;function mu(e){fu.PerformanceWrapper.perf&&(fu.navMonitor.copyNavTimingMarks(),fu.resourceMonitor.copyBasePageResTimingMarks());const{pct:t,vct:r}=Vs.computeVCTAndPCT(su());e.setAttribute("com.appdynamics.browser.page.pct",t),e.setAttribute("com.appdynamics.browser.page.vct",r),i.R.debug("VCT adding vct and pct to root span",r,t),hu.spa2?Vs.reset():(Vs.disconnectMutationObserver(),$s.reset())}var gu;!function(e){e.EVENT_TYPE="event_type",e.TARGET_ELEMENT="target_element",e.TARGET_XPATH="target_xpath",e.HTTP_URL="http.url"}(gu||(gu={}));var yu="0.39.0",vu=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),bu=["click"];function Tu(){return!1}var Su=function(e){function t(t){var r;void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-user-interaction",yu,t)||this;return n.version=yu,n.moduleName="user-interaction",n._spansData=new WeakMap,n._wrappedListeners=new WeakMap,n._eventsSpanMap=new WeakMap,n._eventNames=new Set(null!==(r=null==t?void 0:t.eventNames)&&void 0!==r?r:bu),n._shouldPreventSpanCreation="function"==typeof(null==t?void 0:t.shouldPreventSpanCreation)?t.shouldPreventSpanCreation:Tu,n}return vu(t,e),t.prototype.init=function(){},t.prototype._checkForTimeout=function(e,t){var r=this._spansData.get(t);r&&("setTimeout"===e.source?r.hrTimeLastTimeout=(0,Ae._5)():"Promise.then"!==e.source&&"setTimeout"!==e.source&&(r.hrTimeLastTimeout=void 0))},t.prototype._allowEventName=function(e){return this._eventNames.has(e)},t.prototype._createSpan=function(e,t,r){var n;if(e instanceof HTMLElement&&e.getAttribute&&!e.hasAttribute("disabled")&&this._allowEventName(t)){var o=Ci(e,!0);try{var i=this.tracer.startSpan(t,{attributes:(n={},n[gu.EVENT_TYPE]=t,n[gu.TARGET_ELEMENT]=e.tagName,n[gu.TARGET_XPATH]=o,n[gu.HTTP_URL]=window.location.href,n)},r?Le.u.setSpan(Re.active(),r):void 0);if(!0===this._shouldPreventSpanCreation(t,e,i))return;return this._spansData.set(i,{taskCount:0}),i}catch(e){this._diag.error("failed to start create new user interaction span",e)}}},t.prototype._decrementTask=function(e){var t=this._spansData.get(e);t&&(t.taskCount--,0===t.taskCount&&this._tryToEndSpan(e,t.hrTimeLastTimeout))},t.prototype._getCurrentSpan=function(e){var t=e.get("OT_ZONE_CONTEXT");return t?Le.u.getSpan(t):t},t.prototype._incrementTask=function(e){var t=this._spansData.get(e);t&&t.taskCount++},t.prototype.addPatchedListener=function(e,t,r,n){var o=this._wrappedListeners.get(r);o||(o=new Map,this._wrappedListeners.set(r,o));var i=o.get(t);return i||(i=new Map,o.set(t,i)),!i.has(e)&&(i.set(e,n),!0)},t.prototype.removePatchedListener=function(e,t,r){var n=this._wrappedListeners.get(r);if(n){var o=n.get(t);if(o){var i=o.get(e);return i&&(o.delete(e),0===o.size&&(n.delete(t),0===n.size&&this._wrappedListeners.delete(r))),i}}},t.prototype._invokeListener=function(e,t,r){return"function"==typeof e?e.apply(t,r):e.handleEvent(r[0])},t.prototype._patchAddEventListener=function(){var e=this;return function(t){return function(r,n,o){if(!n)return t.call(this,r,n,o);var i=o&&"object"==typeof o&&o.once,s=function(){for(var t,o=this,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var u=s[0],c=null==u?void 0:u.target;u&&(t=e._eventsSpanMap.get(u)),i&&e.removePatchedListener(this,r,n);var l=e._createSpan(c,r,t);return l?(u&&e._eventsSpanMap.set(u,l),Re.with(Le.u.setSpan(Re.active(),l),(function(){var t=e._invokeListener(n,o,s);return l.end(),t}))):e._invokeListener(n,this,s)};return e.addPatchedListener(this,r,n,s)?t.call(this,r,s,o):void 0}}},t.prototype._patchRemoveEventListener=function(){var e=this;return function(t){return function(r,n,o){var i=e.removePatchedListener(this,r,n);return i?t.call(this,r,i,o):t.call(this,r,n,o)}}},t.prototype._getPatchableEventTargets=function(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]},t.prototype._patchHistoryApi=function(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())},t.prototype._patchHistoryMethod=function(){var e=this;return function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=""+location.pathname+location.hash+location.search,i=t.apply(this,r),s=""+location.pathname+location.hash+location.search;return o!==s&&e._updateInteractionName(s),i}}},t.prototype._unpatchHistoryApi=function(){bi(history.replaceState)&&this._unwrap(history,"replaceState"),bi(history.pushState)&&this._unwrap(history,"pushState"),bi(history.back)&&this._unwrap(history,"back"),bi(history.forward)&&this._unwrap(history,"forward"),bi(history.go)&&this._unwrap(history,"go")},t.prototype._updateInteractionName=function(e){var t=Le.u.getSpan(Re.active());t&&"function"==typeof t.updateName&&t.updateName("Navigation: "+e)},t.prototype._patchZoneCancelTask=function(){var e=this;return function(t){return function(r){var n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&e._decrementTask(o),t.call(this,r)}}},t.prototype._patchZoneScheduleTask=function(){var e=this;return function(t){return function(r){var n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&(e._incrementTask(o),e._checkForTimeout(r,o)),t.call(this,r)}}},t.prototype._patchZoneRunTask=function(){var e=this;return function(t){return function(r,n,o){var i,s=Array.isArray(o)&&o[0]instanceof Event?o[0]:void 0,a=null==s?void 0:s.target,u=this;if(a){if(i=e._createSpan(a,r.eventName))return e._incrementTask(i),u.run((function(){try{return Re.with(Le.u.setSpan(Re.active(),i),(function(){var e=Zone.current;return r._zone=e,t.call(e,r,n,o)}))}finally{e._decrementTask(i)}}))}else i=e._getCurrentSpan(u);try{return t.call(u,r,n,o)}finally{i&&e._shouldCountTask(r,u)&&e._decrementTask(i)}}}},t.prototype._shouldCountTask=function(e,t){if(e._zone&&(t=e._zone),!t||!e.data||e.data.isPeriodic)return!1;var r=this._getCurrentSpan(t);return!!r&&(!!this._spansData.get(r)&&("macroTask"===e.type||"microTask"===e.type))},t.prototype._tryToEndSpan=function(e,t){e&&(this._spansData.get(e)&&(e.end(t),this._spansData.delete(e)))},t.prototype.enable=function(){var e=this,t=this.getZoneWithPrototype();(this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!t),t)?(bi(t.prototype.runTask)&&(this._unwrap(t.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),bi(t.prototype.scheduleTask)&&(this._unwrap(t.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),bi(t.prototype.cancelTask)&&(this._unwrap(t.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(t.prototype,"runTask",this._patchZoneRunTask()),this._wrap(t.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(t.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach((function(t){bi(t.addEventListener)&&(e._unwrap(t,"addEventListener"),e._diag.debug("removing previous patch from method addEventListener")),bi(t.removeEventListener)&&(e._unwrap(t,"removeEventListener"),e._diag.debug("removing previous patch from method removeEventListener")),e._wrap(t,"addEventListener",e._patchAddEventListener()),e._wrap(t,"removeEventListener",e._patchRemoveEventListener())})));this._patchHistoryApi()},t.prototype.disable=function(){var e=this,t=this.getZoneWithPrototype();(this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!t),t&&this._zonePatched)?(bi(t.prototype.runTask)&&this._unwrap(t.prototype,"runTask"),bi(t.prototype.scheduleTask)&&this._unwrap(t.prototype,"scheduleTask"),bi(t.prototype.cancelTask)&&this._unwrap(t.prototype,"cancelTask")):this._getPatchableEventTargets().forEach((function(t){bi(t.addEventListener)&&e._unwrap(t,"addEventListener"),bi(t.removeEventListener)&&e._unwrap(t,"removeEventListener")}));this._unpatchHistoryApi()},t.prototype.getZoneWithPrototype=function(){return window.Zone},t}(Oi.O);class Eu extends Su{enable(){var e,t;super._patchHistoryApi=()=>{},super.enable(),null===(e=window.listenerTracker)||void 0===e||e.stopTracking();const r=null===(t=window.listenerTracker)||void 0===t?void 0:t.getTracked();null==r||r.forEach((({target:e,type:t,listener:r,options:n})=>{e.removeEventListener(t,r,n),e.addEventListener(t,r,n)}))}}class Ou extends nu.n{constructor(e,t,r,n,o,i){super(e,t,r,n,o),this.services=i,this.isStarted=!1,this.isVisuallyCompleteSetUp=!1}start(){if(this.isStarted)throw new Error("BrumModule is already started. Start is not needed.");i.R.debug("BrumModule.start()"+((0,o.RT)()?" - iframe":""),this.config),this.isStarted=!0;const e={applyCustomAttributesOnSpan:e=>{ns(e,"xhr"),is(e),e.setAttribute("com.appdynamics.browser.page.url",ts()),e.setAttribute("com.appdynamics.browser.page.type",es())},ignoreUrls:this.config.apiConfig.ignoreUrlsForXhr},t={applyCustomAttributesOnSpan:e=>{is(e),e.setAttribute("com.appdynamics.browser.page.url",ts()),e.setAttribute("com.appdynamics.browser.page.type",es())},ignoreUrls:this.config.apiConfig.ignoreUrlsForFetch};var r;$s.setUpServices(this.services,this.session.id),this.isVisuallyCompleteSetUp||(r=this.config,window["adrum-start-time"]=ds(),ps(window.MutationObserver)&&(ls.isVCTObservationStarted=!0,$s.domObserver.setUpInterceptors(r),$s.start(su())),fu.resourceMonitor.setUp(),fu.xhrMonitor.setUp(),fu.fetchMonitor.setUp(),Vs.start(fu),this.isVisuallyCompleteSetUp=!0);const n=Object.assign(Object.assign({},this.providers),{appConfig:this.config,session:this.session,urlSpansQueue:this.urlSpansQueue});this.customInstrumentations=[new Ki(Object.assign({applyCustomAttributesOnSpan:{documentFetch:e=>{ou(e),ns(e,"document-load"),rs(e,"GET"),is(e)},documentLoad:e=>{mu(e),ou(e),function(e){if(!(0,o.RT)())return;const t=window.parent["page-span-id"];t&&e.setAttribute("page.span_id",t)}(e),rs(e,"GET"),ns(e,"document-load"),Qs.onBasePageLoaded=!0,$s.markBasePageSpanEnded()},resourceFetch:e=>{rs(e,"GET"),is(e),ns(e,"resource")}},atSpanStart:(e,t)=>{$s.currentSpanId=e.spanContext().spanId,$s.currentBasePageSpanId=e.spanContext().spanId,$s.currentBasePageUrl=location.href,window["page-span-id"]=e.spanContext().spanId,$s.setBasePageSpan(e,t)},enabled:!1},n)),new Qi(Object.assign(Object.assign({},n),{enabled:!1})),new Zs(Object.assign(Object.assign({},n),{enabled:!1})),new tu(Object.assign({applyCustomLogAttributes:os,enabled:!1,metrics:["FCP","CLS","LCP","FID"],reportAllChanges:!1},n))],this.config.apiConfig.disableLateResources||this.customInstrumentations.push(new ru(n)),this.instrumentations=[...this.customInstrumentations,new Gi(e),new Bi(t),new Eu({eventNames:["click"],enabled:!1})],(0,yi.R)({instrumentations:this.instrumentations,tracerProvider:this.providers.webTracerProvider}),i.R.info("Instrumentation started")}stop(){if(!this.isStarted)throw new Error("BrumModule is not started. Stop is not needed.");i.R.debug("BrumModule.stop()"),this.isStarted=!1,this.instrumentations&&(this.instrumentations.forEach((e=>e.disable())),this.instrumentations=void 0)}}class _u{constructor(e,t,r,n,o,s){this.config=e,this.moduleConfig=t,this.services=r,this.providers=n,this.sessionId=o,this.urlSpansQueue=s,this.isEnabled=()=>this.config.brum.recordingEnabled,this.isLoaded=()=>Boolean(this.brumModule),this.isStarted=()=>{var e;return Boolean(null===(e=this.brumModule)||void 0===e?void 0:e.isStarted)},this.load=()=>{this.isEnabled()?this.brumModule=((e,t,r,n,o,i)=>new Ou(e,t,r,n,o,i))(this.config,this.moduleConfig,this.providers,{id:this.sessionId},this.urlSpansQueue,{storageService:this.services.storageService}):i.R.debug("Brum module is disabled. Cannot load.",window.document)},this.loadIfNeeded=()=>{this.isLoaded()||this.load()},this.start=()=>{var e;this.isEnabled()?this.isLoaded()?null===(e=this.brumModule)||void 0===e||e.start():i.R.warn("Brum module is not loaded. Cannot start."):i.R.debug("Brum module is disabled. Cannot start.")},this.stop=()=>{var e;null===(e=this.brumModule)||void 0===e||e.stop()}}}var wu=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class xu{constructor(e,t,n,o,s,a){this.config=e,this.moduleConfig=t,this.services=n,this.providers=o,this.sessionId=s,this.urlSpansQueue=a,this.isEnabled=()=>this.config.sessionReplay.recordingEnabled,this.isLoaded=()=>Boolean(this.replayModule),this.isStarted=()=>{var e;return Boolean(null===(e=this.replayModule)||void 0===e?void 0:e.isStarted)},this.load=()=>wu(this,void 0,void 0,(function*(){if(this.isEnabled()){if(!this.services.timeService)throw new Error("Time service is not initialized.");this.isEnabledByScriptMode()?this.replayModule=yield((e,t,n,o,i,s)=>new Promise((a=>{r.e(630).then(r.bind(r,4726)).then((({SessionReplayModule:r})=>{a(new r(e,t,n,o,i,s))}))})))(this.config,this.moduleConfig,this.providers,{id:this.sessionId},this.urlSpansQueue,{postMessageService:this.services.postMessageService,timeService:this.services.timeService}):i.R.debug(`Replay module is disabled by script mode "${dn.C.mode}". Cannot load.`)}else i.R.debug("Replay module is disabled. Cannot load.")})),this.loadIfNeeded=()=>wu(this,void 0,void 0,(function*(){this.isLoaded()||(yield this.load())})),this.setTimeService=e=>{this.services.timeService=e},this.start=e=>{var t;this.isEnabled()?this.isEnabledByScriptMode()?this.isLoaded()?null===(t=this.replayModule)||void 0===t||t.start(e):i.R.warn("Replay module is not loaded. Cannot start."):i.R.debug(`Replay module is disabled by script mode "${dn.C.mode}". Cannot start.`):i.R.debug("Replay module is disabled. Cannot start.")},this.stop=()=>{var e;null===(e=this.replayModule)||void 0===e||e.stop()},this.isEnabledByScriptMode=()=>dn.C.isNormalMode||dn.C.isCrossOriginIframeMode}}var Pu=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class Ru{get sessionId(){return this.waitForSessionService.promise.then((e=>{if(void 0===e.currentSessionId)throw new Error("Session is not yet initialized.");return e.currentSessionId}))}constructor(e,t){this.config=e,this.isInitialized=!1,this.isRecording=!1,this.isDocumentVisibilityListenerAttached=!1,this.logRecordsQueue=new gi,this.moduleConfig={originalFetch:fetch.bind(window)},this.spansQueue=new gi,this.urlSpansQueue=new gi,this.trackCustomEvent=(...e)=>{this.waitForSessionService.promise.then((t=>{t.trackCustomEvent(...e)}))},this.attachDocumentVisibilityListener=()=>{this.isDocumentVisibilityListenerAttached||(document.addEventListener("visibilitychange",this.onVisibilityChange,{capture:!0}),this.isDocumentVisibilityListenerAttached=!0)},this.detachDocumentVisibilityListener=()=>{this.isDocumentVisibilityListenerAttached&&(document.removeEventListener("visibilitychange",this.onVisibilityChange,{capture:!0}),this.isDocumentVisibilityListenerAttached=!1)},this.fetchConfigAndApplyChanges=()=>Pu(this,void 0,void 0,(function*(){let e,t=!1,r=()=>{};if(this.fetchingConfigInProgress=new Promise((e=>{r=e})),(0,o.RT)()&&dn.C.isPendingMode){this.services.postMessageService.sendEventToSource(Object.assign(Object.assign({},this.services.postMessageService.createPostMessageEvent()),{name:fn.g4.GET_CONFIG}),window.parent);try{const t=yield this.services.postMessageService.waitForEventFromSourceOrThrowAfterGivenTime(fn.g4.CONFIG,window.parent,1e4);t.config&&(e=t.config)}catch(e){i.R.debug("Cannot get config from parent. Fetching config.",e),yield this.startNormalScriptMode()}}if(!e&&(e=yield(n=this.config.apiConfig,b(void 0,void 0,void 0,(function*(){try{const e=performance.now(),{data:t}=yield v("/eum/v1/config",{method:"GET",abortPreviousRequest:!1,baseUrl:n.url,credentials:"omit",discardExistingPath:!0,headers:{"x-app-name":n.appName,"x-app-type":"brum"}}),r=performance.now();return"serverTimeUnixMs"in t&&(t.serverTimeUnixMs=t.serverTimeUnixMs+Math.round((r-e)/2)),t}catch(e){return{message:JSON.stringify(e),retryAfterMs:3e5,statusCode:e instanceof u?e.status:0,success:!1}}}))),T(e))){i.R.debug("Failed to fetch config. Stopping recording.");const t=0===e.statusCode||e.statusCode>=500;this.services.timeoutService.applyTimeout({description:`/config endpoint returned ${e.statusCode} status code.`,duration:e.retryAfterMs,reason:t?"CONFIG_NETWORK_ERROR":"CONFIG_TIMEOUT"},"visible"===document.visibilityState)}var n;if(e&&!T(e)){t=!0,dn.C.isNormalMode&&this.services.postMessageService.setRemoteConfig(e),this.services.timeService?this.services.timeService.updateServerTime(e.serverTimeUnixMs):this.services.timeService=new hn(e.serverTimeUnixMs);const r=Object.assign({},this.config);Object.assign(this.config,(0,E.T)(this.config.apiConfig,e.configuration)),this.config.brum.recordingEnabled!==r.brum.recordingEnabled&&(this.brumControl.isEnabled()?(this.brumControl.loadIfNeeded(),this.brumControl.isStarted()||this.brumControl.start()):this.brumControl.stop()),this.config.sessionReplay.recordingEnabled!==r.sessionReplay.recordingEnabled&&(this.replayControl.isEnabled()?(this.replayControl.setTimeService(this.services.timeService),yield this.replayControl.loadIfNeeded(),"visible"===document.visibilityState&&this.replayControl.start(this.parentMetadata)):this.replayControl.stop())}return this.fetchingConfigInProgress=void 0,r(),t})),this.onAfterSessionStarts=e=>{e.isInitialSession||(i.R.debug("New session started. Starting modules."),this.brumControl.isEnabled()&&this.brumControl.start(),e.isSessionTriggeredFromPendingSpanOrLog?i.R.debug("New session is triggered from pending span or log. Not starting replay module."):this.replayControl.isEnabled()&&this.replayControl.start(this.parentMetadata),e.isNewSession&&!this.fetchingConfigInProgress&&this.fetchConfigAndApplyChanges())},this.onBeforeSessionStarts=e=>{e.isInitialSession||(this.brumControl.isEnabled()&&this.brumControl.stop(),!e.isSessionTriggeredFromPendingSpanOrLog&&this.replayControl.isEnabled()&&this.replayControl.stop())},this.onLogEmit=e=>Pu(this,void 0,void 0,(function*(){this.services.timeoutService.isTimeoutApplied()||(yield this.synchronizeTimeIfNeeded(),this.isRecording&&this.logRecordsQueue.push(e))})),this.onSpanEmit=e=>Pu(this,void 0,void 0,(function*(){this.services.timeoutService.isTimeoutApplied()||(yield this.synchronizeTimeIfNeeded(),this.isRecording&&(this.spansQueue.push(e),e.name!==s.ZE.DOCUMENT_LOAD&&e.name!==s.Bx.VIRTUAL_PAGE_SPAN||this.urlSpansQueue.push(e)))})),this.onVisibilityChange=e=>{(0,a.Q)(e)||this.config.apiConfig.exportForTests?("hidden"===document.visibilityState?(i.R.debug("Tab is hidden. Stop replay module.",this.previousVisibilityState),this.replayControl.stop()):(i.R.debug("Tab is visible. Start replay module.",this.previousVisibilityState),this.replayControl.start(this.parentMetadata)),this.previousVisibilityState=document.visibilityState):i.R.debug("Visibility change event is not trusted. Ignore it.")},this.startNormalScriptMode=()=>Pu(this,void 0,void 0,(function*(){this.services.postMessageService.close(),dn.C.setNormalMode(),yield mn.$.initialize()})),this.synchronizeTimeIfNeeded=()=>Pu(this,void 0,void 0,(function*(){var e,t,r;if(this.discoveringParentScriptInProgress)return i.R.debug("Waiting for parent to be discovered to synchronize time."),void(yield this.discoveringParentScriptInProgress);if(this.fetchingConfigInProgress)return i.R.debug("Already synchronizing time - fetch config in progress."),void(yield this.fetchingConfigInProgress);if(!this.services.timeService)return void i.R.error("Time service is not initialized.");if(!this.services.timeService.isTimeInBrowserOutOfSync())return;i.R.debug("Time in browser is out of sync. Stopping current session if exists."),(null===(e=this.services.sessionService)||void 0===e?void 0:e.isSessionRunning)?null===(t=this.services.sessionService)||void 0===t||t.stopCurrentSession():i.R.debug("Session is not running. Not stopping the current session."),i.R.debug("Requesting new config.");(yield this.fetchConfigAndApplyChanges())?(i.R.debug("The time in the browser is synced. We are starting the initial session - either we continue in the current one and reset timeouts or start a new one."),null===(r=this.services.sessionService)||void 0===r||r.startInitialSession()):i.R.debug("Failed to fetch config. Not starting the initial session in synchronization function.")})),pn.sendQueuedChunks(t.storageService),this.providers=nn(e,{onLogEmit:this.onLogEmit,onSpanEmit:this.onSpanEmit}),this.services=Object.assign({},t);const r={promise:new Promise(((e,t)=>{queueMicrotask((()=>{r.resolve=e,r.reject=t}))})),reject:null,resolve:null};this.waitForSessionService=r,this.brumControl=new _u(this.config,this.moduleConfig,{storageService:this.services.storageService},this.providers,this.sessionId,this.urlSpansQueue),this.replayControl=new xu(this.config,this.moduleConfig,{postMessageService:this.services.postMessageService},this.providers,this.sessionId,this.urlSpansQueue)}static create(e,t){return Pu(this,void 0,void 0,(function*(){return yield(e=>tn(void 0,void 0,void 0,(function*(){if(e.apiConfig.useZoneContext){window.__zone_symbol__DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION=!1;const{ZoneContextManager:e}=yield r.e(171).then(r.bind(r,7970));rn=new e}})))(e),new Ru(e,t)}))}initialize(e){return Pu(this,void 0,void 0,(function*(){if(this.isInitialized)i.R.debug("Initialization called multiple times.");else{if(this.isInitialized=!0,(0,o.RT)()&&dn.C.isPendingMode){let e=()=>{};this.discoveringParentScriptInProgress=new Promise((t=>{e=t}));(yield this.services.postMessageService.tryToDiscoverParent(window.parent))||(i.R.debug("Cannot discover parent. Starting normal script mode."),yield this.startNormalScriptMode()),this.discoveringParentScriptInProgress=void 0,e()}this.fetchConfigAndApplyChanges().then((e=>Pu(this,void 0,void 0,(function*(){var t,r,n,s,a,u;if(!e)return this.isInitialized=!1,void(null===(r=(t=this.waitForSessionService).reject)||void 0===r||r.call(t,new Error("Failed to fetch config - `isSuccessfullyApplied` is false . Session service is not initialized.")));if(!this.services.timeService)throw new Error("Time service is not initialized.");if((0,o.RT)()&&dn.C.isPendingMode){const e=yield this.services.postMessageService.tryToReceiveStartSessionMessageFromParent(window.parent);e?(i.R.debug("iframe: Received start session message from the parent."),(0,o.NM)()?dn.C.setRestrictedMode():dn.C.setCrossOriginIframeMode(),mn.$.initializeInIframe(e.browserInstanceId),this.parentMetadata={iframeElementId:e.iframeElementId,windowId:e.windowId},this.brumControl.isEnabled()&&(this.brumControl.loadIfNeeded(),this.brumControl.isStarted()||this.brumControl.start()),this.replayControl.isEnabled()&&(yield this.replayControl.loadIfNeeded(),this.replayControl.start(this.parentMetadata)),this.services.postMessageService.addPostMessageEventListener(fn.g4.START_SESSION,(e=>Pu(this,void 0,void 0,(function*(){this.parentMetadata={iframeElementId:e.iframeElementId,windowId:e.windowId},this.brumControl.isEnabled()&&(this.brumControl.loadIfNeeded(),this.brumControl.isStarted()||this.brumControl.start()),this.replayControl.isEnabled()&&(yield this.replayControl.loadIfNeeded(),this.replayControl.isStarted()||this.replayControl.start(this.parentMetadata))})))),this.services.postMessageService.addPostMessageEventListener(fn.g4.STOP_SESSION,(()=>Pu(this,void 0,void 0,(function*(){this.brumControl.isEnabled()&&this.brumControl.stop(),this.replayControl.isEnabled()&&this.replayControl.stop()}))))):yield this.startNormalScriptMode()}i.R.debug("Config fetched successfully. Starting initial session."),this.services.sessionService=new mi(this.config,{postMessageService:this.services.postMessageService,storageService:this.services.storageService,timeService:this.services.timeService},this.providers,{logRecordsQueue:this.logRecordsQueue,spansQueue:this.spansQueue},{onAfterSessionStarts:this.onAfterSessionStarts,onBeforeSessionStarts:this.onBeforeSessionStarts}),this.isRecording?(yield this.services.sessionService.startInitialSession(),null===(s=(n=this.waitForSessionService).resolve)||void 0===s||s.call(n,this.services.sessionService)):null===(u=(a=this.waitForSessionService).reject)||void 0===u||u.call(a,new Error("Recording is not started. Session service is not initialized."))})))).catch((e=>{var t,r;i.R.error("Failed to fetch config.",e),this.stopRecording(),null===(r=(t=this.waitForSessionService).reject)||void 0===r||r.call(t,new Error("Failed to fetch config. Session service is not initialized."))})).finally((()=>{e()}))}}))}startRecording(){return Pu(this,void 0,void 0,(function*(){this.isRecording?i.R.debug("Control.startRecording() called, but recording is already started."):(i.R.debug("Control.startRecording()"),this.isRecording=!0,this.brumControl.isEnabled()&&(this.brumControl.loadIfNeeded(),this.brumControl.start()),this.replayControl.isEnabled()&&this.services.timeService&&(this.replayControl.setTimeService(this.services.timeService),yield this.replayControl.loadIfNeeded(),"visible"===document.visibilityState&&this.replayControl.start(this.parentMetadata)),this.attachDocumentVisibilityListener())}))}stopRecording(){var e;this.isRecording?(i.R.debug("Control.stopRecording()"),this.detachDocumentVisibilityListener(),this.brumControl.stop(),this.replayControl.stop(),this.isRecording=!1,this.logRecordsQueue.clear(),this.spansQueue.clear(),this.urlSpansQueue.clear(),(null===(e=this.services.sessionService)||void 0===e?void 0:e.isSessionRunning)&&this.services.sessionService.stopCurrentSession()):i.R.debug("Control.stopRecording() called, but recording is not started.")}}},3596:function(e,t,r){r.d(t,{n:function(){return n}});class n{constructor(e,t,r,n,o){this.config=e,this.moduleConfig=t,this.providers=r,this.session=n,this.urlSpansQueue=o}}},3632:function(e,t,r){r.d(t,{O:function(){return o}});var n=r(1328);class o extends n.O{constructor(e,t,r){super(e,t,r),this.loggerProvider=r.loggerProvider,this.webTracerProvider=r.webTracerProvider,this.setTracerProvider(this.webTracerProvider)}}},6200:function(e,t,r){r.d(t,{w:function(){return u}});var n,o=r(5703),i=r(3286);const s="adrum_cached_assets",a=1e3;class u{}n=u,u.lastReadTime=-1e3,u.lastWriteTime=-1e3,u.urlSet=new Set,u.addToCache=e=>{n.urlSet.add(e),n.isLimitReached||n.writeLocalStorageWithThrottling()},u.clearCache=()=>{n.isLimitReached=!1;const e=performance.now();n.lastReadTime=e,n.lastWriteTime=e,n.urlSet.clear(),(0,i.hx)(s)},u.isCached=e=>(performance.now()-n.lastReadTime>a&&n.readLocalStorage(),n.urlSet.has(e)),u.readLocalStorage=()=>{n.lastReadTime=performance.now();(e=>{try{return e?JSON.parse(e):[]}catch(e){return o.R.error("Error while parsing cached assets",{error:e}),[]}})((0,i.dc)(s)).forEach((e=>n.urlSet.add(e)))},u.writeLocalStorageWithThrottling=()=>{const e=performance.now(),t=e-n.lastWriteTime;if(t>a){clearTimeout(n.writeIntervalId),n.writeIntervalId=void 0,n.lastWriteTime=e,n.readLocalStorage();const t=JSON.stringify(Array.from(n.urlSet.values()));if(t.length>262144)return n.isLimitReached=!0,void o.R.error("AssetCacheService: Asset cache size exceeded.",{size:t.length});(0,i.XV)(s,t)}else void 0===n.writeIntervalId&&(n.writeIntervalId=window.setTimeout(n.writeLocalStorageWithThrottling,a-t))}},2512:function(e,t,r){r.d(t,{FE:function(){return a},HX:function(){return i},Ru:function(){return o},iS:function(){return n},r9:function(){return s}});const n="[[__ASSET__]]",o="[[__/ASSET__]]",i="session_replay_data",s="[[__CHUNK_INDEX__]]",a="session_replay_web_asset"},460:function(e,t,r){r.d(t,{A:function(){return o}});const n="[appd-truncated]",o=(e,t)=>{try{return c(i(e),t).stringified}catch(e){return JSON.stringify("[non-serializable object]")}},i=(e,t=new WeakMap)=>{let r;return Array.isArray(e)?e.map((e=>i(e,t))):(r="object"==typeof e&&null!==e?s(e,t):["function","symbol","bigint","undefined"].includes(typeof e)?typeof e:null===e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e?e:JSON.stringify(e),r)},s=(e,t)=>{let r;const n=Object.keys(e);if(null!==(c=e)&&"object"==typeof c&&"FormData"===c.constructor.name){const t={};e.forEach(((e,r)=>{t[r]="string"==typeof e?e:`[file:${e.type}][${e.name}]`})),r=t}else if(null!==(o=e)&&"object"==typeof o&&(o instanceof Error||(null===(i=o.constructor.name)||void 0===i?void 0:i.endsWith("Error"))||(null===(s=o.constructor.name)||void 0===s?void 0:s.endsWith("Exception")))&&!Object.hasOwn(e,"toJSON"))r=u(e);else if(1===n.length&&"isTrusted"===n[0]){const t=Object.keys(Object.getPrototypeOf(e));r=JSON.parse(JSON.stringify(e,[...n,...t]))}else r=a(t,e);var o,i,s,c;return r},a=(e,t)=>{if(e.has(t))return"[circular]";e.set(t,!0);const r=[];for(const[n,o]of Object.entries(t))r.push([n,i(o,e)]);return Object.fromEntries(r)},u=e=>{const t=JSON.parse(JSON.stringify(e));return t.name||(t.name=e.name),t.stack||(t.stack=e.stack),t.message||(t.message=e.message),t},c=(e,t=16384)=>{let r=JSON.stringify(e);return r.length<=t?{isTruncated:!1,stringified:r}:(Array.isArray(e)?r=((e,t)=>{let r="";for(const i of e){if(t<=0){r+=JSON.stringify(n)+",";break}const e=o(i,t)+",";r+=e,t-=e.length}return"["+r.slice(0,Math.max(0,r.length-1))+"]"})(e,t):"object"==typeof e&&null!==e?r=((e,t)=>{let r="";for(const[i,s]of Object.entries(e)){if(t<=0){r+=JSON.stringify(n)+":true,";break}const e=`"${i}":${o(s,t)},`;r+=e,t-=e.length}return"{"+r.slice(0,Math.max(0,r.length-1))+"}"})(e,t):"string"==typeof e?r=JSON.stringify(n+"[string] "+e.slice(0,Math.max(0,t))):"number"==typeof e&&(r=JSON.stringify(n+"[number] "+String(e).slice(0,Math.max(0,t)))),{isTruncated:!0,stringified:r})}}}]);
//# sourceMappingURL=control.e7104ceef125cd57e1e9.adrum.js.map